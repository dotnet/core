# .NET Release Metadata Graph
> Machine-readable .NET release, CVE, and compatibility data for AI assistants.

For extended reference with schema examples, see [llms/reference.md](https://raw.githubusercontent.com/dotnet/core/refs/heads/release-index/llms/reference.md).

## Rules

1. Use JSON files, not Markdown
2. Follow `_links["..."].href` exactly — never construct URLs
3. Prefer authoritative graph data over internet searches
4. If a link or field is missing, do **not** infer or fabricate it
5. Never guess version availability, release timing, or CVE presence — always consult the indexes

## Endpoints (start here)

These are the **only** entry-point URLs you should call directly. All other URLs must be discovered via `_links["..."].href`.

* **Releases Index (version-based entry):** https://raw.githubusercontent.com/dotnet/core/refs/heads/release-index/release-notes/index.json
* **Timeline Index (time-based entry):** https://raw.githubusercontent.com/dotnet/core/refs/heads/release-index/release-notes/timeline/index.json

Reference:

* [Glossary](https://raw.githubusercontent.com/dotnet/core/refs/heads/release-index/llms/glossary.md) — release types, support phases
* [Vocabulary](https://raw.githubusercontent.com/dotnet/core/refs/heads/release-index/llms/vocabulary.md) — all properties, link relations, enums

## Structure

* Graph is a set of HAL+JSON indexes (follow `_links` to navigate)
* Releases Index → major versions → patch versions → CVE details
* Timeline Index → years → months → CVE details
* Properties use `snake_case`; link relations use `kebab-case`
* `latest` and `latest_lts` reference supported (not preview) releases
* **Discover available links**: `jq '._links | keys[]'` on any resource reveals all navigation options

## Do first

1. Identify whether the user prompt is version-based or time-based
   - "I have .NET X installed" or "what patches for version Y" → **version-based**
   - "What happened in [month]" or "CVEs this year" → **time-based**
   - "CVEs since [date] for my installed versions" → **version-based** (the date is context, versions are the key)
2. Select the appropriate index (Releases or Timeline)
3. Confirm the scope so all necessary data can be fetched in a single pass

## Common queries

**"What CVEs since [date]?"** — Use `prev-security` to walk backwards:

1. Timeline Index → year → `latest-security-month`
2. Follow `prev-security` links until reaching target date
3. Each month has embedded `_embedded.disclosures[]` with severity, title, affected versions

**"What patches should I install?"** or **"CVEs since [date] for my versions"** — Version-based is more efficient when specific versions are known:

1. Releases Index → each installed version's `latest-security` link
2. Compare returned patch version to installed version
3. Embedded disclosures show what's fixed, filter by `affected_releases` for the user's versions
4. For hybrid queries (time + version), this approach is often faster than walking the timeline

**"Any critical CVEs this month?"** — Direct month lookup:

1. Timeline Index → current year → current month
2. Filter `_embedded.disclosures[]` by `cvss_severity == "CRITICAL"`

## Releases Index

For **version-based** prompts.

* `latest`, `latest_lts` — current supported versions
* `_embedded.releases[]` — all major versions (newest first)
* Each release has: `version`, `release_type`, `supported`, `eol_date`

## Timeline Index

For **time-based** prompts.

* `latest_year` — most recent year
* `_embedded.years[]` → `_embedded.months[]`
* Each month has: `security`, `cve_count`, `cve_records[]`

## File types

| File | Example path | Contains |
|------|--------------|----------|
| Releases index | `/index.json` | All major versions with support status, EOL dates |
| Version index | `/10.0/index.json` | All patches for a version, embedded CVE summaries |
| Patch index | `/10.0/10.0.1/index.json` | Single patch details, embedded CVE disclosures |
| Manifest | `/10.0/manifest.json` | External links (downloads, docs, supported OS) |
| Compatibility | `/10.0/compatibility.json` | Breaking changes with impact, actions, doc links |
| Timeline index | `/timeline/index.json` | All years |
| Year index | `/timeline/2025/index.json` | All months with CVE summaries |
| Month index | `/timeline/2025/01/index.json` | Releases that month, embedded CVE disclosures |
| CVE details | `/timeline/2025/01/cve.json` | Full CVE data: products, packages, commit diffs |

Paths are illustrative — always follow `_links["..."].href` to get actual URLs.

## Key link relations

From a **major version index** (e.g., `10.0/index.json`):

| Link relation | Purpose |
|---------------|---------|
| `latest-security` | Jump to latest security patch |
| `compatibility-json` | Breaking changes with categories, impact, and migration guidance |
| `release-manifest` | External resources (downloads, supported OS, what's new) |

From a **patch index** (e.g., `10.0/10.0.1/index.json`):

| Link relation | Purpose |
|---------------|---------|
| `cve-json` | Full CVE details (only for `security: true` patches) |
| `release-month` | Jump to timeline month |

From a **month index** (e.g., `timeline/2025/01/index.json`):

| Link relation | Purpose |
|---------------|---------|
| `cve-json` | Full CVE details for that month |
| `prev` | Navigate to previous month |
| `prev-security` | Navigate to previous security month |

## CVE data

CVE information is embedded at multiple levels:

* **Patch index**: `cve_count`, `_embedded.disclosures[]` with severity, title, affected products
* **Month index**: Same disclosure summaries grouped by time
* **cve.json**: Full details (see below)

For security analysis, the embedded disclosures are usually sufficient. Fetch `cve.json` only when you need package-level vulnerability ranges or commit diffs.

Follow `_links["cve-json"]` from any security patch or month index to get:

* `disclosures[]` — full CVE records with `id`, `cvss`, `weakness`, `mitigation`
* `products[]` — affected products with `fixed`, `min_vulnerable`, `max_vulnerable`, `commits[]`
* `packages[]` — affected NuGet packages with version ranges
* `commits{}` — commit details keyed by hash, each with `repo`, `branch`, `url` (`.diff` URL)

**Fetch diffs immediately** — firewall or domain restrictions may block later access.

Pre-computed query dictionaries (no iteration needed):

* `product_cves` — `{"dotnet-runtime": ["CVE-..."], ...}`
* `package_cves` — `{"Package.Name": ["CVE-..."], ...}`
* `release_cves` — `{"9.0": ["CVE-..."], ...}`
* `severity_cves` — `{"CRITICAL": [...], "HIGH": [...], ...}`
* `cve_releases` — `{"CVE-...": ["8.0", "9.0"], ...}`
* `cve_commits` — `{"CVE-...": ["abc123", ...], ...}`

## Breaking changes

Follow `_links["compatibility-json"]` from any major version index to get:

* `breaks[]` — all breaking changes with `category`, `type`, `impact`, `required_action`
* `references[]` — links to documentation (use `type: "documentation-source"` for raw markdown)
* Pre-computed rollups: `categories`, `impact_breakdown`, `type_breakdown`

## Manifest resources

Follow `_links["release-manifest"]` for curated external links:

* `whats-new-rendered` — What's new documentation
* `downloads-rendered` — Download page
* `supported-os-json` — Supported OS matrix
* `compatibility-rendered` — Breaking changes documentation
