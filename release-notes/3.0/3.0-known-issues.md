# .NET Core 3.0 Known Issues

This document lists known issues for **.NET Core 3.0 GA and beyond releases** which may be encountered during usage.

## .NET Core

### .NET Core 3.0 SDK, all releases

- **`PATH` intermittently not updated when installing on MacOS ([core-sdk/3331](https://github.com/dotnet/core-sdk/issues/3331))**

    There are some situations, which we do not yet understand, where PATH is not properly updated after installing the .NET Core SDK on MacOS. The result is a `dotnet: command not found` error reported in the terminal when attempting to run a `dotnet` command.

    The PATH issue can be confirmed by typing `echo $PATH | grep "dotnet"` and observing if `dotnet` is shown in the output. If `/usr/local/share/dotnet` is not present in PATH, it can be added for the current terminal session with `export PATH = $PATH:/usr/local/share/dotnet`.

    To update the path for every new terminal session, the `export` entry will need to be added to your terminal resource file. This file will be different depending upon your default terminal (eg bash, zsh, ...) and configuration (.bash_profile, .bashrc, .zshrc, ...).

### Preview 9

- **Misnamed or colliding non-resx resources ([microsoft/msbuild#4740](https://github.com/microsoft/msbuild/issues/4740))**

    Projects that specify non-resx `EmbeddedResource`s may have the resources embedded under an incorrect name (causing code that uses the correct name to fail at runtime). If two or more files are embedded in this way, `CS1508: The resource identifier ... has already been used in this assembly` may be issued at build time.
    
    This can be worked around with a property in the project file
    
    ```xml
    <PropertyGroup>
        <!-- Work around https://github.com/microsoft/msbuild/issues/4740 -->
        <EmbeddedResourceUseDependentUponConvention>false</EmbeddedResourceUseDependentUponConvention>
    </PropertyGroup>
    ```

- **Builds fail with `MSB3041` when a `.resx` file is in a subfolder [microsoft/msbuild#4695](https://github.com/microsoft/msbuild/issues/4695)**

    MSBuild incorrectly constructs paths to `DependentUpon` source files related to `.resx` files that aren't at the project root. There is a workaround:
    
    Explicitly set `DependentUpon` metadata for resource files ([example for Entity Framework migrations](https://github.com/aspnet/EntityFramework6/issues/1225#issuecomment-528571274)).

### Preview 5

- **Visual style in WinForms app not showing correctly when publishing with PublishReadyToRun=true**

    The ReadyToRun compiler in this preview does not copy Win32 resources from the managed assembly to the compiled output binary, which causes an issue with visual styles in WinForms apps. The workaround is to skip compilation of System.Windows.Forms.dll by adding the following to the project file:
    ```xml
    <ItemGroup>
      <PublishReadyToRunExclude Include="System.Windows.Forms.dll" />            
    </ItemGroup>
    ```    

## ASP.NET Core

### 3.0.0 GA
    
- **gRPC runtime files may not be deployed on publish**

    It is possible that some gRPC runtime files (PDBs) will not be deployed when publishing your application.
    
    This can be fixed by updating your package reference to `Grpc.AspNetCore` to `2.23.2` (or greater) in the project file:
    
    ```xml
    <ItemGroup>
      <PackageReference Include="Grpc.AspNetCore" Version="2.23.2" />
    </ItemGroup>
    ```
