# Microsoft.EntityFrameworkCore.Metadata.Internal

``` diff
 namespace Microsoft.EntityFrameworkCore.Metadata.Internal {
-    public static class AnnotatableExtensions {
 {
-        public static string AnnotationsToDebugString(this IAnnotatable annotatable, string indent = "");

-    }
+    public class CheckConstraint : ICheckConstraint, IConventionCheckConstraint {
+        public CheckConstraint(IMutableEntityType entityType, string name, string sql, ConfigurationSource configurationSource);
+        public virtual IEntityType EntityType { get; }
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionCheckConstraint.EntityType { get; }
+        public virtual string Name { get; }
+        public virtual string Sql { get; }
+        public static ICheckConstraint FindCheckConstraint(IEntityType entityType, string name);
+        public static IEnumerable<CheckConstraint> GetCheckConstraints(IEntityType entityType);
+        public virtual ConfigurationSource GetConfigurationSource();
+        public static bool RemoveCheckConstraint(IMutableEntityType entityType, string name);
+        public virtual void UpdateConfigurationSource(ConfigurationSource configurationSource);
+    }
     public abstract class ClrAccessorFactory<TAccessor> where TAccessor : class {
-        public virtual TAccessor Create(IPropertyBase property);
+        public abstract TAccessor Create(IPropertyBase property);
+        public virtual TAccessor Create(MemberInfo memberInfo);
+        protected virtual TAccessor Create(MemberInfo memberInfo, IPropertyBase propertyBase);
-        public virtual TAccessor Create(PropertyInfo propertyInfo);

+        protected abstract TAccessor CreateGeneric<TEntity, TValue, TNonNullableEnumValue>(MemberInfo memberInfo, IPropertyBase propertyBase) where TEntity : class;
-        protected abstract TAccessor CreateGeneric<TEntity, TValue, TNonNullableEnumValue>(PropertyInfo propertyInfo, IPropertyBase propertyBase) where TEntity : class;

     }
     public class ClrCollectionAccessorFactory {
-        public virtual IClrCollectionAccessor Create(INavigation navigation);

+        public virtual IClrCollectionAccessor Create(INavigation navigation);
     }
-    public class ClrICollectionAccessor<TEntity, TCollection, TElement> : IClrCollectionAccessor where TEntity : class where TCollection : class, IEnumerable<TElement> {
+    public class ClrICollectionAccessor<TEntity, TCollection, TElement> : IClrCollectionAccessor where TEntity : class where TCollection : class, IEnumerable<TElement> where TElement : class {
+        public ClrICollectionAccessor(string propertyName, Func<TEntity, TCollection> getCollection, Action<TEntity, TCollection> setCollection, Action<TEntity, TCollection> setCollectionForMaterialization, Func<TEntity, Action<TEntity, TCollection>, TCollection> createAndSetCollection, Func<TCollection> createCollection);
-        public ClrICollectionAccessor(string propertyName, Func<TEntity, TCollection> getCollection, Action<TEntity, TCollection> setCollection, Func<TEntity, Action<TEntity, TCollection>, TCollection> createAndSetCollection, Func<TCollection> createCollection);

-        public virtual bool Add(object instance, object value);

+        public virtual bool Add(object entity, object value, bool forMaterialization);
-        public virtual void AddRange(object instance, IEnumerable<object> values);

-        public virtual bool Contains(object instance, object value);
+        public virtual bool Contains(object entity, object value);
-        public virtual object Create(IEnumerable<object> values);

-        public virtual object GetOrCreate(object instance);

+        public virtual object GetOrCreate(object entity, bool forMaterialization);
-        public virtual void Remove(object instance, object value);

+        public virtual bool Remove(object entity, object value);
     }
     public sealed class ClrPropertyGetter<TEntity, TValue> : IClrPropertyGetter where TEntity : class {
-        public object GetClrValue(object instance);
+        public object GetClrValue(object entity);
-        public bool HasDefaultValue(object instance);
+        public bool HasDefaultValue(object entity);
     }
     public class ClrPropertyGetterFactory : ClrAccessorFactory<IClrPropertyGetter> {
+        public override IClrPropertyGetter Create(IPropertyBase property);
+        protected override IClrPropertyGetter CreateGeneric<TEntity, TValue, TNonNullableEnumValue>(MemberInfo memberInfo, IPropertyBase propertyBase);
-        protected override IClrPropertyGetter CreateGeneric<TEntity, TValue, TNonNullableEnumValue>(PropertyInfo propertyInfo, IPropertyBase propertyBase);

     }
+    public class ClrPropertyMaterializationSetterFactory : ClrPropertySetterFactory {
+        public ClrPropertyMaterializationSetterFactory();
+        public override IClrPropertySetter Create(IPropertyBase property);
+    }
     public class ClrPropertySetterFactory : ClrAccessorFactory<IClrPropertySetter> {
+        public override IClrPropertySetter Create(IPropertyBase property);
+        protected override IClrPropertySetter CreateGeneric<TEntity, TValue, TNonNullableEnumValue>(MemberInfo memberInfo, IPropertyBase propertyBase);
-        protected override IClrPropertySetter CreateGeneric<TEntity, TValue, TNonNullableEnumValue>(PropertyInfo propertyInfo, IPropertyBase propertyBase);

     }
-    public enum ConfigurationSource {
 {
-        Convention = 2,

-        DataAnnotation = 1,

-        Explicit = 0,

-    }
     public static class ConfigurationSourceExtensions {
+        public static ConfigurationSource Max(this ConfigurationSource left, Nullable<ConfigurationSource> right);
-        public static ConfigurationSource Max(this ConfigurationSource left, ConfigurationSource? right);

+        public static Nullable<ConfigurationSource> Max(this Nullable<ConfigurationSource> left, Nullable<ConfigurationSource> right);
-        public static ConfigurationSource? Max(this ConfigurationSource? left, ConfigurationSource? right);

-        public static bool Overrides(this ConfigurationSource newConfigurationSource, ConfigurationSource? oldConfigurationSource);

-        public static bool Overrides(this ConfigurationSource? newConfigurationSource, ConfigurationSource? oldConfigurationSource);

-        public static bool OverridesStrictly(this ConfigurationSource newConfigurationSource, ConfigurationSource? oldConfigurationSource);

-        public static bool OverridesStrictly(this ConfigurationSource? newConfigurationSource, ConfigurationSource? oldConfigurationSource);

     }
-    public static class ConstraintNamer {
 {
-        public static string GetDefaultName(IForeignKey foreignKey);

-        public static string GetDefaultName(IIndex index);

-        public static string GetDefaultName(IKey key);

-        public static string GetDefaultName(IProperty property);

-        public static string Truncate(string name, int? uniquifier, int maxLength);

-    }
-    public abstract class ConstructorBinding {
 {
-        protected ConstructorBinding(IReadOnlyList<ParameterBinding> parameterBindings);

-        public virtual IReadOnlyList<ParameterBinding> ParameterBindings { get; }

-        public abstract Type RuntimeType { get; }

-        public abstract Expression CreateConstructorExpression(ParameterBindingInfo bindingInfo);

-    }
     public class ConstructorBindingFactory : IConstructorBindingFactory {
-        public ConstructorBindingFactory(IPropertyParameterBindingFactory propertyFactory, IParameterBindingFactories factories);

+        public ConstructorBindingFactory(IPropertyParameterBindingFactory propertyFactory, IParameterBindingFactories factories);
+        public virtual bool TryBindConstructor(IConventionEntityType entityType, ConstructorInfo constructor, out InstantiationBinding binding, out IEnumerable<ParameterInfo> unboundParameters);
+        public virtual bool TryBindConstructor(IMutableEntityType entityType, ConstructorInfo constructor, out InstantiationBinding binding, out IEnumerable<ParameterInfo> unboundParameters);
-        public virtual bool TryBindConstructor(IMutableEntityType entityType, ConstructorInfo constructor, out ConstructorBinding binding, out IEnumerable<ParameterInfo> failedBindings);

     }
-    public class ContextParameterBinding : ServiceParameterBinding {
 {
-        public ContextParameterBinding(Type contextType, IPropertyBase consumedProperty = null);

-        public override Expression BindToParameter(Expression materializationExpression, Expression entityTypeExpression, Expression entityExpression);

-    }
     public class ContextParameterBindingFactory : IParameterBindingFactory {
+        public virtual ParameterBinding Bind(IConventionEntityType entityType, Type parameterType, string parameterName);
-        public virtual ParameterBinding Bind(IMutableEntityType entityType, Type parameterType, string parameterName);

+        public virtual ParameterBinding Bind(IMutableEntityType entityType, Type parameterType, string parameterName);
     }
-    public class ConventionalAnnotatable : Annotatable {
 {
-        public ConventionalAnnotatable();

-        public virtual new ConventionalAnnotation AddAnnotation(string name, object value);

-        public virtual ConventionalAnnotation AddAnnotation(string name, object value, ConfigurationSource configurationSource);

-        protected override Annotation CreateAnnotation(string name, object value);

-        public virtual new ConventionalAnnotation FindAnnotation(string name);

-        public virtual new IEnumerable<ConventionalAnnotation> GetAnnotations();

-        public virtual new ConventionalAnnotation GetOrAddAnnotation(string name, object value);

-        public virtual new ConventionalAnnotation RemoveAnnotation(string name);

-        public virtual ConventionalAnnotation SetAnnotation(string name, object value, ConfigurationSource configurationSource);

-    }
-    public class ConventionalAnnotation : Annotation {
 {
-        public ConventionalAnnotation(string name, object value, ConfigurationSource configurationSource);

-        public virtual ConfigurationSource GetConfigurationSource();

-        public virtual ConfigurationSource UpdateConfigurationSource(ConfigurationSource configurationSource);

-    }
+    public abstract class ConventionAnnotatable : Annotatable, IAnnotatable, IConventionAnnotatable {
+        protected ConventionAnnotatable();
+        public virtual ConventionAnnotation AddAnnotation(string name, object value, ConfigurationSource configurationSource);
+        protected override Annotation CreateAnnotation(string name, object value);
+        public virtual new ConventionAnnotation FindAnnotation(string name);
+        public virtual new IEnumerable<ConventionAnnotation> GetAnnotations();
+        IConventionAnnotation Microsoft.EntityFrameworkCore.Metadata.IConventionAnnotatable.AddAnnotation(string name, object value, bool fromDataAnnotation);
+        IConventionAnnotation Microsoft.EntityFrameworkCore.Metadata.IConventionAnnotatable.FindAnnotation(string name);
+        IEnumerable<IConventionAnnotation> Microsoft.EntityFrameworkCore.Metadata.IConventionAnnotatable.GetAnnotations();
+        IConventionAnnotation Microsoft.EntityFrameworkCore.Metadata.IConventionAnnotatable.RemoveAnnotation(string name);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionAnnotatable.SetAnnotation(string name, object value, bool fromDataAnnotation);
+        protected override Annotation OnAnnotationSet(string name, Annotation annotation, Annotation oldAnnotation);
+        protected virtual IConventionAnnotation OnAnnotationSet(string name, IConventionAnnotation annotation, IConventionAnnotation oldAnnotation);
+        public virtual new ConventionAnnotation RemoveAnnotation(string name);
+        public virtual ConventionAnnotation SetAnnotation(string name, object value, ConfigurationSource configurationSource);
+    }
+    public static class ConventionAnnotatableExtensions {
+        public static void SetOrRemoveAnnotation(this ConventionAnnotatable annotatable, string name, object value, ConfigurationSource configurationSource);
+    }
+    public class ConventionAnnotation : Annotation, IAnnotation, IConventionAnnotation {
+        public ConventionAnnotation(string name, object value, ConfigurationSource configurationSource);
+        public virtual ConfigurationSource GetConfigurationSource();
+        public virtual ConfigurationSource UpdateConfigurationSource(ConfigurationSource configurationSource);
+    }
     public static class CoreAnnotationNames {
+        public static readonly ISet<string> AllNames;
+        public const string AfterSaveBehavior = "AfterSaveBehavior";
+        public const string AmbiguousNavigations = "RelationshipDiscoveryConvention:AmbiguousNavigations";
+        public const string BeforeSaveBehavior = "BeforeSaveBehavior";
+        public const string ChangeTrackingStrategy = "ChangeTrackingStrategy";
+        public const string DefiningQuery = "DefiningQuery";
+        public const string DiscriminatorProperty = "DiscriminatorProperty";
+        public const string DiscriminatorValue = "DiscriminatorValue";
+        public const string DuplicateServiceProperties = "ServicePropertyDiscoveryConvention:DuplicateServiceProperties";
+        public const string EagerLoaded = "EagerLoaded";
+        public const string InverseNavigations = "InversePropertyAttributeConvention:InverseNavigations";
+        public const string MaxLength = "MaxLength";
-        public const string MaxLengthAnnotation = "MaxLength";

+        public const string NavigationAccessMode = "NavigationAccessMode";
-        public const string NavigationAccessModeAnnotation = "NavigationAccessMode";

+        public const string NavigationCandidates = "RelationshipDiscoveryConvention:NavigationCandidates";
+        public const string OwnedTypes = "OwnedTypes";
-        public const string OwnedTypesAnnotation = "OwnedTypes";

+        public const string ProductVersion = "ProductVersion";
-        public const string ProductVersionAnnotation = "ProductVersion";

+        public const string PropertyAccessMode = "PropertyAccessMode";
-        public const string PropertyAccessModeAnnotation = "PropertyAccessMode";

+        public const string QueryFilter = "QueryFilter";
-        public const string TypeMapping = "Relational:TypeMapping";
+        public const string TypeMapping = "TypeMapping";
+        public const string Unicode = "Unicode";
-        public const string UnicodeAnnotation = "Unicode";

+        public const string ValueGeneratorFactory = "ValueGeneratorFactory";
-        public const string ValueGeneratorFactoryAnnotation = "ValueGeneratorFactory";

     }
-    public class DbFunction : IDbFunction, IMethodCallTranslator, IMutableDbFunction {
+    public class DbFunction : IConventionDbFunction, IDbFunction, IMutableDbFunction {
+        public DbFunction(MethodInfo methodInfo, IMutableModel model, ConfigurationSource configurationSource);
+        public virtual IConventionDbFunctionBuilder Builder { get; }
-        public virtual string DefaultSchema { get; set; }

-        public virtual string FunctionName { get; set; }

+        IConventionModel Microsoft.EntityFrameworkCore.Metadata.IConventionDbFunction.Model { get; }
+        IReadOnlyList<IConventionDbFunctionParameter> Microsoft.EntityFrameworkCore.Metadata.IConventionDbFunction.Parameters { get; }
+        IModel Microsoft.EntityFrameworkCore.Metadata.IDbFunction.Model { get; }
+        IMutableModel Microsoft.EntityFrameworkCore.Metadata.IMutableDbFunction.Model { get; }
+        public virtual string Name { get; set; }
+        public virtual IReadOnlyList<IDbFunctionParameter> Parameters { get; }
+        public virtual string StoreType { get; set; }
-        public virtual Func<IReadOnlyCollection<Expression>, Expression> Translation { get; set; }
+        public virtual Func<IReadOnlyCollection<SqlExpression>, SqlExpression> Translation { get; set; }
+        public virtual RelationalTypeMapping TypeMapping { get; set; }
+        public static DbFunction FindDbFunction(IModel model, MethodInfo methodInfo);
-        public static DbFunction FindDbFunction(IModel model, string annotationPrefix, MethodInfo methodInfo);

+        public virtual ConfigurationSource GetConfigurationSource();
-        public static IEnumerable<IDbFunction> GetDbFunctions(IModel model, string annotationPrefix);

+        public static IEnumerable<DbFunction> GetDbFunctions(Model model);
-        public virtual ConfigurationSource? GetNameConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetNameConfigurationSource();
-        public static DbFunction GetOrAddDbFunction(IMutableModel model, MethodInfo methodInfo, string annotationPrefix);

-        public virtual ConfigurationSource? GetSchemaConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetSchemaConfigurationSource();
+        public virtual Nullable<ConfigurationSource> GetStoreTypeConfigurationSource();
+        public virtual Nullable<ConfigurationSource> GetTranslationConfigurationSource();
+        public virtual Nullable<ConfigurationSource> GetTypeMappingConfigurationSource();
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionDbFunction.SetName(string name, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionDbFunction.SetSchema(string schema, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionDbFunction.SetStoreType(string storeType, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionDbFunction.SetTranslation(Func<IReadOnlyCollection<SqlExpression>, SqlExpression> translation, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionDbFunction.SetTypeMapping(RelationalTypeMapping returnTypeMapping, bool fromDataAnnotation);
-        Expression Microsoft.EntityFrameworkCore.Query.ExpressionTranslators.IMethodCallTranslator.Translate(MethodCallExpression methodCallExpression);

+        public static DbFunction RemoveDbFunction(IMutableModel model, MethodInfo methodInfo);
-        public virtual void SetFunctionName(string functionName, ConfigurationSource configurationSource);

+        public virtual void SetName(string name, ConfigurationSource configurationSource);
+        public virtual void SetSchema(string schema, ConfigurationSource configurationSource);
-        public virtual void SetSchema(string schema, ConfigurationSource configurationSource);

+        public virtual void SetStoreType(string storeType, ConfigurationSource configurationSource);
+        public virtual void SetTranslation(Func<IReadOnlyCollection<SqlExpression>, SqlExpression> translation, ConfigurationSource configurationSource);
+        public virtual void SetTypeMapping(RelationalTypeMapping typeMapping, ConfigurationSource configurationSource);
+        public virtual void UpdateConfigurationSource(ConfigurationSource configurationSource);
     }
+    public class DbFunctionParameter : IConventionDbFunctionParameter, IDbFunctionParameter, IMutableDbFunctionParameter {
+        public DbFunctionParameter(IMutableDbFunction function, string name, Type clrType);
+        public virtual IConventionDbFunctionParameterBuilder Builder { get; }
+        IConventionDbFunction Microsoft.EntityFrameworkCore.Metadata.IConventionDbFunctionParameter.Function { get; }
+        Type Microsoft.EntityFrameworkCore.Metadata.IDbFunctionParameter.ClrType { get; }
+        IDbFunction Microsoft.EntityFrameworkCore.Metadata.IDbFunctionParameter.Function { get; }
+        string Microsoft.EntityFrameworkCore.Metadata.IDbFunctionParameter.Name { get; }
+        IMutableDbFunction Microsoft.EntityFrameworkCore.Metadata.IMutableDbFunctionParameter.Function { get; }
+        public virtual string StoreType { get; set; }
+        public virtual RelationalTypeMapping TypeMapping { get; set; }
+        public virtual Nullable<ConfigurationSource> GetStoreTypeConfigurationSource();
+        public virtual Nullable<ConfigurationSource> GetTypeMappingConfigurationSource();
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionDbFunctionParameter.SetStoreType(string storeType, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionDbFunctionParameter.SetTypeMapping(RelationalTypeMapping typeMapping, bool fromDataAnnotation);
+        public virtual void SetStoreType(string storeType, ConfigurationSource configurationSource);
+        public virtual void SetTypeMapping(RelationalTypeMapping typeMapping, ConfigurationSource configurationSource);
+    }
-    public class DefaultServiceParameterBinding : ServiceParameterBinding {
 {
-        public DefaultServiceParameterBinding(Type parameterType, Type serviceType, IPropertyBase consumedProperty = null);

-        public override Expression BindToParameter(Expression materializationExpression, Expression entityTypeExpression, Expression entityExpression);

-    }
-    public class DirectConstructorBinding : ConstructorBinding {
 {
-        public DirectConstructorBinding(ConstructorInfo constructor, IReadOnlyList<ParameterBinding> parameterBindings);

-        public virtual ConstructorInfo Constructor { get; }

-        public override Type RuntimeType { get; }

-        public override Expression CreateConstructorExpression(ParameterBindingInfo bindingInfo);

-    }
-    public class EntityMaterializerSource : IEntityMaterializerSource {
 {
-        public static readonly MethodInfo TryReadValueMethod;

-        public EntityMaterializerSource();

-        public virtual Expression CreateMaterializeExpression(IEntityType entityType, Expression materializationExpression, int[] indexMap = null);

-        public virtual Expression CreateReadValueCallExpression(Expression valueBuffer, int index);

-        public virtual Expression CreateReadValueExpression(Expression valueBuffer, Type type, int index, IPropertyBase property);

-        public virtual Func<MaterializationContext, object> GetMaterializer(IEntityType entityType);

-    }
-    public class EntityType : TypeBase, IAnnotatable, IEntityType, IMutableAnnotatable, IMutableEntityType, IMutableTypeBase, ITypeBase {
+    public class EntityType : TypeBase, IAnnotatable, IConventionAnnotatable, IConventionEntityType, IConventionTypeBase, IEntityType, IMutableAnnotatable, IMutableEntityType, IMutableTypeBase, ITypeBase {
+        public EntityType(string name, Model model, ConfigurationSource configurationSource);
-        public EntityType(string name, Model model, ConfigurationSource configurationSource);

+        public EntityType(string name, Model model, string definingNavigationName, EntityType definingEntityType, ConfigurationSource configurationSource);
-        public EntityType(string name, Model model, string definingNavigationName, EntityType definingEntityType, ConfigurationSource configurationSource);

+        public EntityType(Type clrType, Model model, ConfigurationSource configurationSource);
-        public EntityType(Type clrType, Model model, ConfigurationSource configurationSource);

+        public EntityType(Type clrType, Model model, string definingNavigationName, EntityType definingEntityType, ConfigurationSource configurationSource);
-        public EntityType(Type clrType, Model model, string definingNavigationName, EntityType definingEntityType, ConfigurationSource configurationSource);

-        public virtual ChangeTrackingStrategy ChangeTrackingStrategy { get; set; }

-        public virtual LambdaExpression DefiningQuery { get; set; }

+        public virtual bool IsKeyless { get; set; }
-        public virtual bool IsQueryType { get; set; }

+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.BaseType { get; }
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.Builder { get; }
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.DefiningEntityType { get; }
+        IConventionModel Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.Model { get; }
+        IMutableEntityType Microsoft.EntityFrameworkCore.Metadata.IMutableEntityType.DefiningEntityType { get; }
-        LambdaExpression Microsoft.EntityFrameworkCore.Metadata.IMutableEntityType.QueryFilter { get; set; }

-        public virtual LambdaExpression QueryFilter { get; set; }

+        public virtual Func<InternalEntityEntry, ISnapshot> SidecarValuesFactory { get; }
-        public virtual ForeignKey AddForeignKey(Property property, Key principalKey, EntityType principalEntityType, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual ForeignKey AddForeignKey(Property property, Key principalKey, EntityType principalEntityType, Nullable<ConfigurationSource> componentConfigurationSource, ConfigurationSource configurationSource);
+        public virtual ForeignKey AddForeignKey(IReadOnlyList<Property> properties, Key principalKey, EntityType principalEntityType, Nullable<ConfigurationSource> componentConfigurationSource, ConfigurationSource configurationSource);
-        public virtual ForeignKey AddForeignKey(IReadOnlyList<Property> properties, Key principalKey, EntityType principalEntityType, ConfigurationSource? configurationSource = 0);

+        public virtual Index AddIndex(Property property, ConfigurationSource configurationSource);
-        public virtual Index AddIndex(Property property, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual Index AddIndex(IReadOnlyList<Property> properties, ConfigurationSource configurationSource);
-        public virtual Index AddIndex(IReadOnlyList<Property> properties, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual Key AddKey(Property property, ConfigurationSource configurationSource);
-        public virtual Key AddKey(Property property, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual Key AddKey(IReadOnlyList<Property> properties, ConfigurationSource configurationSource);
-        public virtual Key AddKey(IReadOnlyList<Property> properties, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual Property AddProperty(MemberInfo memberInfo, ConfigurationSource configurationSource);
-        public virtual Property AddProperty(MemberInfo memberInfo, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual Property AddProperty(string name, ConfigurationSource configurationSource);
-        public virtual Property AddProperty(string name, Type propertyType = null, ConfigurationSource configurationSource = ConfigurationSource.Explicit, ConfigurationSource? typeConfigurationSource = 0);

+        public virtual Property AddProperty(string name, Type propertyType, Nullable<ConfigurationSource> typeConfigurationSource, ConfigurationSource configurationSource);
+        public virtual Property AddProperty(string name, Type propertyType, MemberInfo memberInfo, Nullable<ConfigurationSource> typeConfigurationSource, ConfigurationSource configurationSource);
+        public virtual ServiceProperty AddServiceProperty(MemberInfo memberInfo, ConfigurationSource configurationSource);
-        public virtual ServiceProperty AddServiceProperty(MemberInfo memberInfo, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual string CheckChangeTrackingStrategy(ChangeTrackingStrategy value);
+        public virtual void CheckDiscriminatorValue(IEntityType entityType, object value);
+        public virtual string CheckQueryFilter(LambdaExpression queryFilter);
-        public override void ClearCaches();

+        public virtual ForeignKey FindDeclaredOwnership();
+        public override Nullable<ConfigurationSource> FindIgnoredConfigurationSource(string name);
-        public override ConfigurationSource? FindIgnoredMemberConfigurationSource(string name);

+        public virtual ForeignKey FindOwnership();
+        public virtual IReadOnlyList<Property> FindProperties(IReadOnlyList<string> propertyNames);
-        public virtual Property FindProperty(PropertyInfo propertyInfo);

-        public virtual ConfigurationSource? GetBaseTypeConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetBaseTypeConfigurationSource();
-        public virtual IEnumerable<IDictionary<string, object>> GetData(bool providerValues = false);

-        public virtual IEnumerable<ForeignKey> GetDerivedForeignKeysInclusive();

-        public virtual IEnumerable<Index> GetDerivedIndexesInclusive();

-        public virtual IEnumerable<ForeignKey> GetDerivedReferencingForeignKeysInclusive();

+        public virtual Nullable<ConfigurationSource> GetIsKeylessConfigurationSource();
-        public virtual ForeignKey GetOrAddForeignKey(Property property, Key principalKey, EntityType principalEntityType);

-        public virtual ForeignKey GetOrAddForeignKey(IReadOnlyList<Property> properties, Key principalKey, EntityType principalEntityType);

-        public virtual Index GetOrAddIndex(Property property);

-        public virtual Index GetOrAddIndex(IReadOnlyList<Property> properties);

-        public virtual Key GetOrAddKey(Property property);

-        public virtual Key GetOrAddKey(IReadOnlyList<Property> properties);

-        public virtual Property GetOrAddProperty(PropertyInfo propertyInfo);

-        public virtual Property GetOrAddProperty(string name, Type propertyType);

-        public virtual ServiceProperty GetOrAddServiceProperty(MemberInfo memberInfo);

-        public virtual Key GetOrSetPrimaryKey(Property property);

-        public virtual Key GetOrSetPrimaryKey(IReadOnlyList<Property> properties);

-        public virtual ConfigurationSource? GetPrimaryKeyConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetPrimaryKeyConfigurationSource();
+        public virtual IEnumerable<IDictionary<string, object>> GetSeedData(bool providerValues = false);
+        public virtual void HasBaseType(EntityType newBaseType, ConfigurationSource configurationSource);
-        public virtual void HasBaseType(EntityType entityType, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual void HasNoKey(Nullable<bool> keyless, ConfigurationSource configurationSource);
+        IConventionForeignKey Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.AddForeignKey(IReadOnlyList<IConventionProperty> properties, IConventionKey principalKey, IConventionEntityType principalEntityType, bool setComponentConfigurationSource, bool fromDataAnnotation);
+        IConventionIndex Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.AddIndex(IReadOnlyList<IConventionProperty> properties, bool fromDataAnnotation);
+        IConventionKey Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.AddKey(IReadOnlyList<IConventionProperty> properties, bool fromDataAnnotation);
+        IConventionProperty Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.AddProperty(string name, Type propertyType, MemberInfo memberInfo, bool setTypeConfigurationSource, bool fromDataAnnotation);
+        IConventionServiceProperty Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.AddServiceProperty(MemberInfo memberInfo, bool fromDataAnnotation);
+        IConventionForeignKey Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.FindForeignKey(IReadOnlyList<IProperty> properties, IKey principalKey, IEntityType principalEntityType);
+        IConventionIndex Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.FindIndex(IReadOnlyList<IProperty> properties);
+        IConventionKey Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.FindKey(IReadOnlyList<IProperty> properties);
+        IConventionKey Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.FindPrimaryKey();
+        IConventionProperty Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.FindProperty(string name);
+        IConventionServiceProperty Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.FindServiceProperty(string name);
+        IEnumerable<IConventionForeignKey> Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.GetForeignKeys();
+        IEnumerable<IConventionIndex> Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.GetIndexes();
+        IEnumerable<IConventionKey> Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.GetKeys();
+        IEnumerable<IConventionProperty> Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.GetProperties();
+        IEnumerable<IConventionServiceProperty> Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.GetServiceProperties();
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.HasBaseType(IConventionEntityType entityType, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.HasNoKey(Nullable<bool> keyless, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.RemoveForeignKey(IConventionForeignKey foreignKey);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.RemoveIndex(IConventionIndex index);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.RemoveKey(IConventionKey key);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.RemoveProperty(IConventionProperty property);
+        IConventionServiceProperty Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.RemoveServiceProperty(string name);
+        IConventionKey Microsoft.EntityFrameworkCore.Metadata.IConventionEntityType.SetPrimaryKey(IReadOnlyList<IConventionProperty> properties, bool fromDataAnnotation);
-        IMutableProperty Microsoft.EntityFrameworkCore.Metadata.IMutableEntityType.AddProperty(string name, Type propertyType);

+        IMutableProperty Microsoft.EntityFrameworkCore.Metadata.IMutableEntityType.AddProperty(string name, Type propertyType, MemberInfo memberInfo);
+        void Microsoft.EntityFrameworkCore.Metadata.IMutableEntityType.RemoveForeignKey(IMutableForeignKey foreignKey);
-        IMutableForeignKey Microsoft.EntityFrameworkCore.Metadata.IMutableEntityType.RemoveForeignKey(IReadOnlyList<IProperty> properties, IKey principalKey, IEntityType principalEntityType);

+        void Microsoft.EntityFrameworkCore.Metadata.IMutableEntityType.RemoveIndex(IMutableIndex index);
-        IMutableIndex Microsoft.EntityFrameworkCore.Metadata.IMutableEntityType.RemoveIndex(IReadOnlyList<IProperty> properties);

+        void Microsoft.EntityFrameworkCore.Metadata.IMutableEntityType.RemoveKey(IMutableKey key);
-        IMutableKey Microsoft.EntityFrameworkCore.Metadata.IMutableEntityType.RemoveKey(IReadOnlyList<IProperty> properties);

+        void Microsoft.EntityFrameworkCore.Metadata.IMutableEntityType.RemoveProperty(IMutableProperty property);
-        IMutableProperty Microsoft.EntityFrameworkCore.Metadata.IMutableEntityType.RemoveProperty(string name);

-        protected override Annotation OnAnnotationSet(string name, Annotation annotation, Annotation oldAnnotation);

+        protected override IConventionAnnotation OnAnnotationSet(string name, IConventionAnnotation annotation, IConventionAnnotation oldAnnotation);
+        public virtual void OnForeignKeyUpdated(ForeignKey foreignKey);
+        public virtual void OnForeignKeyUpdating(ForeignKey foreignKey);
-        public override void PropertyMetadataChanged();

+        public virtual ForeignKey RemoveForeignKey(ForeignKey foreignKey);
+        public virtual Index RemoveIndex(Index index);
+        public virtual Key RemoveKey(Key key);
+        public virtual Property RemoveProperty(Property property);
+        public virtual void SetChangeTrackingStrategy(Nullable<ChangeTrackingStrategy> changeTrackingStrategy, ConfigurationSource configurationSource);
+        public virtual void SetDefiningQuery(LambdaExpression definingQuery, ConfigurationSource configurationSource);
+        public virtual void SetDiscriminatorProperty(IProperty property, ConfigurationSource configurationSource);
-        public virtual Key SetPrimaryKey(Property property);

+        public virtual Key SetPrimaryKey(Property property, ConfigurationSource configurationSource);
+        public virtual Key SetPrimaryKey(IReadOnlyList<Property> properties, ConfigurationSource configurationSource);
-        public virtual Key SetPrimaryKey(IReadOnlyList<Property> properties, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual void SetQueryFilter(LambdaExpression queryFilter, ConfigurationSource configurationSource);
+        public virtual void UpdateIsKeylessConfigurationSource(ConfigurationSource configurationSource);
         public class Snapshot {
+            public Snapshot(EntityType entityType, PropertiesSnapshot properties, List<InternalIndexBuilder> indexes, List<ValueTuple<InternalKeyBuilder, Nullable<ConfigurationSource>>> keys, List<RelationshipSnapshot> relationships);
-            public Snapshot(EntityType entityType, PropertiesSnapshot properties, List<InternalIndexBuilder> indexes, List<ValueTuple<InternalKeyBuilder, ConfigurationSource?>> keys, List<RelationshipSnapshot> relationships);

         }
     }
     public static class EntityTypeExtensions {
-        public static PropertyCounts CalculateCounts(this IEntityType entityType);

+        public static PropertyCounts CalculateCounts(this EntityType entityType);
-        public static string CheckChangeTrackingStrategy(this IEntityType entityType, ChangeTrackingStrategy value);

-        public static string DisplayName(this IEntityType type);

-        public static ForeignKey FindDeclaredOwnership(this EntityType entityType);

-        public static INavigation FindDefiningNavigation(this IEntityType entityType);

-        public static Navigation FindDefiningNavigation(this EntityType entityType);

-        public static IEnumerable<IProperty> FindDerivedProperties(this IEntityType entityType, string propertyName);

-        public static IForeignKey FindOwnership(this IEntityType entityType);

-        public static ForeignKey FindOwnership(this EntityType entityType);

+        public static IEnumerable<IEntityType> GetAllBaseTypesAscending(this IEntityType entityType);
-        public static IEnumerable<IEntityType> GetAllBaseTypesInclusive(this IEntityType entityType);

-        public static IEnumerable<IEntityType> GetConcreteTypesInHierarchy(this IEntityType entityType);

-        public static IEnumerable<IDictionary<string, object>> GetData(this IEntityType entityType, bool providerValues = false);

-        public static IEnumerable<IForeignKey> GetDeclaredForeignKeys(this IEntityType entityType);

-        public static IEnumerable<IIndex> GetDeclaredIndexes(this IEntityType entityType);

-        public static IEnumerable<IKey> GetDeclaredKeys(this IEntityType entityType);

-        public static IEnumerable<INavigation> GetDeclaredNavigations(this IEntityType entityType);

-        public static IEnumerable<IProperty> GetDeclaredProperties(this IEntityType entityType);

-        public static IEnumerable<IForeignKey> GetDeclaredReferencingForeignKeys(this IEntityType entityType);

-        public static IEnumerable<IServiceProperty> GetDeclaredServiceProperties(this IEntityType entityType);

-        public static IEnumerable<Navigation> GetDerivedNavigationsInclusive(this IEntityType entityType);

-        public static IEnumerable<IEntityType> GetDerivedTypesInclusive(this IEntityType entityType);

-        public static IEnumerable<IEntityType> GetDirectlyDerivedTypes(this IEntityType entityType);

+        public static MemberInfo GetNavigationMemberInfo(this IEntityType entityType, string navigationName);
-        public static Func<InternalEntityEntry, ISnapshot> GetOriginalValuesFactory(this IEntityType entityType);

-        public static Func<InternalEntityEntry, ISnapshot> GetRelationshipSnapshotFactory(this IEntityType entityType);

-        public static Func<ValueBuffer, ISnapshot> GetShadowValuesFactory(this IEntityType entityType);

+        public static IEnumerable<IEntityType> GetTypesInHierarchy(this IEntityType entityType);
+        public static bool IsInOwnershipPath(this IEntityType entityType, IEntityType targetType);
+        public static bool IsInOwnershipPath(this IEntityType entityType, Type targetType);
-        public static bool IsInOwnershipPath(this EntityType entityType, EntityType targetType);

-        public static bool IsInOwnershipPath(this EntityType entityType, Type targetType);

-        public static string ShortName(this IEntityType type);

     }
-    public class EntityTypeParameterBinding : ServiceParameterBinding {
 {
-        public EntityTypeParameterBinding(IPropertyBase consumedProperty = null);

-        public override Expression BindToParameter(Expression materializationExpression, Expression entityTypeExpression, Expression entityExpression);

-    }
     public class EntityTypeParameterBindingFactory : IParameterBindingFactory {
+        public virtual ParameterBinding Bind(IConventionEntityType entityType, Type parameterType, string parameterName);
-        public virtual ParameterBinding Bind(IMutableEntityType entityType, Type parameterType, string parameterName);

+        public virtual ParameterBinding Bind(IMutableEntityType entityType, Type parameterType, string parameterName);
     }
-    public class EntityTypePathComparer : IComparer<IEntityType> {
+    public class EntityTypePathComparer : IComparer<IEntityType>, IEqualityComparer<IEntityType> {
+        public bool Equals(IEntityType x, IEntityType y);
     }
-    public class FactoryMethodConstructorBinding : ConstructorBinding {
 {
-        public FactoryMethodConstructorBinding(object factoryInstance, MethodInfo factoryMethod, IReadOnlyList<ParameterBinding> parameterBindings, Type runtimeType);

-        public FactoryMethodConstructorBinding(MethodInfo factoryMethod, IReadOnlyList<ParameterBinding> parameterBindings, Type runtimeType);

-        public override Type RuntimeType { get; }

-        public override Expression CreateConstructorExpression(ParameterBindingInfo bindingInfo);

-    }
-    public class ForeignKey : ConventionalAnnotatable, IAnnotatable, IForeignKey, IMutableAnnotatable, IMutableForeignKey {
+    public class ForeignKey : ConventionAnnotatable, IAnnotatable, IConventionAnnotatable, IConventionForeignKey, IForeignKey, IMutableAnnotatable, IMutableForeignKey {
+        public ForeignKey(IReadOnlyList<Property> dependentProperties, Key principalKey, EntityType dependentEntityType, EntityType principalEntityType, ConfigurationSource configurationSource);
-        public ForeignKey(IReadOnlyList<Property> dependentProperties, Key principalKey, EntityType dependentEntityType, EntityType principalEntityType, ConfigurationSource configurationSource);

+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.Builder { get; }
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.DeclaringEntityType { get; }
+        IConventionNavigation Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.DependentToPrincipal { get; }
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.PrincipalEntityType { get; }
+        IConventionKey Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.PrincipalKey { get; }
+        IConventionNavigation Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.PrincipalToDependent { get; }
+        IReadOnlyList<IConventionProperty> Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.Properties { get; }
+        public static bool AreCompatible(EntityType principalEntityType, EntityType dependentEntityType, MemberInfo navigationToPrincipal, MemberInfo navigationToDependent, IReadOnlyList<Property> dependentProperties, IReadOnlyList<Property> principalProperties, Nullable<bool> unique, bool shouldThrow);
-        public static bool AreCompatible(EntityType principalEntityType, EntityType dependentEntityType, MemberInfo navigationToPrincipal, MemberInfo navigationToDependent, IReadOnlyList<Property> dependentProperties, IReadOnlyList<Property> principalProperties, bool? unique, bool? required, bool shouldThrow);

-        public static bool AreCompatible(IReadOnlyList<Property> principalProperties, IReadOnlyList<Property> dependentProperties, EntityType principalEntityType, EntityType dependentEntityType, bool shouldThrow);

+        public static bool AreCompatible(IReadOnlyList<IProperty> principalProperties, IReadOnlyList<IProperty> dependentProperties, IEntityType principalEntityType, IEntityType dependentEntityType, bool shouldThrow);
-        public static bool CanPropertiesBeRequired(IReadOnlyList<Property> properties, bool? required, EntityType entityType, bool shouldThrow);

-        public virtual IEnumerable<Navigation> FindNavigationsFrom(EntityType entityType);

-        public virtual IEnumerable<Navigation> FindNavigationsToInHierarchy(EntityType entityType);

-        public virtual ConfigurationSource GetConfigurationSource();

+        public virtual ConfigurationSource GetConfigurationSource();
-        public virtual ConfigurationSource? GetDeleteBehaviorConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetDeleteBehaviorConfigurationSource();
-        public virtual ConfigurationSource? GetDependentToPrincipalConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetDependentToPrincipalConfigurationSource();
-        public virtual ConfigurationSource? GetForeignKeyPropertiesConfigurationSource();

-        public virtual ConfigurationSource? GetIsOwnershipConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetIsOwnershipConfigurationSource();
-        public virtual ConfigurationSource? GetIsRequiredConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetIsRequiredConfigurationSource();
-        public virtual ConfigurationSource? GetIsUniqueConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetIsUniqueConfigurationSource();
-        public virtual ConfigurationSource? GetPrincipalEndConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetPrincipalEndConfigurationSource();
-        public virtual ConfigurationSource? GetPrincipalKeyConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetPrincipalKeyConfigurationSource();
-        public virtual ConfigurationSource? GetPrincipalToDependentConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetPrincipalToDependentConfigurationSource();
+        public virtual Nullable<ConfigurationSource> GetPropertiesConfigurationSource();
+        public virtual Navigation HasDependentToPrincipal(MemberInfo property, ConfigurationSource configurationSource);
-        public virtual Navigation HasDependentToPrincipal(MemberInfo property, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual Navigation HasDependentToPrincipal(string name, ConfigurationSource configurationSource);
-        public virtual Navigation HasDependentToPrincipal(string name, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual Navigation HasPrincipalToDependent(MemberInfo property, ConfigurationSource configurationSource);
-        public virtual Navigation HasPrincipalToDependent(MemberInfo property, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual Navigation HasPrincipalToDependent(string name, ConfigurationSource configurationSource);
-        public virtual Navigation HasPrincipalToDependent(string name, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        IConventionNavigation Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.HasDependentToPrincipal(MemberInfo property, bool fromDataAnnotation);
+        IConventionNavigation Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.HasDependentToPrincipal(string name, bool fromDataAnnotation);
+        IConventionNavigation Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.HasPrincipalToDependent(MemberInfo property, bool fromDataAnnotation);
+        IConventionNavigation Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.HasPrincipalToDependent(string name, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.SetDeleteBehavior(Nullable<DeleteBehavior> deleteBehavior, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.SetIsOwnership(Nullable<bool> ownership, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.SetIsRequired(Nullable<bool> required, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.SetIsUnique(Nullable<bool> unique, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionForeignKey.SetProperties(IReadOnlyList<IConventionProperty> properties, IConventionKey principalKey, bool fromDataAnnotation);
+        IMutableNavigation Microsoft.EntityFrameworkCore.Metadata.IMutableForeignKey.HasDependentToPrincipal(MemberInfo property);
-        IMutableNavigation Microsoft.EntityFrameworkCore.Metadata.IMutableForeignKey.HasDependentToPrincipal(PropertyInfo property);

+        IMutableNavigation Microsoft.EntityFrameworkCore.Metadata.IMutableForeignKey.HasPrincipalToDependent(MemberInfo property);
-        IMutableNavigation Microsoft.EntityFrameworkCore.Metadata.IMutableForeignKey.HasPrincipalToDependent(PropertyInfo property);

+        void Microsoft.EntityFrameworkCore.Metadata.IMutableForeignKey.SetProperties(IReadOnlyList<IMutableProperty> properties, IMutableKey principalKey);
+        protected override IConventionAnnotation OnAnnotationSet(string name, IConventionAnnotation annotation, IConventionAnnotation oldAnnotation);
-        public virtual EntityType ResolveEntityTypeInHierarchy(EntityType entityType);

-        public virtual EntityType ResolveOtherEntityTypeInHierarchy(EntityType entityType);

-        public virtual void SetDeleteBehavior(DeleteBehavior deleteBehavior, ConfigurationSource configurationSource);

+        public virtual ForeignKey SetDeleteBehavior(Nullable<DeleteBehavior> deleteBehavior, ConfigurationSource configurationSource);
-        public virtual ForeignKey SetIsOwnership(bool ownership, ConfigurationSource configurationSource);

+        public virtual ForeignKey SetIsOwnership(Nullable<bool> ownership, ConfigurationSource configurationSource);
-        public virtual void SetIsRequired(bool required, ConfigurationSource configurationSource);

+        public virtual ForeignKey SetIsRequired(Nullable<bool> required, ConfigurationSource configurationSource);
+        public virtual void SetIsRequiredConfigurationSource(Nullable<ConfigurationSource> configurationSource);
-        public virtual void SetIsRequiredConfigurationSource(ConfigurationSource? configurationSource);

-        public virtual ForeignKey SetIsUnique(bool unique, ConfigurationSource configurationSource);

+        public virtual ForeignKey SetIsUnique(Nullable<bool> unique, ConfigurationSource configurationSource);
+        public virtual void SetPrincipalEndConfigurationSource(Nullable<ConfigurationSource> configurationSource);
-        public virtual void SetPrincipalEndConfigurationSource(ConfigurationSource? configurationSource);

+        public virtual void SetProperties(IReadOnlyList<Property> properties, Key principalKey, Nullable<ConfigurationSource> configurationSource);
+        public virtual void UpdateConfigurationSource(ConfigurationSource configurationSource);
-        public virtual void UpdateConfigurationSource(ConfigurationSource configurationSource);

+        public virtual void UpdateDeleteBehaviorConfigurationSource(ConfigurationSource configurationSource);
-        public virtual void UpdateDeleteBehaviorConfigurationSource(ConfigurationSource configurationSource);

+        public virtual void UpdateDependentToPrincipalConfigurationSource(Nullable<ConfigurationSource> configurationSource);
-        public virtual void UpdateDependentToPrincipalConfigurationSource(ConfigurationSource? configurationSource);

-        public virtual void UpdateForeignKeyPropertiesConfigurationSource(ConfigurationSource configurationSource);

+        public virtual void UpdateIsOwnershipConfigurationSource(ConfigurationSource configurationSource);
-        public virtual void UpdateIsOwnershipConfigurationSource(ConfigurationSource configurationSource);

+        public virtual void UpdateIsRequiredConfigurationSource(ConfigurationSource configurationSource);
-        public virtual void UpdateIsRequiredConfigurationSource(ConfigurationSource configurationSource);

+        public virtual void UpdateIsUniqueConfigurationSource(ConfigurationSource configurationSource);
-        public virtual void UpdateIsUniqueConfigurationSource(ConfigurationSource configurationSource);

+        public virtual void UpdatePrincipalEndConfigurationSource(ConfigurationSource configurationSource);
-        public virtual void UpdatePrincipalEndConfigurationSource(ConfigurationSource configurationSource);

+        public virtual void UpdatePrincipalKeyConfigurationSource(ConfigurationSource configurationSource);
-        public virtual void UpdatePrincipalKeyConfigurationSource(ConfigurationSource configurationSource);

+        public virtual void UpdatePrincipalToDependentConfigurationSource(Nullable<ConfigurationSource> configurationSource);
-        public virtual void UpdatePrincipalToDependentConfigurationSource(ConfigurationSource? configurationSource);

+        public virtual void UpdatePropertiesConfigurationSource(ConfigurationSource configurationSource);
     }
     public static class ForeignKeyExtensions {
-        public static bool AreCompatible(this IForeignKey foreignKey, IForeignKey duplicateForeignKey, bool shouldThrow);

-        public static IEntityType ResolveOtherEntityType(this IForeignKey foreignKey, IEntityType entityType);

     }
-    public interface IClrCollectionAccessor {
 {
-        Type CollectionType { get; }

-        bool Add(object instance, object value);

-        void AddRange(object instance, IEnumerable<object> values);

-        bool Contains(object instance, object value);

-        object Create();

-        object Create(IEnumerable<object> values);

-        object GetOrCreate(object instance);

-        void Remove(object instance, object value);

-    }
-    public interface IClrPropertyGetter {
 {
-        object GetClrValue(object instance);

-        bool HasDefaultValue(object instance);

-    }
-    public interface IClrPropertySetter {
 {
-        void SetClrValue(object instance, object value);

-    }
-    public interface IConstructorBindingFactory {
 {
-        bool TryBindConstructor(IMutableEntityType entityType, ConstructorInfo constructor, out ConstructorBinding binding, out IEnumerable<ParameterInfo> failedBindings);

-    }
-    public interface IEntityMaterializerSource {
 {
-        Expression CreateMaterializeExpression(IEntityType entityType, Expression materializationExpression, int[] indexMap = null);

-        Expression CreateReadValueCallExpression(Expression valueBuffer, int index);

-        Expression CreateReadValueExpression(Expression valueBuffer, Type type, int index, IPropertyBase property);

-        Func<MaterializationContext, object> GetMaterializer(IEntityType entityType);

-    }
     public interface IMemberClassifier {
+        Type FindCandidateNavigationPropertyType(MemberInfo memberInfo);
-        Type FindCandidateNavigationPropertyType(PropertyInfo propertyInfo);

     }
-    public class Index : ConventionalAnnotatable, IAnnotatable, IIndex, IMutableAnnotatable, IMutableIndex {
+    public class Index : ConventionAnnotatable, IAnnotatable, IConventionAnnotatable, IConventionIndex, IIndex, IMutableAnnotatable, IMutableIndex {
+        public Index(IReadOnlyList<Property> properties, EntityType declaringEntityType, ConfigurationSource configurationSource);
-        public Index(IReadOnlyList<Property> properties, EntityType declaringEntityType, ConfigurationSource configurationSource);

+        IConventionIndexBuilder Microsoft.EntityFrameworkCore.Metadata.IConventionIndex.Builder { get; }
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionIndex.DeclaringEntityType { get; }
+        IReadOnlyList<IConventionProperty> Microsoft.EntityFrameworkCore.Metadata.IConventionIndex.Properties { get; }
-        public virtual ConfigurationSource GetConfigurationSource();

+        public virtual ConfigurationSource GetConfigurationSource();
-        public virtual ConfigurationSource? GetIsUniqueConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetIsUniqueConfigurationSource();
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionIndex.SetIsUnique(Nullable<bool> unique, bool fromDataAnnotation);
-        protected override Annotation OnAnnotationSet(string name, Annotation annotation, Annotation oldAnnotation);

+        protected override IConventionAnnotation OnAnnotationSet(string name, IConventionAnnotation annotation, IConventionAnnotation oldAnnotation);
-        public virtual void SetIsUnique(bool unique, ConfigurationSource configurationSource);

+        public virtual Index SetIsUnique(Nullable<bool> unique, ConfigurationSource configurationSource);
+        public virtual void UpdateConfigurationSource(ConfigurationSource configurationSource);
-        public virtual void UpdateConfigurationSource(ConfigurationSource configurationSource);

     }
     public static class IndexExtensions {
-        public static bool AreCompatible(this IIndex index, IIndex duplicateIndex, bool shouldThrow);

     }
+    public abstract class InternalAnnotatableBuilder : IConventionAnnotatableBuilder {
+        protected InternalAnnotatableBuilder(ConventionAnnotatable metadata);
+        public virtual ConventionAnnotatable Metadata { get; }
+        IConventionAnnotatable Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionAnnotatableBuilder.Metadata { get; }
+        IConventionModelBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionAnnotatableBuilder.ModelBuilder { get; }
+        public abstract InternalModelBuilder ModelBuilder { get; }
+        public virtual bool CanRemoveAnnotation(string name, ConfigurationSource configurationSource);
+        public virtual bool CanSetAnnotation(string name, object value, ConfigurationSource configurationSource);
+        public virtual InternalAnnotatableBuilder HasAnnotation(string name, object value, ConfigurationSource configurationSource);
+        public virtual void MergeAnnotationsFrom(ConventionAnnotatable annotatable);
+        public virtual void MergeAnnotationsFrom(ConventionAnnotatable annotatable, ConfigurationSource minimalConfigurationSource);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionAnnotatableBuilder.CanRemoveAnnotation(string name, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionAnnotatableBuilder.CanSetAnnotation(string name, object value, bool fromDataAnnotation);
+        IConventionAnnotatableBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionAnnotatableBuilder.HasAnnotation(string name, object value, bool fromDataAnnotation);
+        IConventionAnnotatableBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionAnnotatableBuilder.RemoveAnnotation(string name, bool fromDataAnnotation);
+        IConventionAnnotatableBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionAnnotatableBuilder.SetOrRemoveAnnotation(string name, object value, bool fromDataAnnotation);
+        public virtual InternalAnnotatableBuilder RemoveAnnotation(string name, ConfigurationSource configurationSource);
+        public virtual InternalAnnotatableBuilder SetOrRemoveAnnotation(string name, object value, ConfigurationSource configurationSource);
+    }
+    public abstract class InternalAnnotatableBuilder<TMetadata> : InternalAnnotatableBuilder where TMetadata : ConventionAnnotatable {
+        protected InternalAnnotatableBuilder(TMetadata metadata);
+        public virtual new TMetadata Metadata { get; }
+    }
-    public class InternalDbFunctionBuilder {
 {
-        public InternalDbFunctionBuilder(DbFunction function);

-        public virtual IMutableDbFunction Metadata { get; }

-        public virtual InternalDbFunctionBuilder HasName(string name, ConfigurationSource configurationSource);

-        public virtual InternalDbFunctionBuilder HasSchema(string schema, ConfigurationSource configurationSource);

-        public virtual InternalDbFunctionBuilder HasTranslation(Func<IReadOnlyCollection<Expression>, Expression> translation);

-    }
-    public class InternalEntityTypeBuilder : InternalMetadataItemBuilder<EntityType> {
+    public class InternalEntityTypeBuilder : InternalModelItemBuilder<EntityType>, IConventionAnnotatableBuilder, IConventionEntityTypeBuilder {
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.Metadata { get; }
+        public virtual bool CanAddNavigation(string navigationName, ConfigurationSource configurationSource);
-        public virtual bool CanAddNavigation(string navigationName, ConfigurationSource configurationSource);

-        public virtual bool CanAddOrReplaceNavigation(string navigationName, ConfigurationSource configurationSource);

+        public virtual bool CanIgnore(string name, ConfigurationSource configurationSource);
+        public virtual bool CanRemoveForeignKey(ForeignKey foreignKey, ConfigurationSource configurationSource);
-        public virtual bool CanRemoveForeignKey(ForeignKey foreignKey, ConfigurationSource configurationSource);

+        public virtual bool CanSetBaseType(EntityType baseEntityType, ConfigurationSource configurationSource);
+        public virtual bool CanSetChangeTrackingStrategy(Nullable<ChangeTrackingStrategy> changeTrackingStrategy, ConfigurationSource configurationSource);
+        public virtual bool CanSetDefiningQuery(LambdaExpression query, ConfigurationSource configurationSource);
+        public virtual bool CanSetPrimaryKey(IReadOnlyList<IConventionProperty> properties, ConfigurationSource configurationSource);
+        public virtual bool CanSetPropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, ConfigurationSource configurationSource);
+        public virtual bool CanSetQueryFilter(LambdaExpression filter, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder CreateForeignKey(InternalEntityTypeBuilder principalEntityTypeBuilder, IReadOnlyList<Property> dependentProperties, Key principalKey, string navigationToPrincipalName, Nullable<bool> isRequired, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder CreateForeignKey(InternalEntityTypeBuilder principalEntityTypeBuilder, IReadOnlyList<Property> dependentProperties, Key principalKey, string navigationToPrincipalName, bool? isRequired, ConfigurationSource configurationSource);

+        public virtual IReadOnlyList<Property> CreateUniqueProperties(IReadOnlyList<string> propertyNames, IReadOnlyList<Type> propertyTypes, bool isRequired);
+        public virtual Property CreateUniqueProperty(string propertyName, Type propertyType, bool isRequired);
-        public static List<ValueTuple<InternalKeyBuilder, ConfigurationSource?>> DetachKeys(IEnumerable<Key> keysToDetach);

+        public static List<ValueTuple<InternalKeyBuilder, Nullable<ConfigurationSource>>> DetachKeys(IEnumerable<Key> keysToDetach);
+        public static RelationshipSnapshot DetachRelationship(ForeignKey foreignKey, bool includeDefinedType);
+        public virtual DiscriminatorBuilder DiscriminatorBuilder(InternalPropertyBuilder discriminatorPropertyBuilder, ConfigurationSource configurationSource);
+        public virtual IReadOnlyList<Property> GetActualProperties(IReadOnlyList<Property> properties, Nullable<ConfigurationSource> configurationSource);
-        public virtual IReadOnlyList<Property> GetActualProperties(IReadOnlyList<Property> properties, ConfigurationSource? configurationSource);

+        public virtual InternalPropertyBuilder GetOrCreateDiscriminatorProperty(Type type, string name, bool fromDataAnnotation);
-        public virtual IReadOnlyList<Property> GetOrCreateProperties(IEnumerable<MemberInfo> clrProperties, ConfigurationSource configurationSource);

+        public virtual IReadOnlyList<Property> GetOrCreateProperties(IEnumerable<MemberInfo> clrMembers, Nullable<ConfigurationSource> configurationSource);
+        public virtual IReadOnlyList<Property> GetOrCreateProperties(IReadOnlyList<string> propertyNames, Nullable<ConfigurationSource> configurationSource, IReadOnlyList<Property> referencedProperties = null, bool required = false, bool useDefaultType = false);
-        public virtual IReadOnlyList<Property> GetOrCreateProperties(IReadOnlyList<string> propertyNames, ConfigurationSource? configurationSource, IReadOnlyList<Property> referencedProperties = null, bool required = false, bool useDefaultType = false);

+        public virtual InternalEntityTypeBuilder GetTargetEntityTypeBuilder(Type targetClrType, MemberInfo navigationInfo, Nullable<ConfigurationSource> configurationSource);
+        public virtual InternalEntityTypeBuilder HasBaseType(EntityType baseEntityType, ConfigurationSource configurationSource);
-        public virtual InternalEntityTypeBuilder HasBaseType(EntityType baseEntityType, ConfigurationSource configurationSource);

+        public virtual InternalEntityTypeBuilder HasBaseType(string baseEntityTypeName, ConfigurationSource configurationSource);
-        public virtual InternalEntityTypeBuilder HasBaseType(string baseEntityTypeName, ConfigurationSource configurationSource);

+        public virtual InternalEntityTypeBuilder HasBaseType(Type baseEntityType, ConfigurationSource configurationSource);
-        public virtual InternalEntityTypeBuilder HasBaseType(Type baseEntityType, ConfigurationSource configurationSource);

+        public virtual InternalEntityTypeBuilder HasChangeTrackingStrategy(Nullable<ChangeTrackingStrategy> changeTrackingStrategy, ConfigurationSource configurationSource);
-        public virtual void HasDefiningQuery(LambdaExpression query);

+        public virtual InternalEntityTypeBuilder HasDefiningQuery(LambdaExpression query, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder HasForeignKey(InternalEntityTypeBuilder principalEntityTypeBuilder, IReadOnlyList<Property> dependentProperties, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder HasForeignKey(InternalEntityTypeBuilder principalEntityTypeBuilder, IReadOnlyList<Property> dependentProperties, Key principalKey, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder HasForeignKey(string principalEntityTypeName, IReadOnlyList<string> propertyNames, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder HasForeignKey(string principalEntityTypeName, IReadOnlyList<string> propertyNames, Key principalKey, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder HasForeignKey(Type principalClrType, IReadOnlyList<PropertyInfo> clrProperties, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder HasForeignKey(Type principalClrType, IReadOnlyList<PropertyInfo> clrProperties, Key principalKey, ConfigurationSource configurationSource);

+        public virtual InternalIndexBuilder HasIndex(IReadOnlyList<Property> properties, ConfigurationSource configurationSource);
-        public virtual InternalIndexBuilder HasIndex(IReadOnlyList<Property> properties, ConfigurationSource configurationSource);

+        public virtual InternalIndexBuilder HasIndex(IReadOnlyList<MemberInfo> clrMembers, ConfigurationSource configurationSource);
-        public virtual InternalIndexBuilder HasIndex(IReadOnlyList<PropertyInfo> clrProperties, ConfigurationSource configurationSource);

+        public virtual InternalIndexBuilder HasIndex(IReadOnlyList<string> propertyNames, ConfigurationSource configurationSource);
-        public virtual InternalIndexBuilder HasIndex(IReadOnlyList<string> propertyNames, ConfigurationSource configurationSource);

+        public virtual InternalKeyBuilder HasKey(IReadOnlyList<Property> properties, Nullable<ConfigurationSource> configurationSource);
-        public virtual InternalKeyBuilder HasKey(IReadOnlyList<Property> properties, ConfigurationSource? configurationSource);

+        public virtual InternalKeyBuilder HasKey(IReadOnlyList<MemberInfo> clrProperties, ConfigurationSource configurationSource);
-        public virtual InternalKeyBuilder HasKey(IReadOnlyList<PropertyInfo> clrProperties, ConfigurationSource configurationSource);

+        public virtual InternalKeyBuilder HasKey(IReadOnlyList<string> propertyNames, ConfigurationSource configurationSource);
-        public virtual InternalKeyBuilder HasKey(IReadOnlyList<string> propertyNames, ConfigurationSource configurationSource);

+        public virtual InternalEntityTypeBuilder HasNoDeclaredDiscriminator(ConfigurationSource configurationSource);
+        public virtual InternalEntityTypeBuilder HasNoIndex(Index index, ConfigurationSource configurationSource);
+        public virtual InternalEntityTypeBuilder HasNoKey(ConfigurationSource configurationSource);
+        public virtual InternalEntityTypeBuilder HasNoKey(Key key, ConfigurationSource configurationSource);
+        public virtual InternalEntityTypeBuilder HasNoRelationship(ForeignKey foreignKey, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasOwnership(string targetEntityTypeName, string navigationName, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasOwnership(Type targetEntityType, MemberInfo navigationProperty, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasOwnership(Type targetEntityType, MemberInfo navigationProperty, MemberInfo inverseProperty, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasOwnership(Type targetEntityType, string navigationName, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasOwnership(Type targetEntityType, string navigationPropertyName, string inversePropertyName, ConfigurationSource configurationSource);
-        public virtual void HasQueryFilter(LambdaExpression filter);

+        public virtual InternalEntityTypeBuilder HasQueryFilter(LambdaExpression filter, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasRelationship(EntityType principalEntityType, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasRelationship(EntityType principalEntityType, Key principalKey, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasRelationship(EntityType principalEntityType, IReadOnlyList<Property> dependentProperties, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasRelationship(EntityType principalEntityType, IReadOnlyList<Property> dependentProperties, Key principalKey, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasRelationship(EntityType targetEntityType, MemberInfo navigationProperty, ConfigurationSource configurationSource, bool setTargetAsPrincipal = false);
+        public virtual InternalRelationshipBuilder HasRelationship(EntityType targetEntityType, MemberInfo navigationToTarget, MemberInfo inverseNavigation, ConfigurationSource configurationSource, bool setTargetAsPrincipal = false);
+        public virtual InternalRelationshipBuilder HasRelationship(EntityType targetEntityType, string navigationName, ConfigurationSource configurationSource, bool setTargetAsPrincipal = false);
+        public virtual InternalRelationshipBuilder HasRelationship(EntityType targetEntityType, string navigationToTargetName, string inverseNavigationName, ConfigurationSource configurationSource, bool setTargetAsPrincipal = false);
+        public virtual InternalRelationshipBuilder HasRelationship(string principalEntityTypeName, IReadOnlyList<string> propertyNames, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasRelationship(string principalEntityTypeName, IReadOnlyList<string> propertyNames, Key principalKey, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasRelationship(Type principalClrType, IReadOnlyList<MemberInfo> clrMembers, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasRelationship(Type principalClrType, IReadOnlyList<MemberInfo> clrMembers, Key principalKey, ConfigurationSource configurationSource);
+        public virtual InternalEntityTypeBuilder Ignore(string name, ConfigurationSource configurationSource);
-        public virtual bool Ignore(string name, ConfigurationSource configurationSource);

+        public virtual bool IsIgnored(string name, Nullable<ConfigurationSource> configurationSource);
-        public virtual bool IsIgnored(string name, ConfigurationSource? configurationSource);

+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.CanAddNavigation(string navigationName, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.CanIgnore(string name, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.CanSetBaseType(IConventionEntityType baseEntityType, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.CanSetChangeTrackingStrategy(Nullable<ChangeTrackingStrategy> changeTrackingStrategy, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.CanSetDefiningQuery(LambdaExpression query, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.CanSetDiscriminator(string name, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.CanSetDiscriminator(Type type, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.CanSetDiscriminator(Type type, string name, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.CanSetPrimaryKey(IReadOnlyList<IConventionProperty> properties, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.CanSetPropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.CanSetQueryFilter(LambdaExpression filter, bool fromDataAnnotation);
+        IReadOnlyList<IConventionProperty> Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.GetOrCreateProperties(IEnumerable<MemberInfo> memberInfos, bool fromDataAnnotation);
+        IReadOnlyList<IConventionProperty> Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.GetOrCreateProperties(IReadOnlyList<string> propertyNames, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasBaseType(IConventionEntityType baseEntityType, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasChangeTrackingStrategy(Nullable<ChangeTrackingStrategy> changeTrackingStrategy, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasDefiningQuery(LambdaExpression query, bool fromDataAnnotation);
+        IConventionDiscriminatorBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasDiscriminator(bool fromDataAnnotation);
+        IConventionDiscriminatorBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasDiscriminator(MemberInfo memberInfo, bool fromDataAnnotation);
+        IConventionDiscriminatorBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasDiscriminator(string name, bool fromDataAnnotation);
+        IConventionDiscriminatorBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasDiscriminator(string name, Type type, bool fromDataAnnotation);
+        IConventionDiscriminatorBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasDiscriminator(Type type, bool fromDataAnnotation);
+        IConventionIndexBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasIndex(IReadOnlyList<IConventionProperty> properties, bool fromDataAnnotation);
+        IConventionKeyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasKey(IReadOnlyList<IConventionProperty> properties, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasNoDeclaredDiscriminator(bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasNoIndex(IConventionIndex index, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasNoIndex(IReadOnlyList<IConventionProperty> properties, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasNoKey(IConventionKey key, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasNoKey(bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasNoKey(IReadOnlyList<IConventionProperty> properties, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasNoRelationship(IConventionForeignKey foreignKey, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasNoRelationship(IReadOnlyList<IConventionProperty> properties, IConventionKey principalKey, IConventionEntityType principalEntityType, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasOwnership(Type targetEntityType, MemberInfo navigationToTarget, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasOwnership(Type targetEntityType, MemberInfo navigationToTarget, MemberInfo inverseProperty, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasOwnership(Type targetEntityType, string navigationToTargetName, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasOwnership(Type targetEntityType, string navigationToTargetName, string inversePropertyName, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasQueryFilter(LambdaExpression filter, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasRelationship(IConventionEntityType principalEntityType, IConventionKey principalKey, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasRelationship(IConventionEntityType targetEntityType, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasRelationship(IConventionEntityType principalEntityType, IReadOnlyList<IConventionProperty> dependentProperties, IConventionKey principalKey, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasRelationship(IConventionEntityType principalEntityType, IReadOnlyList<IConventionProperty> dependentProperties, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasRelationship(IConventionEntityType targetEntityType, MemberInfo navigationToTarget, bool setTargetAsPrincipal, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasRelationship(IConventionEntityType targetEntityType, MemberInfo navigationToTarget, MemberInfo inverseNavigation, bool setTargetAsPrincipal, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasRelationship(IConventionEntityType targetEntityType, string navigationToTargetName, bool setTargetAsPrincipal, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.HasRelationship(IConventionEntityType targetEntityType, string navigationToTargetName, string inverseNavigationName, bool setTargetAsPrincipal, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.Ignore(string name, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.IsIgnored(string name, bool fromDataAnnotation);
+        IConventionKeyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.PrimaryKey(IReadOnlyList<IConventionProperty> properties, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.Property(MemberInfo memberInfo, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.Property(Type propertyType, string propertyName, bool setTypeConfigurationSource, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.RemoveUnusedShadowProperties(IReadOnlyList<IConventionProperty> properties, bool fromDataAnnotation);
+        IConventionServicePropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.ServiceProperty(MemberInfo memberInfo, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionEntityTypeBuilder.UsePropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, bool fromDataAnnotation);
-        public virtual InternalRelationshipBuilder Navigation(InternalEntityTypeBuilder targetEntityTypeBuilder, PropertyInfo navigationProperty, ConfigurationSource configurationSource, bool setTargetAsPrincipal = false);

-        public virtual InternalRelationshipBuilder Navigation(InternalEntityTypeBuilder targetEntityTypeBuilder, string navigationName, ConfigurationSource configurationSource, bool setTargetAsPrincipal = false);

-        public virtual InternalRelationshipBuilder Owns(string targetEntityTypeName, PropertyInfo navigationProperty, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder Owns(string targetEntityTypeName, string navigationName, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder Owns(Type targetEntityType, MemberInfo navigationProperty, MemberInfo inverseProperty, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder Owns(Type targetEntityType, PropertyInfo navigationProperty, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder Owns(Type targetEntityType, string navigationName, ConfigurationSource configurationSource);

+        public virtual InternalKeyBuilder PrimaryKey(IReadOnlyList<Property> properties, ConfigurationSource configurationSource);
-        public virtual InternalKeyBuilder PrimaryKey(IReadOnlyList<Property> properties, ConfigurationSource configurationSource);

+        public virtual InternalKeyBuilder PrimaryKey(IReadOnlyList<MemberInfo> clrMembers, ConfigurationSource configurationSource);
-        public virtual InternalKeyBuilder PrimaryKey(IReadOnlyList<PropertyInfo> clrProperties, ConfigurationSource configurationSource);

+        public virtual InternalKeyBuilder PrimaryKey(IReadOnlyList<string> propertyNames, ConfigurationSource configurationSource);
-        public virtual InternalKeyBuilder PrimaryKey(IReadOnlyList<string> propertyNames, ConfigurationSource configurationSource);

-        public virtual InternalPropertyBuilder Property(MemberInfo clrProperty, ConfigurationSource configurationSource);

+        public virtual InternalPropertyBuilder Property(MemberInfo memberInfo, Nullable<ConfigurationSource> configurationSource);
-        public virtual InternalPropertyBuilder Property(string propertyName, ConfigurationSource configurationSource);

+        public virtual InternalPropertyBuilder Property(string propertyName, Nullable<ConfigurationSource> configurationSource);
-        public virtual InternalPropertyBuilder Property(string propertyName, Type propertyType, ConfigurationSource configurationSource);

-        public virtual InternalPropertyBuilder Property(string propertyName, Type propertyType, ConfigurationSource configurationSource, ConfigurationSource? typeConfigurationSource);

+        public virtual InternalPropertyBuilder Property(Type propertyType, string propertyName, Nullable<ConfigurationSource> configurationSource);
+        public virtual InternalPropertyBuilder Property(Type propertyType, string propertyName, Nullable<ConfigurationSource> typeConfigurationSource, Nullable<ConfigurationSource> configurationSource);
-        public virtual InternalRelationshipBuilder Relationship(EntityType principalEntityType, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder Relationship(EntityType principalEntityType, Key principalKey, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder Relationship(InternalEntityTypeBuilder principalEntityTypeBuilder, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder Relationship(InternalEntityTypeBuilder principalEntityTypeBuilder, Key principalKey, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder Relationship(InternalEntityTypeBuilder targetEntityTypeBuilder, MemberInfo navigationToTarget, MemberInfo inverseNavigation, ConfigurationSource configurationSource, bool setTargetAsPrincipal = false);

-        public virtual InternalRelationshipBuilder Relationship(InternalEntityTypeBuilder targetEntityTypeBuilder, string navigationToTargetName, string inverseNavigationName, ConfigurationSource configurationSource, bool setTargetAsPrincipal = false);

-        public virtual ConfigurationSource? RemoveForeignKey(ForeignKey foreignKey, ConfigurationSource configurationSource, bool canOverrideSameSource = true);

-        public virtual ConfigurationSource? RemoveIndex(Index index, ConfigurationSource configurationSource);

-        public virtual ConfigurationSource? RemoveKey(Key key, ConfigurationSource configurationSource);

+        public virtual bool RemoveNonOwnershipRelationships(ForeignKey ownership, ConfigurationSource configurationSource);
-        public virtual bool RemoveNonOwnershipRelationships(ForeignKey ownership, ConfigurationSource configurationSource);

-        public virtual void RemoveShadowPropertiesIfUnused(IEnumerable<Property> properties);

+        public virtual InternalEntityTypeBuilder RemoveUnusedShadowProperties<T>(IReadOnlyList<T> properties, ConfigurationSource configurationSource = ConfigurationSource.Convention) where T : class, IProperty;
+        public virtual InternalServicePropertyBuilder ServiceProperty(MemberInfo memberInfo, ConfigurationSource configurationSource);
-        public virtual InternalServicePropertyBuilder ServiceProperty(MemberInfo memberInfo, ConfigurationSource configurationSource);

+        public virtual bool ShouldReuniquifyTemporaryProperties(ForeignKey foreignKey);
-        public virtual bool ShouldReuniquifyTemporaryProperties(IReadOnlyList<Property> currentProperties, IReadOnlyList<Property> principalProperties, bool isRequired, string baseName);

+        public virtual InternalRelationshipBuilder UpdateForeignKey(ForeignKey foreignKey, IReadOnlyList<Property> dependentProperties, Key principalKey, string navigationToPrincipalName, Nullable<bool> isRequired, Nullable<ConfigurationSource> configurationSource);
-        public virtual bool UsePropertyAccessMode(PropertyAccessMode propertyAccessMode, ConfigurationSource configurationSource);

+        public virtual InternalEntityTypeBuilder UsePropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, ConfigurationSource configurationSource);
     }
-    public class InternalIndexBuilder : InternalMetadataItemBuilder<Index> {
+    public class InternalIndexBuilder : InternalModelItemBuilder<Index>, IConventionAnnotatableBuilder, IConventionIndexBuilder {
+        IConventionIndex Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionIndexBuilder.Metadata { get; }
+        public virtual bool CanSetIsUnique(Nullable<bool> unique, Nullable<ConfigurationSource> configurationSource);
-        public virtual bool IsUnique(bool isUnique, ConfigurationSource configurationSource);

+        public virtual InternalIndexBuilder IsUnique(Nullable<bool> unique, ConfigurationSource configurationSource);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionIndexBuilder.CanSetIsUnique(Nullable<bool> unique, bool fromDataAnnotation);
+        IConventionIndexBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionIndexBuilder.IsUnique(Nullable<bool> unique, bool fromDataAnnotation);
     }
-    public class InternalKeyBuilder : InternalMetadataItemBuilder<Key> {
+    public class InternalKeyBuilder : InternalModelItemBuilder<Key>, IConventionAnnotatableBuilder, IConventionKeyBuilder {
+        IConventionKey Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionKeyBuilder.Metadata { get; }
+        public virtual InternalKeyBuilder Attach(InternalEntityTypeBuilder entityTypeBuilder, Nullable<ConfigurationSource> primaryKeyConfigurationSource);
-        public virtual InternalKeyBuilder Attach(InternalEntityTypeBuilder entityTypeBuilder, ConfigurationSource? primaryKeyConfigurationSource);

     }
-    public abstract class InternalMetadataBuilder {
 {
-        protected InternalMetadataBuilder(ConventionalAnnotatable metadata);

-        public virtual ConventionalAnnotatable Metadata { get; }

-        public abstract InternalModelBuilder ModelBuilder { get; }

-        public virtual bool CanSetAnnotation(string name, object value, ConfigurationSource configurationSource);

-        public virtual bool HasAnnotation(string name, object value, ConfigurationSource configurationSource);

-        public virtual void MergeAnnotationsFrom(ConventionalAnnotatable annotatable);

-        public virtual void MergeAnnotationsFrom(ConventionalAnnotatable annotatable, ConfigurationSource minimalConfigurationSource);

-        public virtual bool RemoveAnnotation(string name, ConfigurationSource configurationSource);

-    }
-    public abstract class InternalMetadataBuilder<TMetadata> : InternalMetadataBuilder where TMetadata : ConventionalAnnotatable {
 {
-        protected InternalMetadataBuilder(TMetadata metadata);

-        public virtual new TMetadata Metadata { get; }

-    }
-    public abstract class InternalMetadataItemBuilder<TMetadata> : InternalMetadataBuilder<TMetadata> where TMetadata : ConventionalAnnotatable {
 {
-        protected InternalMetadataItemBuilder(TMetadata metadata, InternalModelBuilder modelBuilder);

-        public override InternalModelBuilder ModelBuilder { get; }

-    }
-    public class InternalModelBuilder : InternalMetadataBuilder<Model> {
+    public class InternalModelBuilder : InternalAnnotatableBuilder<Model>, IConventionAnnotatableBuilder, IConventionModelBuilder {
+        IConventionModel Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.Metadata { get; }
+        public virtual bool CanIgnore(string name, ConfigurationSource configurationSource);
+        public virtual bool CanIgnore(Type type, ConfigurationSource configurationSource);
+        public virtual bool CanSetChangeTrackingStrategy(Nullable<ChangeTrackingStrategy> changeTrackingStrategy, ConfigurationSource configurationSource);
+        public virtual bool CanSetPropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, ConfigurationSource configurationSource);
+        public virtual InternalEntityTypeBuilder Entity(string name, ConfigurationSource configurationSource, Nullable<bool> shouldBeOwned = false);
-        public virtual InternalEntityTypeBuilder Entity(string name, ConfigurationSource configurationSource, bool allowOwned = false, bool throwOnQuery = false);

+        public virtual InternalEntityTypeBuilder Entity(string name, string definingNavigationName, EntityType definingEntityType, ConfigurationSource configurationSource);
-        public virtual InternalEntityTypeBuilder Entity(string name, string definingNavigationName, EntityType definingEntityType, ConfigurationSource configurationSource);

+        public virtual InternalEntityTypeBuilder Entity(Type type, ConfigurationSource configurationSource, Nullable<bool> shouldBeOwned = false);
-        public virtual InternalEntityTypeBuilder Entity(Type type, ConfigurationSource configurationSource, bool allowOwned = false, bool throwOnQuery = false);

+        public virtual InternalEntityTypeBuilder Entity(Type type, string definingNavigationName, EntityType definingEntityType, ConfigurationSource configurationSource);
-        public virtual InternalEntityTypeBuilder Entity(Type type, string definingNavigationName, EntityType definingEntityType, ConfigurationSource configurationSource);

-        public virtual IReadOnlyList<InternalEntityTypeBuilder> FindLeastDerivedEntityTypes(Type type, Func<InternalEntityTypeBuilder, bool> condition = null);

+        public virtual InternalModelBuilder HasNoEntityType(EntityType entityType, ConfigurationSource configurationSource);
+        public virtual InternalModelBuilder Ignore(string name, ConfigurationSource configurationSource);
-        public virtual bool Ignore(string name, ConfigurationSource configurationSource);

+        public virtual InternalModelBuilder Ignore(Type type, ConfigurationSource configurationSource);
-        public virtual bool Ignore(Type type, ConfigurationSource configurationSource);

+        public virtual bool IsIgnored(string name, ConfigurationSource configurationSource);
-        public virtual bool IsIgnored(string name, ConfigurationSource configurationSource);

+        public virtual bool IsIgnored(Type type, ConfigurationSource configurationSource);
-        public virtual bool IsIgnored(Type type, ConfigurationSource configurationSource);

+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.CanIgnore(string name, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.CanIgnore(Type type, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.CanSetChangeTrackingStrategy(Nullable<ChangeTrackingStrategy> changeTrackingStrategy, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.CanSetPropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.Entity(string name, Nullable<bool> shouldBeOwned, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.Entity(string name, string definingNavigationName, IConventionEntityType definingEntityType, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.Entity(Type type, Nullable<bool> shouldBeOwned, bool fromDataAnnotation);
+        IConventionEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.Entity(Type type, string definingNavigationName, IConventionEntityType definingEntityType, bool fromDataAnnotation);
+        IConventionModelBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.HasChangeTrackingStrategy(Nullable<ChangeTrackingStrategy> changeTrackingStrategy, bool fromDataAnnotation);
+        IConventionModelBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.HasNoEntityType(IConventionEntityType entityType, bool fromDataAnnotation);
+        IConventionModelBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.Ignore(string name, bool fromDataAnnotation);
+        IConventionModelBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.Ignore(Type type, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.IsIgnored(string name, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.IsIgnored(Type type, bool fromDataAnnotation);
+        IConventionOwnedEntityTypeBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.Owned(Type type, bool fromDataAnnotation);
+        IConventionModelBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionModelBuilder.UsePropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, bool fromDataAnnotation);
-        public virtual bool Owned(string name, ConfigurationSource configurationSource);

+        public virtual IConventionOwnedEntityTypeBuilder Owned(Type type, ConfigurationSource configurationSource);
-        public virtual bool Owned(Type type, ConfigurationSource configurationSource);

-        public virtual InternalEntityTypeBuilder Query(string name, ConfigurationSource configurationSource);

-        public virtual InternalEntityTypeBuilder Query(Type clrType, ConfigurationSource configurationSource);

-        public virtual bool RemoveEntityType(EntityType entityType, ConfigurationSource configurationSource);

-        public virtual void RemoveEntityTypesUnreachableByNavigations(ConfigurationSource configurationSource);

+        public virtual InternalModelBuilder UseChangeTrackingStrategy(Nullable<ChangeTrackingStrategy> changeTrackingStrategy, ConfigurationSource configurationSource);
-        public virtual bool UsePropertyAccessMode(PropertyAccessMode propertyAccessMode, ConfigurationSource configurationSource);

+        public virtual InternalModelBuilder UsePropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, ConfigurationSource configurationSource);
     }
+    public abstract class InternalModelItemBuilder<TMetadata> : InternalAnnotatableBuilder<TMetadata> where TMetadata : ConventionAnnotatable {
+        protected InternalModelItemBuilder(TMetadata metadata, InternalModelBuilder modelBuilder);
+        public override InternalModelBuilder ModelBuilder { get; }
+    }
-    public class InternalNavigationBuilder : InternalMetadataItemBuilder<Navigation>
+    public class InternalNavigationBuilder : InternalModelItemBuilder<Navigation>
+    public class InternalOwnedEntityTypeBuilder : IConventionOwnedEntityTypeBuilder {
+        public InternalOwnedEntityTypeBuilder();
+    }
-    public class InternalPropertyBuilder : InternalMetadataItemBuilder<Property> {
+    public class InternalPropertyBuilder : InternalModelItemBuilder<Property>, IConventionAnnotatableBuilder, IConventionPropertyBuilder {
+        IConventionProperty Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.Metadata { get; }
+        public virtual InternalPropertyBuilder AfterSave(Nullable<PropertySaveBehavior> behavior, ConfigurationSource configurationSource);
-        public virtual bool AfterSave(PropertySaveBehavior? behavior, ConfigurationSource configurationSource);

+        public virtual InternalPropertyBuilder BeforeSave(Nullable<PropertySaveBehavior> behavior, ConfigurationSource configurationSource);
-        public virtual bool BeforeSave(PropertySaveBehavior? behavior, ConfigurationSource configurationSource);

+        public virtual bool CanSetAfterSave(Nullable<PropertySaveBehavior> behavior, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetBeforeSave(Nullable<PropertySaveBehavior> behavior, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetConversion(ValueConverter converter, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetConversion(Type providerClrType, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetField(FieldInfo fieldInfo, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetField(string fieldName, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetIsConcurrencyToken(Nullable<bool> concurrencyToken, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetIsRequired(Nullable<bool> required, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetIsUnicode(Nullable<bool> unicode, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetKeyValueComparer(ValueComparer comparer, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetMaxLength(Nullable<int> maxLength, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetPropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, Nullable<ConfigurationSource> configurationSource);
-        public virtual bool CanSetRequired(bool isRequired, ConfigurationSource? configurationSource);

+        public virtual bool CanSetStructuralValueComparer(ValueComparer comparer, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetValueComparer(ValueComparer comparer, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetValueGenerated(Nullable<ValueGenerated> valueGenerated, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetValueGenerator(Func<IProperty, IEntityType, ValueGenerator> factory, Nullable<ConfigurationSource> configurationSource);
+        public virtual InternalPropertyBuilder HasConversion(ValueConverter converter, ConfigurationSource configurationSource);
-        public virtual bool HasConversion(ValueConverter valueConverter, ConfigurationSource configurationSource);

+        public virtual InternalPropertyBuilder HasConversion(Type providerClrType, ConfigurationSource configurationSource);
-        public virtual bool HasConversion(Type providerClrType, ConfigurationSource configurationSource);

+        public virtual InternalPropertyBuilder HasField(FieldInfo fieldInfo, ConfigurationSource configurationSource);
+        public virtual InternalPropertyBuilder HasField(string fieldName, ConfigurationSource configurationSource);
-        public virtual bool HasField(string fieldName, ConfigurationSource configurationSource);

-        public virtual bool HasFieldInfo(FieldInfo fieldInfo, ConfigurationSource configurationSource);

+        public virtual InternalPropertyBuilder HasKeyValueComparer(ValueComparer comparer, ConfigurationSource configurationSource);
-        public virtual bool HasMaxLength(int maxLength, ConfigurationSource configurationSource);

+        public virtual InternalPropertyBuilder HasMaxLength(Nullable<int> maxLength, ConfigurationSource configurationSource);
+        public virtual InternalPropertyBuilder HasStructuralValueComparer(ValueComparer comparer, ConfigurationSource configurationSource);
+        public virtual InternalPropertyBuilder HasValueComparer(ValueComparer comparer, ConfigurationSource configurationSource);
+        public virtual InternalPropertyBuilder HasValueGenerator(Func<IProperty, IEntityType, ValueGenerator> factory, ConfigurationSource configurationSource);
-        public virtual bool HasValueGenerator(Func<IProperty, IEntityType, ValueGenerator> factory, ConfigurationSource configurationSource);

+        public virtual InternalPropertyBuilder HasValueGenerator(Type valueGeneratorType, ConfigurationSource configurationSource);
-        public virtual bool HasValueGenerator(Type valueGeneratorType, ConfigurationSource configurationSource);

-        public virtual bool IsConcurrencyToken(bool concurrencyToken, ConfigurationSource configurationSource);

+        public virtual InternalPropertyBuilder IsConcurrencyToken(Nullable<bool> concurrencyToken, ConfigurationSource configurationSource);
-        public virtual bool IsRequired(bool isRequired, ConfigurationSource configurationSource);

+        public virtual InternalPropertyBuilder IsRequired(Nullable<bool> required, ConfigurationSource configurationSource);
-        public virtual bool IsUnicode(bool unicode, ConfigurationSource configurationSource);

+        public virtual InternalPropertyBuilder IsUnicode(Nullable<bool> unicode, ConfigurationSource configurationSource);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.AfterSave(Nullable<PropertySaveBehavior> behavior, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.BeforeSave(Nullable<PropertySaveBehavior> behavior, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetAfterSave(Nullable<PropertySaveBehavior> behavior, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetBeforeSave(Nullable<PropertySaveBehavior> behavior, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetConversion(ValueConverter converter, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetConversion(Type providerClrType, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetField(FieldInfo fieldInfo, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetField(string fieldName, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetIsConcurrencyToken(Nullable<bool> concurrencyToken, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetIsRequired(Nullable<bool> required, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetIsUnicode(Nullable<bool> unicode, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetKeyValueComparer(ValueComparer comparer, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetMaxLength(Nullable<int> maxLength, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetPropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetStructuralValueComparer(ValueComparer comparer, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetValueComparer(ValueComparer comparer, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetValueGenerated(Nullable<ValueGenerated> valueGenerated, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.CanSetValueGenerator(Func<IProperty, IEntityType, ValueGenerator> factory, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.HasConversion(ValueConverter converter, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.HasConversion(Type providerClrType, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.HasField(FieldInfo fieldInfo, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.HasField(string fieldName, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.HasKeyValueComparer(ValueComparer comparer, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.HasMaxLength(Nullable<int> maxLength, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.HasStructuralValueComparer(ValueComparer comparer, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.HasValueComparer(ValueComparer comparer, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.HasValueGenerator(Func<IProperty, IEntityType, ValueGenerator> factory, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.HasValueGenerator(Type valueGeneratorType, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.IsConcurrencyToken(Nullable<bool> concurrencyToken, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.IsRequired(Nullable<bool> required, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.IsUnicode(Nullable<bool> unicode, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.UsePropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, bool fromDataAnnotation);
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionPropertyBuilder.ValueGenerated(Nullable<ValueGenerated> valueGenerated, bool fromDataAnnotation);
-        public virtual bool UsePropertyAccessMode(PropertyAccessMode propertyAccessMode, ConfigurationSource configurationSource);

+        public virtual InternalPropertyBuilder UsePropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, ConfigurationSource configurationSource);
+        public virtual InternalPropertyBuilder ValueGenerated(Nullable<ValueGenerated> valueGenerated, ConfigurationSource configurationSource);
-        public virtual bool ValueGenerated(ValueGenerated? valueGenerated, ConfigurationSource configurationSource);

     }
-    public class InternalRelationshipBuilder : InternalMetadataItemBuilder<ForeignKey> {
+    public class InternalRelationshipBuilder : InternalModelItemBuilder<ForeignKey>, IConventionAnnotatableBuilder, IConventionRelationshipBuilder {
+        IConventionForeignKey Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.Metadata { get; }
+        public static bool AreCompatible(EntityType principalEntityType, EntityType dependentEntityType, MemberInfo navigationToPrincipal, MemberInfo navigationToDependent, IReadOnlyList<Property> dependentProperties, IReadOnlyList<Property> principalProperties, Nullable<bool> isUnique, Nullable<ConfigurationSource> configurationSource);
-        public static bool AreCompatible(EntityType principalEntityType, EntityType dependentEntityType, MemberInfo navigationToPrincipal, MemberInfo navigationToDependent, IReadOnlyList<Property> dependentProperties, IReadOnlyList<Property> principalProperties, bool? isUnique, bool? isRequired, ConfigurationSource? configurationSource);

-        public virtual bool CanInvert(IReadOnlyList<Property> newForeignKeyProperties, ConfigurationSource configurationSource);

+        public virtual bool CanInvert(IReadOnlyList<Property> newForeignKeyProperties, Nullable<ConfigurationSource> configurationSource);
-        public virtual bool CanSetDeleteBehavior(DeleteBehavior deleteBehavior, ConfigurationSource? configurationSource);

+        public virtual bool CanSetDeleteBehavior(Nullable<DeleteBehavior> deleteBehavior, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetField(FieldInfo fieldInfo, bool pointsToPrincipal, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetField(string fieldName, bool pointsToPrincipal, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetForeignKey(IReadOnlyList<Property> properties, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetForeignKey(IReadOnlyList<string> propertyNames, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetIsEagerLoaded(Nullable<bool> eagerLoaded, bool pointsToPrincipal, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetIsOwnership(Nullable<bool> ownership, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetIsRequired(Nullable<bool> required, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetIsUnique(Nullable<bool> unique, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetNavigation(MemberInfo property, bool pointsToPrincipal, Nullable<ConfigurationSource> configurationSource);
-        public virtual bool CanSetNavigation(PropertyInfo navigationProperty, bool pointsToPrincipal, ConfigurationSource? configurationSource, bool overrideSameSource = true);

+        public virtual bool CanSetNavigation(string name, bool pointsToPrincipal, Nullable<ConfigurationSource> configurationSource);
-        public virtual bool CanSetNavigation(string navigationName, bool pointsToPrincipal, ConfigurationSource? configurationSource, bool overrideSameSource = true);

+        public virtual bool CanSetNavigations(MemberInfo navigationToPrincipal, MemberInfo navigationToDependent, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetNavigations(string navigationToPrincipalName, string navigationToDependentName, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetPrincipalKey(IReadOnlyList<Property> properties, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetPrincipalKey(IReadOnlyList<string> propertyNames, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetRelatedTypes(EntityType principalEntityType, EntityType dependentEntityType, Nullable<ConfigurationSource> configurationSource);
-        public virtual bool CanSetRequired(bool isRequired, ConfigurationSource? configurationSource);

-        public virtual InternalRelationshipBuilder DeleteBehavior(DeleteBehavior deleteBehavior, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder DependentEntityType(EntityType dependentEntityType, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder DependentEntityType(EntityType dependentEntityType, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder DependentEntityType(InternalEntityTypeBuilder dependentEntityTypeBuilder, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder DependentEntityType(InternalEntityTypeBuilder dependentEntityTypeBuilder, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder DependentEntityType(string dependentTypeName, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder DependentEntityType(string dependentTypeName, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder DependentEntityType(Type dependentType, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder DependentEntityType(Type dependentType, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder DependentToPrincipal(MemberInfo property, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder DependentToPrincipal(string name, ConfigurationSource configurationSource);

-        public static InternalRelationshipBuilder FindCurrentRelationshipBuilder(EntityType principalEntityType, EntityType dependentEntityType, PropertyIdentity? navigationToPrincipal, PropertyIdentity? navigationToDependent, IReadOnlyList<Property> dependentProperties, IReadOnlyList<Property> principalProperties);

+        public static InternalRelationshipBuilder FindCurrentRelationshipBuilder(EntityType principalEntityType, EntityType dependentEntityType, Nullable<MemberIdentity> navigationToPrincipal, Nullable<MemberIdentity> navigationToDependent, IReadOnlyList<Property> dependentProperties, IReadOnlyList<Property> principalProperties);
+        public virtual InternalRelationshipBuilder HasEntityTypes(EntityType principalEntityType, EntityType dependentEntityType, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasField(FieldInfo fieldInfo, bool pointsToPrincipal, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasField(string fieldName, bool pointsToPrincipal, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasForeignKey(IReadOnlyList<Property> properties, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasForeignKey(IReadOnlyList<Property> properties, EntityType dependentEntityType, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder HasForeignKey(IReadOnlyList<Property> properties, EntityType dependentEntityType, ConfigurationSource? configurationSource);

-        public virtual InternalRelationshipBuilder HasForeignKey(IReadOnlyList<Property> properties, ConfigurationSource? configurationSource);

+        public virtual InternalRelationshipBuilder HasForeignKey(IReadOnlyList<MemberInfo> properties, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder HasForeignKey(IReadOnlyList<MemberInfo> properties, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder HasForeignKey(IReadOnlyList<MemberInfo> properties, EntityType dependentEntityType, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder HasForeignKey(IReadOnlyList<MemberInfo> properties, EntityType dependentEntityType, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder HasForeignKey(IReadOnlyList<string> propertyNames, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder HasForeignKey(IReadOnlyList<string> propertyNames, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder HasForeignKey(IReadOnlyList<string> propertyNames, EntityType dependentEntityType, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder HasForeignKey(IReadOnlyList<string> propertyNames, EntityType dependentEntityType, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder HasNavigation(MemberInfo property, bool pointsToPrincipal, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasNavigation(string name, bool pointsToPrincipal, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasNavigations(Nullable<MemberIdentity> navigationToPrincipal, Nullable<MemberIdentity> navigationToDependent, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasNavigations(MemberInfo navigationToPrincipal, MemberInfo navigationToDependent, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasNavigations(MemberInfo navigationToPrincipal, MemberInfo navigationToDependent, EntityType principalEntityType, EntityType dependentEntityType, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasNavigations(string navigationToPrincipalName, string navigationToDependentName, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasNavigations(string navigationToPrincipalName, string navigationToDependentName, EntityType principalEntityType, EntityType dependentEntityType, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder HasPrincipalKey(IReadOnlyList<Property> properties, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder HasPrincipalKey(IReadOnlyList<Property> properties, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder HasPrincipalKey(IReadOnlyList<MemberInfo> properties, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder HasPrincipalKey(IReadOnlyList<PropertyInfo> properties, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder HasPrincipalKey(IReadOnlyList<string> propertyNames, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder HasPrincipalKey(IReadOnlyList<string> propertyNames, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder IsEagerLoaded(Nullable<bool> eagerLoaded, bool pointsToPrincipal, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder IsOwnership(bool ownership, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder IsOwnership(Nullable<bool> ownership, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder IsRequired(bool isRequired, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder IsRequired(Nullable<bool> required, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder IsUnique(bool unique, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder IsUnique(Nullable<bool> unique, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder IsWeakTypeDefinition(ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder IsWeakTypeDefinition(ConfigurationSource configurationSource);

+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanInvert(IReadOnlyList<IConventionProperty> newForeignKeyProperties, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetField(FieldInfo fieldInfo, bool pointsToPrincipal, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetField(string fieldName, bool pointsToPrincipal, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetForeignKey(IReadOnlyList<IConventionProperty> properties, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetForeignKey(IReadOnlyList<string> properties, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetIsEagerLoaded(Nullable<bool> eagerLoaded, bool pointsToPrincipal, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetIsOwnership(Nullable<bool> ownership, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetIsRequired(Nullable<bool> required, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetIsUnique(Nullable<bool> unique, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetNavigation(MemberInfo property, bool pointsToPrincipal, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetNavigation(string name, bool pointsToPrincipal, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetNavigations(MemberInfo navigationToPrincipal, MemberInfo navigationToDependent, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetNavigations(string navigationToPrincipalName, string navigationToDependentName, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetOnDelete(Nullable<DeleteBehavior> deleteBehavior, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetPrincipalKey(IReadOnlyList<IConventionProperty> properties, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.CanSetPrincipalKey(IReadOnlyList<string> properties, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.HasEntityTypes(IConventionEntityType principalEntityType, IConventionEntityType dependentEntityType, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.HasField(FieldInfo fieldInfo, bool pointsToPrincipal, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.HasField(string fieldName, bool pointsToPrincipal, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.HasForeignKey(IReadOnlyList<IConventionProperty> properties, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.HasForeignKey(IReadOnlyList<string> properties, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.HasNavigation(MemberInfo property, bool pointsToPrincipal, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.HasNavigation(string name, bool pointsToPrincipal, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.HasNavigations(MemberInfo navigationToPrincipal, MemberInfo navigationToDependent, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.HasNavigations(string navigationToPrincipalName, string navigationToDependentName, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.HasPrincipalKey(IReadOnlyList<IConventionProperty> properties, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.HasPrincipalKey(IReadOnlyList<string> properties, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.IsEagerLoaded(Nullable<bool> eagerLoaded, bool pointsToPrincipal, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.IsOwnership(Nullable<bool> ownership, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.IsRequired(Nullable<bool> required, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.IsUnique(Nullable<bool> unique, bool fromDataAnnotation);
+        IConventionRelationshipBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionRelationshipBuilder.OnDelete(Nullable<DeleteBehavior> deleteBehavior, bool fromDataAnnotation);
-        public virtual InternalRelationshipBuilder Navigations(PropertyIdentity? navigationToPrincipal, PropertyIdentity? navigationToDependent, ConfigurationSource? configurationSource);

-        public virtual InternalRelationshipBuilder Navigations(MemberInfo navigationToPrincipalProperty, MemberInfo navigationToDependentProperty, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder Navigations(MemberInfo navigationToPrincipalProperty, MemberInfo navigationToDependentProperty, EntityType principalEntityType, EntityType dependentEntityType, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder Navigations(string navigationToPrincipalName, string navigationToDependentName, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder Navigations(string navigationToPrincipalName, string navigationToDependentName, EntityType principalEntityType, EntityType dependentEntityType, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder OnDelete(Nullable<DeleteBehavior> deleteBehavior, ConfigurationSource configurationSource);
+        public virtual InternalRelationshipBuilder PrincipalEntityType(EntityType principalEntityType, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder PrincipalEntityType(EntityType principalEntityType, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder PrincipalEntityType(InternalEntityTypeBuilder principalEntityTypeBuilder, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder PrincipalEntityType(InternalEntityTypeBuilder principalEntityTypeBuilder, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder PrincipalEntityType(string principalTypeName, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder PrincipalEntityType(string principalTypeName, ConfigurationSource configurationSource);

+        public virtual InternalRelationshipBuilder PrincipalEntityType(Type principalType, ConfigurationSource configurationSource);
-        public virtual InternalRelationshipBuilder PrincipalEntityType(Type principalType, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder PrincipalToDependent(MemberInfo property, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder PrincipalToDependent(string name, ConfigurationSource configurationSource);

-        public virtual InternalRelationshipBuilder RelatedEntityTypes(EntityType principalEntityType, EntityType dependentEntityType, ConfigurationSource? configurationSource);

+        public virtual InternalRelationshipBuilder ReuniquifyTemporaryProperties(bool force);
     }
-    public class InternalServicePropertyBuilder : InternalMetadataItemBuilder<ServiceProperty> {
+    public class InternalServicePropertyBuilder : InternalModelItemBuilder<ServiceProperty>, IConventionAnnotatableBuilder, IConventionServicePropertyBuilder {
+        IConventionServiceProperty Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionServicePropertyBuilder.Metadata { get; }
+        public virtual bool CanSetField(FieldInfo fieldInfo, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetField(string fieldName, Nullable<ConfigurationSource> configurationSource);
+        public virtual bool CanSetParameterBinding(ServiceParameterBinding parameterBinding, ConfigurationSource configurationSource);
+        public virtual InternalServicePropertyBuilder HasField(FieldInfo fieldInfo, ConfigurationSource configurationSource);
+        public virtual InternalServicePropertyBuilder HasField(string fieldName, ConfigurationSource configurationSource);
-        public virtual bool HasField(string fieldName, ConfigurationSource configurationSource);

-        public virtual bool HasFieldInfo(FieldInfo fieldInfo, ConfigurationSource configurationSource);

+        public virtual InternalServicePropertyBuilder HasParameterBinding(ServiceParameterBinding parameterBinding, ConfigurationSource configurationSource);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionServicePropertyBuilder.CanSetField(FieldInfo fieldInfo, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionServicePropertyBuilder.CanSetField(string fieldName, bool fromDataAnnotation);
+        bool Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionServicePropertyBuilder.CanSetParameterBinding(ServiceParameterBinding parameterBinding, bool fromDataAnnotation);
+        IConventionServicePropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionServicePropertyBuilder.HasField(FieldInfo fieldInfo, bool fromDataAnnotation);
+        IConventionServicePropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionServicePropertyBuilder.HasField(string fieldName, bool fromDataAnnotation);
+        IConventionServicePropertyBuilder Microsoft.EntityFrameworkCore.Metadata.Builders.IConventionServicePropertyBuilder.HasParameterBinding(ServiceParameterBinding parameterBinding, bool fromDataAnnotation);
-        public virtual bool SetParameterBinding(ServiceParameterBinding parameterBinding, ConfigurationSource configurationSource);

+        public virtual InternalServicePropertyBuilder UsePropertyAccessMode(PropertyAccessMode propertyAccessMode, ConfigurationSource configurationSource);
-        public virtual bool UsePropertyAccessMode(PropertyAccessMode propertyAccessMode, ConfigurationSource configurationSource);

     }
-    public interface IParameterBindingFactories {
 {
-        IParameterBindingFactory FindFactory(Type type, string name);

-    }
-    public interface IParameterBindingFactory {
 {
-        ParameterBinding Bind(IMutableEntityType entityType, Type parameterType, string parameterName);

-        bool CanBind(Type parameterType, string parameterName);

-    }
-    public interface IPropertyParameterBindingFactory {
 {
-        ParameterBinding TryBindParameter(IMutableEntityType entityType, Type parameterType, string parameterName);

-    }
+    public interface IReferenceRoot<T> {
+        void Release(Reference<T> reference);
+        Reference<T> Track(T @object);
+    }
-    public class Key : ConventionalAnnotatable, IAnnotatable, IKey, IMutableAnnotatable, IMutableKey {
+    public class Key : ConventionAnnotatable, IAnnotatable, IConventionAnnotatable, IConventionKey, IKey, IMutableAnnotatable, IMutableKey {
+        public Key(IReadOnlyList<Property> properties, ConfigurationSource configurationSource);
-        public Key(IReadOnlyList<Property> properties, ConfigurationSource configurationSource);

+        IConventionKeyBuilder Microsoft.EntityFrameworkCore.Metadata.IConventionKey.Builder { get; }
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionKey.DeclaringEntityType { get; }
+        IReadOnlyList<IConventionProperty> Microsoft.EntityFrameworkCore.Metadata.IConventionKey.Properties { get; }
-        public virtual Func<IWeakReferenceIdentityMap> WeakReferenceIdentityMapFactory { get; }

-        public virtual ConfigurationSource GetConfigurationSource();

+        public virtual ConfigurationSource GetConfigurationSource();
+        protected override IConventionAnnotation OnAnnotationSet(string name, IConventionAnnotation annotation, IConventionAnnotation oldAnnotation);
+        public virtual void UpdateConfigurationSource(ConfigurationSource configurationSource);
-        public virtual void UpdateConfigurationSource(ConfigurationSource configurationSource);

     }
     public static class KeyExtensions {
-        public static Func<IWeakReferenceIdentityMap> GetWeakReferenceIdentityMapFactory(this IKey key);

-        public static bool IsPrimaryKey(this IKey key);

     }
-    public class LazyLoaderParameterBindingFactory : ServiceParameterBindingFactory {
 {
-        public LazyLoaderParameterBindingFactory();

-        public override ParameterBinding Bind(IMutableEntityType entityType, Type parameterType, string parameterName);

-        public override bool CanBind(Type parameterType, string parameterName);

-    }
     public class MemberClassifier : IMemberClassifier {
-        public MemberClassifier(ITypeMappingSource typeMappingSource, IParameterBindingFactories parameterBindingFactories);

+        public MemberClassifier(ITypeMappingSource typeMappingSource, IParameterBindingFactories parameterBindingFactories);
+        public virtual Type FindCandidateNavigationPropertyType(MemberInfo memberInfo);
-        public virtual Type FindCandidateNavigationPropertyType(PropertyInfo propertyInfo);

     }
-    public class Model : ConventionalAnnotatable, IAnnotatable, IModel, IMutableAnnotatable, IMutableModel {
+    public class Model : ConventionAnnotatable, IAnnotatable, IConventionAnnotatable, IConventionModel, IModel, IMutableAnnotatable, IMutableModel {
-        public virtual ChangeTrackingStrategy ChangeTrackingStrategy { get; set; }

+        public virtual bool IsReadonly { get; }
+        IConventionModelBuilder Microsoft.EntityFrameworkCore.Metadata.IConventionModel.Builder { get; }
+        public virtual EntityType AddEntityType(string name, ConfigurationSource configurationSource);
-        public virtual EntityType AddEntityType(string name, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual EntityType AddEntityType(string name, string definingNavigationName, EntityType definingEntityType, ConfigurationSource configurationSource);
-        public virtual EntityType AddEntityType(string name, string definingNavigationName, EntityType definingEntityType, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual EntityType AddEntityType(Type type, ConfigurationSource configurationSource);
-        public virtual EntityType AddEntityType(Type type, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual EntityType AddEntityType(Type type, string definingNavigationName, EntityType definingEntityType, ConfigurationSource configurationSource);
-        public virtual EntityType AddEntityType(Type type, string definingNavigationName, EntityType definingEntityType, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual void AddIgnored(string name, ConfigurationSource configurationSource);
+        public virtual void AddIgnored(Type type, ConfigurationSource configurationSource);
+        public virtual void AddOwned(Type clrType, ConfigurationSource configurationSource);
-        public virtual EntityType AddQueryType(string name, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

-        public virtual EntityType AddQueryType(Type type, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual IModel FinalizeModel();
-        public virtual EntityType FindEntityType(string name, string definingNavigationName, string definingEntityTypeName);

+        public virtual Nullable<ConfigurationSource> FindIgnoredConfigurationSource(string name);
+        public virtual Nullable<ConfigurationSource> FindIgnoredConfigurationSource(Type type);
-        public virtual ConfigurationSource? FindIgnoredTypeConfigurationSource(string name);

-        public virtual ConfigurationSource? FindIgnoredTypeConfigurationSource(Type type);

+        public virtual Nullable<ConfigurationSource> FindIsOwnedConfigurationSource(Type clrType);
+        public virtual IReadOnlyList<EntityType> FindLeastDerivedEntityTypes(Type type, Func<EntityType, bool> condition = null);
-        public virtual EntityType GetOrAddEntityType(string name);

-        public virtual EntityType GetOrAddEntityType(Type type);

-        public virtual void Ignore(string name, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

-        public virtual void Ignore(Type type, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual bool IsIgnored(string name);
+        public virtual bool IsIgnored(Type type);
+        public virtual bool IsOwned(Type clrType);
+        public virtual IModel MakeReadonly();
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionModel.AddEntityType(string name, bool fromDataAnnotation);
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionModel.AddEntityType(string name, string definingNavigationName, IConventionEntityType definingEntityType, bool fromDataAnnotation);
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionModel.AddEntityType(Type clrType, bool fromDataAnnotation);
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionModel.AddEntityType(Type clrType, string definingNavigationName, IConventionEntityType definingEntityType, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionModel.AddIgnored(string name, bool fromDataAnnotation);
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionModel.FindEntityType(string name);
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionModel.FindEntityType(string name, string definingNavigationName, IConventionEntityType definingEntityType);
+        IEnumerable<IConventionEntityType> Microsoft.EntityFrameworkCore.Metadata.IConventionModel.GetEntityTypes();
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionModel.RemoveEntityType(IConventionEntityType entityType);
+        void Microsoft.EntityFrameworkCore.Metadata.IMutableModel.AddIgnored(string name);
-        IMutableEntityType Microsoft.EntityFrameworkCore.Metadata.IMutableModel.AddQueryType(Type type);

+        void Microsoft.EntityFrameworkCore.Metadata.IMutableModel.RemoveEntityType(IMutableEntityType entityType);
-        IMutableEntityType Microsoft.EntityFrameworkCore.Metadata.IMutableModel.RemoveEntityType(string name);

-        IMutableEntityType Microsoft.EntityFrameworkCore.Metadata.IMutableModel.RemoveEntityType(string name, string definingNavigationName, IMutableEntityType definingEntityType);

-        protected override Annotation OnAnnotationSet(string name, Annotation annotation, Annotation oldAnnotation);

+        protected override IConventionAnnotation OnAnnotationSet(string name, IConventionAnnotation annotation, IConventionAnnotation oldAnnotation);
+        public virtual void RemoveIgnored(string name);
+        public virtual void RemoveIgnored(Type type);
+        public virtual void RemoveOwned(Type clrType);
+        public virtual void SetChangeTrackingStrategy(Nullable<ChangeTrackingStrategy> changeTrackingStrategy, ConfigurationSource configurationSource);
+        public virtual void SetPropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, ConfigurationSource configurationSource);
-        public virtual void Unignore(string name);

-        public virtual void Unignore(Type type);

-        public virtual InternalModelBuilder Validate();

     }
     public static class ModelExtensions {
-        public static string GetProductVersion(this IModel model);

-        public static void MarkAsOwnedType(this Model model, string value);

-        public static void MarkAsOwnedType(this Model model, Type clrType);

+        public static void SetProductVersion(this IMutableModel model, string value);
-        public static void SetProductVersion(this Model model, string value);

-        public static bool ShouldBeOwnedType(this IModel model, string value);

-        public static bool ShouldBeOwnedType(this IModel model, Type clrType);

-        public static void UnmarkAsOwnedType(this Model model, string value);

-        public static void UnmarkAsOwnedType(this Model model, Type clrType);

     }
-    public class ModelNavigationsGraphAdapter : Graph<EntityType> {
+    public class ModelNavigationsGraphAdapter : Graph<IConventionEntityType> {
+        public ModelNavigationsGraphAdapter(IConventionModel model);
-        public ModelNavigationsGraphAdapter(Model model);

-        public override IEnumerable<EntityType> Vertices { get; }
+        public override IEnumerable<IConventionEntityType> Vertices { get; }
+        public override IEnumerable<IConventionEntityType> GetIncomingNeighbors(IConventionEntityType to);
-        public override IEnumerable<EntityType> GetIncomingNeighbours(EntityType to);

+        public override IEnumerable<IConventionEntityType> GetOutgoingNeighbors(IConventionEntityType from);
-        public override IEnumerable<EntityType> GetOutgoingNeighbours(EntityType from);

     }
     public static class MutableEntityTypeExtensions {
-        public static IEnumerable<IMutableForeignKey> GetDeclaredForeignKeys(this IMutableEntityType entityType);

-        public static IEnumerable<IMutableProperty> GetDeclaredProperties(this IMutableEntityType entityType);

-        public static IEnumerable<IMutableEntityType> GetDerivedTypesInclusive(this IMutableEntityType entityType);

     }
-    public static class MutableServicePropertyExtensions {
 {
-        public static ServiceProperty AsServiceProperty(this IMutableServiceProperty serviceProperty, string methodName = "");

-        public static void SetParameterBinding(this IMutableServiceProperty serviceProperty, ServiceParameterBinding parameterBinding);

-    }
-    public class Navigation : PropertyBase, IAnnotatable, IMutableAnnotatable, IMutableNavigation, IMutablePropertyBase, INavigation, IPropertyBase {
+    public class Navigation : PropertyBase, IAnnotatable, IConventionAnnotatable, IConventionNavigation, IConventionPropertyBase, IMutableAnnotatable, IMutableNavigation, IMutablePropertyBase, INavigation, IPropertyBase {
-        public virtual bool IsEagerLoaded { get; set; }

+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionNavigation.DeclaringEntityType { get; }
+        IConventionForeignKey Microsoft.EntityFrameworkCore.Metadata.IConventionNavigation.ForeignKey { get; }
-        public static MemberInfo GetClrMember(string navigationName, EntityType sourceType, EntityType targetType, bool shouldThrow);

-        public static bool IsCompatible(MemberInfo navigationProperty, Type sourceClrType, Type targetClrType, bool? shouldBeCollection, bool shouldThrow);
+        public static bool IsCompatible(MemberInfo navigationProperty, Type sourceClrType, Type targetClrType, Nullable<bool> shouldBeCollection, bool shouldThrow);
-        public static bool IsCompatible(string navigationName, MemberInfo navigationProperty, EntityType sourceType, EntityType targetType, bool? shouldBeCollection, bool shouldThrow);
+        public static bool IsCompatible(string navigationName, MemberInfo navigationProperty, EntityType sourceType, EntityType targetType, Nullable<bool> shouldBeCollection, bool shouldThrow);
-        protected override void PropertyMetadataChanged();

+        public virtual void SetIsEagerLoaded(Nullable<bool> eagerLoaded, ConfigurationSource configurationSource);
     }
     public static class NavigationExtensions {
+        public static MemberIdentity CreateMemberIdentity(this INavigation navigation);
-        public static IClrCollectionAccessor GetCollectionAccessor(this INavigation navigation);

+        public static string ToDebugString(this INavigation navigation, bool singleLine = true, bool includeIndexes = false, string indent = "");
-        public static string ToDebugString(this INavigation navigation, bool singleLine = true, string indent = "");

     }
-    public class ObjectArrayParameterBinding : ParameterBinding {
 {
-        public ObjectArrayParameterBinding(IReadOnlyList<ParameterBinding> bindings);

-        public override Expression BindToParameter(ParameterBindingInfo bindingInfo);

-    }
-    public abstract class ParameterBinding {
 {
-        protected ParameterBinding(Type parameterType, params IPropertyBase[] consumedProperties);

-        public virtual IReadOnlyList<IPropertyBase> ConsumedProperties { get; }

-        public virtual Type ParameterType { get; }

-        public abstract Expression BindToParameter(ParameterBindingInfo bindingInfo);

-    }
     public class ParameterBindingFactories : IParameterBindingFactories {
-        public ParameterBindingFactories(IEnumerable<IParameterBindingFactory> registeredFactories, IRegisteredServices registeredServices);

+        public ParameterBindingFactories(IEnumerable<IParameterBindingFactory> registeredFactories, IRegisteredServices registeredServices);
-        public virtual IParameterBindingFactory FindFactory(Type type, string name);

+        public virtual IParameterBindingFactory FindFactory(Type parameterType, string parameterName);
     }
-    public readonly struct ParameterBindingInfo {
 {
-        public ParameterBindingInfo(IEntityType entityType, Expression materializationContextExpression, int[] indexMap);

-        public IEntityType EntityType { get; }

-        public Expression MaterializationContextExpression { get; }

-        public int GetValueBufferIndex(IPropertyBase property);

-    }
     public class PropertiesSnapshot {
+        public PropertiesSnapshot(List<InternalPropertyBuilder> properties, List<InternalIndexBuilder> indexes, List<ValueTuple<InternalKeyBuilder, Nullable<ConfigurationSource>>> keys, List<RelationshipSnapshot> relationships);
-        public PropertiesSnapshot(List<InternalPropertyBuilder> properties, List<InternalIndexBuilder> indexes, List<ValueTuple<InternalKeyBuilder, ConfigurationSource?>> keys, List<RelationshipSnapshot> relationships);

+        public virtual void Add(List<ValueTuple<InternalKeyBuilder, Nullable<ConfigurationSource>>> keys);
-        public virtual void Add(List<ValueTuple<InternalKeyBuilder, ConfigurationSource?>> keys);

     }
-    public class Property : PropertyBase, IAnnotatable, IMutableAnnotatable, IMutableProperty, IMutablePropertyBase, IProperty, IPropertyBase {
+    public class Property : PropertyBase, IAnnotatable, IConventionAnnotatable, IConventionProperty, IConventionPropertyBase, IMutableAnnotatable, IMutableProperty, IMutablePropertyBase, IProperty, IPropertyBase {
+        public Property(string name, Type clrType, PropertyInfo propertyInfo, FieldInfo fieldInfo, EntityType declaringEntityType, ConfigurationSource configurationSource, Nullable<ConfigurationSource> typeConfigurationSource);
-        public Property(string name, Type clrType, PropertyInfo propertyInfo, FieldInfo fieldInfo, EntityType declaringEntityType, ConfigurationSource configurationSource, ConfigurationSource? typeConfigurationSource);

-        public virtual PropertySaveBehavior AfterSaveBehavior { get; set; }

-        public virtual PropertySaveBehavior BeforeSaveBehavior { get; set; }

-        public virtual List<IForeignKey> ForeignKeys { get; set; }
+        public virtual List<ForeignKey> ForeignKeys { get; set; }
-        public virtual List<IIndex> Indexes { get; set; }
+        public virtual List<Index> Indexes { get; set; }
-        public virtual bool IsReadOnlyAfterSave { get; set; }

-        public virtual bool IsReadOnlyBeforeSave { get; set; }

-        public virtual bool IsStoreGeneratedAlways { get; set; }

-        public virtual List<IKey> Keys { get; set; }
+        public virtual List<Key> Keys { get; set; }
+        IConventionPropertyBuilder Microsoft.EntityFrameworkCore.Metadata.IConventionProperty.Builder { get; }
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionProperty.DeclaringEntityType { get; }
+        public virtual string CheckAfterSaveBehavior(PropertySaveBehavior behavior);
+        public virtual string CheckValueComparer(ValueComparer comparer);
+        public virtual string CheckValueConverter(ValueConverter converter);
-        public static string Format(IEnumerable<IPropertyBase> properties, bool includeTypes = false);

-        public virtual ConfigurationSource? GetAfterSaveBehaviorConfigurationSource();

-        public virtual ConfigurationSource? GetBeforeSaveBehaviorConfigurationSource();

-        public virtual ConfigurationSource GetConfigurationSource();

+        public virtual ConfigurationSource GetConfigurationSource();
-        public virtual ConfigurationSource? GetIsConcurrencyTokenConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetIsConcurrencyTokenConfigurationSource();
-        public virtual ConfigurationSource? GetIsNullableConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetIsNullableConfigurationSource();
-        public virtual ConfigurationSource? GetTypeConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetTypeConfigurationSource();
-        public virtual ConfigurationSource? GetValueGeneratedConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetValueGeneratedConfigurationSource();
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionProperty.SetIsConcurrencyToken(Nullable<bool> concurrencyToken, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionProperty.SetIsNullable(Nullable<bool> nullable, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionProperty.SetValueGenerated(Nullable<ValueGenerated> valueGenerated, bool fromDataAnnotation);
-        protected override Annotation OnAnnotationSet(string name, Annotation annotation, Annotation oldAnnotation);

+        protected override IConventionAnnotation OnAnnotationSet(string name, IConventionAnnotation annotation, IConventionAnnotation oldAnnotation);
-        protected override void OnFieldInfoSet(FieldInfo oldFieldInfo);

+        protected override void OnFieldInfoSet(FieldInfo newFieldInfo, FieldInfo oldFieldInfo);
-        protected override void PropertyMetadataChanged();

+        public virtual void SetAfterSaveBehavior(Nullable<PropertySaveBehavior> afterSaveBehavior, ConfigurationSource configurationSource);
-        public virtual void SetAfterSaveBehavior(PropertySaveBehavior? afterSaveBehavior, ConfigurationSource configurationSource);

+        public virtual void SetBeforeSaveBehavior(Nullable<PropertySaveBehavior> beforeSaveBehavior, ConfigurationSource configurationSource);
-        public virtual void SetBeforeSaveBehavior(PropertySaveBehavior? beforeSaveBehavior, ConfigurationSource configurationSource);

+        public virtual void SetConfigurationSource(ConfigurationSource configurationSource);
-        public virtual void SetConfigurationSource(ConfigurationSource configurationSource);

-        public virtual void SetIsConcurrencyToken(bool concurrencyToken, ConfigurationSource configurationSource);

+        public virtual void SetIsConcurrencyToken(Nullable<bool> concurrencyToken, ConfigurationSource configurationSource);
-        public virtual void SetIsNullable(bool nullable, ConfigurationSource configurationSource);

+        public virtual void SetIsNullable(Nullable<bool> nullable, ConfigurationSource configurationSource);
+        public virtual void SetIsUnicode(Nullable<bool> unicode, ConfigurationSource configurationSource);
+        public virtual void SetKeyValueComparer(ValueComparer comparer, ConfigurationSource configurationSource);
+        public virtual void SetMaxLength(Nullable<int> maxLength, ConfigurationSource configurationSource);
+        public virtual void SetProviderClrType(Type providerClrType, ConfigurationSource configurationSource);
+        public virtual void SetStructuralValueComparer(ValueComparer comparer, ConfigurationSource configurationSource);
+        public virtual void SetValueComparer(ValueComparer comparer, ConfigurationSource configurationSource);
+        public virtual void SetValueConverter(ValueConverter converter, ConfigurationSource configurationSource);
+        public virtual void SetValueGenerated(Nullable<ValueGenerated> valueGenerated, ConfigurationSource configurationSource);
-        public virtual void SetValueGenerated(ValueGenerated? valueGenerated, ConfigurationSource configurationSource);

+        public virtual void SetValueGeneratorFactory(Func<IProperty, IEntityType, ValueGenerator> factory, ConfigurationSource configurationSource);
+        public virtual bool UpdateConfigurationSource(ConfigurationSource configurationSource);
-        public virtual void UpdateConfigurationSource(ConfigurationSource configurationSource);

+        public virtual void UpdateTypeConfigurationSource(ConfigurationSource configurationSource);
-        public virtual void UpdateTypeConfigurationSource(ConfigurationSource configurationSource);

     }
-    public abstract class PropertyBase : ConventionalAnnotatable, IAnnotatable, IMutableAnnotatable, IMutablePropertyBase, IPropertyBase {
+    public abstract class PropertyBase : ConventionAnnotatable, IAnnotatable, IConventionAnnotatable, IConventionPropertyBase, IMutableAnnotatable, IMutablePropertyBase, IPropertyBase {
-        public virtual bool IsShadowProperty { get; }

+        public virtual IClrPropertySetter MaterializationSetter { get; }
+        IConventionTypeBase Microsoft.EntityFrameworkCore.Metadata.IConventionPropertyBase.DeclaringType { get; }
-        public virtual ConfigurationSource? GetFieldInfoConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetFieldInfoConfigurationSource();
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionPropertyBase.SetField(FieldInfo fieldInfo, bool fromDataAnnotation);
-        protected virtual void OnFieldInfoSet(FieldInfo oldFieldInfo);

+        protected virtual void OnFieldInfoSet(FieldInfo newFieldInfo, FieldInfo oldFieldInfo);
-        protected abstract void PropertyMetadataChanged();

+        public virtual void SetField(FieldInfo fieldInfo, ConfigurationSource configurationSource);
+        public virtual void SetField(string fieldName, ConfigurationSource configurationSource);
-        public virtual void SetField(string fieldName, ConfigurationSource configurationSource);

-        public virtual void SetFieldInfo(FieldInfo fieldInfo, ConfigurationSource configurationSource);

+        public virtual void SetPropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, ConfigurationSource configurationSource);
     }
     public static class PropertyBaseExtensions {
-        public static IClrPropertyGetter GetGetter(this IPropertyBase propertyBase);

-        public static MemberInfo GetMemberInfo(this IPropertyBase propertyBase, bool forConstruction, bool forSet);

-        public static IClrPropertySetter GetSetter(this IPropertyBase propertyBase);

-        public static void SetIndexes(this IPropertyBase propertyBase, PropertyIndexes indexes);

     }
     public static class PropertyExtensions {
-        public static CoreTypeMapping FindMapping(this IProperty property);

-        public static IProperty FindPrincipal(this IProperty property);

-        public static IForeignKey FindSharedTableLink(this IProperty property);

-        public static IProperty FindSharedTableRootPrimaryKeyProperty(this IProperty property);

+        public static string ToDebugString(this IProperty property, bool singleLine = true, bool includeIndexes = false, string indent = "");
-        public static string ToDebugString(this IProperty property, bool singleLine = true, string indent = "");

     }
-    public readonly struct PropertyIdentity {
 {
-        public static readonly PropertyIdentity None;

-        public PropertyIdentity(MemberInfo property);

-        public PropertyIdentity(string name);

-        public string Name { get; }

-        public MemberInfo Property { get; }

-        public static PropertyIdentity Create(Navigation navigation);

-        public static PropertyIdentity Create(MemberInfo property);

-        public static PropertyIdentity Create(string name);

-        public bool IsNone();

-    }
-    public class PropertyParameterBinding : ParameterBinding {
 {
-        public PropertyParameterBinding(IProperty consumedProperty);

-        public override Expression BindToParameter(ParameterBindingInfo bindingInfo);

-    }
     public class PropertyParameterBindingFactory : IPropertyParameterBindingFactory {
+        public virtual ParameterBinding FindParameter(IEntityType entityType, Type parameterType, string parameterName);
-        public virtual ParameterBinding TryBindParameter(IMutableEntityType entityType, Type parameterType, string parameterName);

     }
+    public class Reference<T> : IDisposable, IMetadataReference<T> {
+        public Reference(T @object);
+        public Reference(T @object, IReferenceRoot<T> root);
+        public virtual T Object { get; set; }
+        public virtual void Dispose();
+        public virtual void IncreaseReferenceCount();
+    }
-    public class RelationalAnnotationsBuilder : RelationalAnnotations {
 {
-        public RelationalAnnotationsBuilder(InternalMetadataBuilder internalBuilder, ConfigurationSource configurationSource);

-        public virtual ConfigurationSource ConfigurationSource { get; }

-        public virtual InternalMetadataBuilder MetadataBuilder { get; }

-        public override bool CanSetAnnotation(string relationalAnnotationName, object value);

-        public override bool RemoveAnnotation(string annotationName);

-        public override bool SetAnnotation(string relationalAnnotationName, object value);

-    }
-    public class RelationalEntityTypeBuilderAnnotations : RelationalEntityTypeAnnotations {
 {
-        protected readonly string DefaultDiscriminatorName;

-        public RelationalEntityTypeBuilderAnnotations(InternalEntityTypeBuilder internalBuilder, ConfigurationSource configurationSource);

-        protected virtual new RelationalAnnotationsBuilder Annotations { get; }

-        protected virtual InternalEntityTypeBuilder EntityTypeBuilder { get; }

-        protected override RelationalEntityTypeAnnotations GetAnnotations(IEntityType entityType);

-        protected override RelationalModelAnnotations GetAnnotations(IModel model);

-        public virtual DiscriminatorBuilder HasDiscriminator();

-        public virtual DiscriminatorBuilder HasDiscriminator(PropertyInfo propertyInfo);

-        public virtual DiscriminatorBuilder HasDiscriminator(string name, Type discriminatorType);

-        public virtual DiscriminatorBuilder HasDiscriminator(Type discriminatorType);

-        public virtual bool HasDiscriminatorValue(object value);

-        public virtual bool ToSchema(string name);

-        public virtual bool ToTable(string name);

-        public virtual bool ToTable(string name, string schema);

-    }
-    public class RelationalForeignKeyBuilderAnnotations : RelationalForeignKeyAnnotations {
 {
-        public RelationalForeignKeyBuilderAnnotations(InternalRelationshipBuilder internalBuilder, ConfigurationSource configurationSource);

-        public virtual bool CanSetName(string value);

-        public virtual bool HasConstraintName(string value);

-    }
+    public static class RelationalForeignKeyExtensions {
+        public static bool AreCompatible(this IForeignKey foreignKey, IForeignKey duplicateForeignKey, bool shouldThrow);
+    }
-    public class RelationalIndexBuilderAnnotations : RelationalIndexAnnotations {
 {
-        public RelationalIndexBuilderAnnotations(InternalIndexBuilder internalBuilder, ConfigurationSource configurationSource);

-        public virtual bool CanSetName(string value);

-        public virtual bool HasFilter(string value);

-        public virtual bool HasName(string value);

-    }
+    public static class RelationalIndexExtensions {
+        public static bool AreCompatible(this IIndex index, IIndex duplicateIndex, bool shouldThrow);
+    }
-    public static class RelationalInternalMetadataBuilderExtensions {
 {
-        public static RelationalEntityTypeBuilderAnnotations Relational(this InternalEntityTypeBuilder builder, ConfigurationSource configurationSource);

-        public static RelationalIndexBuilderAnnotations Relational(this InternalIndexBuilder builder, ConfigurationSource configurationSource);

-        public static RelationalKeyBuilderAnnotations Relational(this InternalKeyBuilder builder, ConfigurationSource configurationSource);

-        public static RelationalModelBuilderAnnotations Relational(this InternalModelBuilder builder, ConfigurationSource configurationSource);

-        public static RelationalPropertyBuilderAnnotations Relational(this InternalPropertyBuilder builder, ConfigurationSource configurationSource);

-        public static RelationalForeignKeyBuilderAnnotations Relational(this InternalRelationshipBuilder builder, ConfigurationSource configurationSource);

-    }
-    public class RelationalKeyBuilderAnnotations : RelationalKeyAnnotations {
 {
-        public RelationalKeyBuilderAnnotations(InternalKeyBuilder internalBuilder, ConfigurationSource configurationSource);

-        public virtual bool CanSetName(string value);

-        public virtual bool HasName(string value);

-    }
-    public class RelationalModelBuilderAnnotations : RelationalModelAnnotations {
 {
-        public RelationalModelBuilderAnnotations(InternalModelBuilder internalBuilder, ConfigurationSource configurationSource);

-        public virtual bool HasDefaultSchema(string value);

-        public virtual bool HasMaxIdentifierLength(int? value);

-    }
-    public static class RelationalModelExtensions {
 {
-        public static int GetMaxIdentifierLength(this IModel model);

-    }
-    public class RelationalPropertyBuilderAnnotations : RelationalPropertyAnnotations {
 {
-        public RelationalPropertyBuilderAnnotations(InternalPropertyBuilder internalBuilder, ConfigurationSource configurationSource);

-        protected virtual new RelationalAnnotationsBuilder Annotations { get; }

-        protected override bool ShouldThrowOnConflict { get; }

-        protected override bool ShouldThrowOnInvalidConfiguration { get; }

-        public virtual bool CanSetColumnName(string value);

-        public virtual bool HasColumnName(string value);

-        public virtual bool HasColumnType(string value);

-        public virtual bool HasComputedColumnSql(string value);

-        public virtual bool HasDefaultValue(object value);

-        public virtual bool HasDefaultValueSql(string value);

-        public virtual bool IsFixedLength(bool fixedLength);

-    }
+    public static class RelationalPropertyExtensions {
+        public static IForeignKey FindSharedTableLink(this IProperty property);
+        public static string GetConfiguredColumnType(this IProperty property);
+    }
     public class RelationshipSnapshot {
-        public RelationshipSnapshot(InternalRelationshipBuilder relationship, EntityType.Snapshot weakEntityTypeSnapshot);
+        public RelationshipSnapshot(InternalRelationshipBuilder relationship, EntityType.Snapshot definedEntityTypeSnapshot);
+        public virtual EntityType.Snapshot DefinedEntityTypeSnapshot { get; }
-        public virtual EntityType.Snapshot WeakEntityTypeSnapshot { get; set; }

     }
     public static class ScaffoldingAnnotationNames {
+        public const string ConcurrencyToken = "ConcurrencyToken";
     }
-    public class ScaffoldingEntityTypeAnnotations : RelationalEntityTypeAnnotations {
+    public static class ScaffoldingEntityTypeAnnotations {
-        public ScaffoldingEntityTypeAnnotations(IEntityType entity);

-        public virtual string DbSetName { get; set; }

+        public static string GetDbSetName(this IEntityType entityType);
+        public static void SetDbSetName(this IMutableEntityType entityType, string value);
     }
-    public static class ScaffoldingMetadataExtensions {
 {
-        public static ScaffoldingEntityTypeAnnotations Scaffolding(this IEntityType entityType);

-        public static ScaffoldingModelAnnotations Scaffolding(this IModel model);

-        public static ScaffoldingPropertyAnnotations Scaffolding(this IProperty property);

-    }
-    public class ScaffoldingModelAnnotations : RelationalModelAnnotations {
 {
-        public ScaffoldingModelAnnotations(IModel model);

-        public virtual string DatabaseName { get; set; }

-        public virtual IDictionary<string, string> EntityTypeErrors { get; set; }

-    }
+    public static class ScaffoldingModelExtensions {
+        public static string GetDatabaseName(this IModel model);
+        public static IDictionary<string, string> GetEntityTypeErrors(this IModel model);
+        public static void SetDatabaseName(this IMutableModel model, string value);
+        public static void SetEntityTypeErrors(this IMutableModel model, IDictionary<string, string> value);
+    }
-    public class ScaffoldingPropertyAnnotations : RelationalPropertyAnnotations {
 {
-        public ScaffoldingPropertyAnnotations(IProperty property);

-        public virtual int ColumnOrdinal { get; set; }

-    }
+    public static class ScaffoldingPropertyExtensions {
+        public static int GetColumnOrdinal(this IProperty property);
+        public static void SetColumnOrdinal(this IMutableProperty property, Nullable<int> ordinal);
+    }
-    public class Sequence : IMutableSequence, ISequence {
+    public class Sequence : IConventionSequence, IMutableSequence, ISequence {
-        public static readonly long? DefaultMaxValue;
+        public static readonly Nullable<long> DefaultMaxValue;
-        public static readonly long? DefaultMinValue;
+        public static readonly Nullable<long> DefaultMinValue;
+        public Sequence(IMutableModel model, string name, string schema, ConfigurationSource configurationSource);
-        public Sequence(IMutableModel model, string annotationName, string name, string schema = null);

-        public virtual long? MaxValue { get; set; }
+        public virtual Nullable<long> MaxValue { get; set; }
+        IConventionSequenceBuilder Microsoft.EntityFrameworkCore.Metadata.IConventionSequence.Builder { get; }
+        IConventionModel Microsoft.EntityFrameworkCore.Metadata.IConventionSequence.Model { get; }
-        public virtual long? MinValue { get; set; }
+        public virtual Nullable<long> MinValue { get; set; }
-        public virtual Model Model { get; }
+        public virtual IMutableModel Model { get; }
+        public static ISequence FindSequence(IModel model, string name, string schema);
+        public virtual Nullable<ConfigurationSource> GetClrTypeConfigurationSource();
+        public virtual ConfigurationSource GetConfigurationSource();
+        public virtual Nullable<ConfigurationSource> GetIncrementByConfigurationSource();
+        public virtual Nullable<ConfigurationSource> GetIsCyclicConfigurationSource();
+        public virtual Nullable<ConfigurationSource> GetMaxValueConfigurationSource();
+        public virtual Nullable<ConfigurationSource> GetMinValueConfigurationSource();
+        public virtual Nullable<ConfigurationSource> GetStartValueConfigurationSource();
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionSequence.SetClrType(Type clrType, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionSequence.SetIncrementBy(Nullable<int> incrementBy, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionSequence.SetIsCyclic(Nullable<bool> cyclic, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionSequence.SetMaxValue(Nullable<long> maxValue, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionSequence.SetMinValue(Nullable<long> minValue, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionSequence.SetStartValue(Nullable<long> startValue, bool fromDataAnnotation);
+        public static ISequence RemoveSequence(IMutableModel model, string name, string schema = null);
+        public virtual void SetClrType(Type clrType, ConfigurationSource configurationSource);
+        public virtual void SetIncrementBy(Nullable<int> incrementBy, ConfigurationSource configurationSource);
+        public virtual void SetIsCyclic(Nullable<bool> cyclic, ConfigurationSource configurationSource);
+        public virtual void SetMaxValue(Nullable<long> maxValue, ConfigurationSource configurationSource);
+        public virtual void SetMinValue(Nullable<long> minValue, ConfigurationSource configurationSource);
+        public virtual void SetStartValue(Nullable<long> startValue, ConfigurationSource configurationSource);
+        public virtual void UpdateConfigurationSource(ConfigurationSource configurationSource);
     }
-    public class ServiceMethodParameterBinding : DefaultServiceParameterBinding {
 {
-        public ServiceMethodParameterBinding(Type parameterType, Type serviceType, MethodInfo method, IPropertyBase consumedProperty = null);

-        public virtual MethodInfo Method { get; }

-        public override Expression BindToParameter(Expression materializationExpression, Expression entityTypeExpression, Expression entityExpression);

-    }
-    public abstract class ServiceParameterBinding : ParameterBinding {
 {
-        protected ServiceParameterBinding(Type parameterType, Type serviceType, IPropertyBase consumedProperty = null);

-        public virtual Func<MaterializationContext, IEntityType, object, object> ServiceDelegate { get; }

-        public virtual Type ServiceType { get; }

-        public override Expression BindToParameter(ParameterBindingInfo bindingInfo);

-        public abstract Expression BindToParameter(Expression materializationExpression, Expression entityTypeExpression, Expression entityExpression);

-    }
-    public class ServiceParameterBindingFactory : IParameterBindingFactory {
 {
-        public ServiceParameterBindingFactory(Type serviceType);

-        public virtual ParameterBinding Bind(IMutableEntityType entityType, Type parameterType, string parameterName);

-        public virtual bool CanBind(Type parameterType, string parameterName);

-    }
-    public class ServiceProperty : PropertyBase, IAnnotatable, IMutableAnnotatable, IMutablePropertyBase, IMutableServiceProperty, IPropertyBase, IServiceProperty {
+    public class ServiceProperty : PropertyBase, IAnnotatable, IConventionAnnotatable, IConventionPropertyBase, IConventionServiceProperty, IMutableAnnotatable, IMutablePropertyBase, IMutableServiceProperty, IPropertyBase, IServiceProperty {
+        public ServiceProperty(string name, PropertyInfo propertyInfo, FieldInfo fieldInfo, EntityType declaringEntityType, ConfigurationSource configurationSource);
-        public ServiceProperty(string name, PropertyInfo propertyInfo, FieldInfo fieldInfo, EntityType declaringEntityType, ConfigurationSource configurationSource);

+        IConventionServicePropertyBuilder Microsoft.EntityFrameworkCore.Metadata.IConventionServiceProperty.Builder { get; }
+        IConventionEntityType Microsoft.EntityFrameworkCore.Metadata.IConventionServiceProperty.DeclaringEntityType { get; }
-        public virtual ConfigurationSource GetConfigurationSource();

+        public virtual ConfigurationSource GetConfigurationSource();
-        public virtual ConfigurationSource? GetParameterBindingConfigurationSource();

+        public virtual Nullable<ConfigurationSource> GetParameterBindingConfigurationSource();
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionServiceProperty.SetParameterBinding(ServiceParameterBinding parameterBinding, bool fromDataAnnotation);
-        protected override void PropertyMetadataChanged();

-        public virtual void SetParameterBinding(ServiceParameterBinding parameterBinding, ConfigurationSource configurationSource);

+        public virtual void SetParameterBinding(ServiceParameterBinding parameterBinding, ConfigurationSource configurationSource);
+        public virtual void UpdateConfigurationSource(ConfigurationSource configurationSource);
-        public virtual void UpdateConfigurationSource(ConfigurationSource configurationSource);

     }
     public static class ServicePropertyExtensions {
-        public static ServiceParameterBinding GetParameterBinding(this IServiceProperty serviceProperty);

+        public static ServiceParameterBinding GetParameterBinding(this IServiceProperty serviceProperty);
     }
     public class TableMapping {
+        public virtual IEnumerable<ICheckConstraint> GetCheckConstraints();
+        public virtual string GetComment();
     }
-    public abstract class TypeBase : ConventionalAnnotatable, IAnnotatable, IMutableAnnotatable, IMutableTypeBase, ITypeBase {
+    public abstract class TypeBase : ConventionAnnotatable, IAnnotatable, IConventionAnnotatable, IConventionTypeBase, IMutableAnnotatable, IMutableTypeBase, ITypeBase {
+        protected TypeBase(string name, Model model, ConfigurationSource configurationSource);
-        protected TypeBase(string name, Model model, ConfigurationSource configurationSource);

+        protected TypeBase(Type clrType, Model model, ConfigurationSource configurationSource);
-        protected TypeBase(Type clrType, Model model, ConfigurationSource configurationSource);

+        IConventionModel Microsoft.EntityFrameworkCore.Metadata.IConventionTypeBase.Model { get; }
+        public virtual void AddIgnored(string name, ConfigurationSource configurationSource);
+        public virtual Nullable<ConfigurationSource> FindDeclaredIgnoredConfigurationSource(string name);
-        public virtual ConfigurationSource? FindDeclaredIgnoredMemberConfigurationSource(string name);

+        public virtual Nullable<ConfigurationSource> FindIgnoredConfigurationSource(string name);
-        public virtual ConfigurationSource? FindIgnoredMemberConfigurationSource(string name);

-        public virtual ConfigurationSource GetConfigurationSource();

+        public virtual ConfigurationSource GetConfigurationSource();
-        public virtual Dictionary<string, FieldInfo> GetRuntimeFields();

+        public virtual IReadOnlyDictionary<string, FieldInfo> GetRuntimeFields();
-        public virtual Dictionary<string, PropertyInfo> GetRuntimeProperties();

+        public virtual IReadOnlyDictionary<string, PropertyInfo> GetRuntimeProperties();
-        public virtual void Ignore(string name, ConfigurationSource configurationSource = ConfigurationSource.Explicit);

+        public virtual bool IsIgnored(string name);
+        void Microsoft.EntityFrameworkCore.Metadata.IConventionTypeBase.AddIgnored(string name, bool fromDataAnnotation);
+        void Microsoft.EntityFrameworkCore.Metadata.IMutableTypeBase.AddIgnored(string name);
-        public abstract void PropertyMetadataChanged();

+        public virtual void RemoveIgnored(string name);
+        public virtual void SetNavigationAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, ConfigurationSource configurationSource);
+        public virtual void SetPropertyAccessMode(Nullable<PropertyAccessMode> propertyAccessMode, ConfigurationSource configurationSource);
-        public virtual void Unignore(string name);

+        public virtual void UpdateConfigurationSource(ConfigurationSource configurationSource);
-        public virtual void UpdateConfigurationSource(ConfigurationSource configurationSource);

     }
     public static class TypeBaseExtensions {
+        public static TypeBase AsTypeBase(this ITypeBase entityType, string methodName = "");
-        public static string DisplayName(this ITypeBase type);

+        public static MemberInfo FindClrMember(this TypeBase type, string name);
+        public static IReadOnlyDictionary<string, FieldInfo> GetRuntimeFields(this ITypeBase type);
+        public static IReadOnlyDictionary<string, PropertyInfo> GetRuntimeProperties(this ITypeBase type);
-        public static bool IsAbstract(this ITypeBase type);

     }
 }
```

