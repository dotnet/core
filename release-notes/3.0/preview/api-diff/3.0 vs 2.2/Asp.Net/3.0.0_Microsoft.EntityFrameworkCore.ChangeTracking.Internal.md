# Microsoft.EntityFrameworkCore.ChangeTracking.Internal

``` diff
 namespace Microsoft.EntityFrameworkCore.ChangeTracking.Internal {
-    public class ChangeDetector : IChangeDetector, IPropertyListener
+    public class ChangeDetector : IChangeDetector
     public class ChangeTrackerFactory : IChangeTrackerFactory {
+        public ChangeTrackerFactory(ICurrentDbContext currentContext, IStateManager stateManager, IChangeDetector changeDetector, IModel model, IEntityEntryGraphIterator graphIterator);
-        public ChangeTrackerFactory(ICurrentDbContext currentContext, IStateManager stateManager, IChangeDetector changeDetector, IModel model, IEntityEntryGraphIterator graphIterator);

     }
     public class CompositePrincipalKeyValueFactory : CompositeValueFactory, IPrincipalKeyValueFactory<object[]> {
+        public virtual IProperty FindNullPropertyInKeyValues(object[] keyValues);
     }
     public class EmptyShadowValuesFactoryFactory : SnapshotFactoryFactory {
+        protected override Expression CreateReadValueExpression(ParameterExpression parameter, IPropertyBase property);
     }
     public class EntityEntryGraphIterator : IEntityEntryGraphIterator {
-        public virtual void TraverseGraph<TState>(EntityEntryGraphNode node, TState state, Func<EntityEntryGraphNode, TState, bool> handleNode);

+        public virtual void TraverseGraph<TState>(EntityEntryGraphNode<TState> node, Func<EntityEntryGraphNode<TState>, bool> handleNode);
-        public virtual Task TraverseGraphAsync<TState>(EntityEntryGraphNode node, TState state, Func<EntityEntryGraphNode, TState, CancellationToken, Task<bool>> handleNode, CancellationToken cancellationToken = default(CancellationToken));

+        public virtual Task TraverseGraphAsync<TState>(EntityEntryGraphNode<TState> node, Func<EntityEntryGraphNode<TState>, CancellationToken, Task<bool>> handleNode, CancellationToken cancellationToken = default(CancellationToken));
     }
     public class EntityGraphAttacher : IEntityGraphAttacher {
+        public virtual void AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, bool forceStateWhenUnknownKey);
-        public virtual void AttachGraph(InternalEntityEntry rootEntry, EntityState entityState, bool forceStateWhenUnknownKey);

+        public virtual Task AttachGraphAsync(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, bool forceStateWhenUnknownKey, CancellationToken cancellationToken = default(CancellationToken));
-        public virtual Task AttachGraphAsync(InternalEntityEntry rootEntry, EntityState entityState, bool forceStateWhenUnknownKey, CancellationToken cancellationToken = default(CancellationToken));

     }
+    public class EntityReferenceMap {
+        public EntityReferenceMap(bool hasSubMap);
+        public virtual void Clear();
+        public virtual int GetCountForState(bool added = false, bool modified = false, bool deleted = false, bool unchanged = false);
+        public virtual IEnumerable<InternalEntityEntry> GetEntriesForState(bool added = false, bool modified = false, bool deleted = false, bool unchanged = false);
+        public virtual IEnumerable<TEntity> GetNonDeletedEntities<TEntity>() where TEntity : class;
+        public virtual bool TryGet(object entity, IEntityType entityType, out InternalEntityEntry entry, bool throwOnNonUniqueness);
+        public virtual void Update(InternalEntityEntry entry, EntityState state, Nullable<EntityState> oldState);
+    }
-    public interface IChangeDetector : IPropertyListener {
+    public interface IChangeDetector {
+        void PropertyChanged(InternalEntityEntry entry, IPropertyBase propertyBase, bool setModified);
+        void PropertyChanging(InternalEntityEntry entry, IPropertyBase propertyBase);
     }
     public class IdentityMap<TKey> : IIdentityMap {
-        public virtual InternalEntityEntry TryGetEntry(in ValueBuffer valueBuffer, bool throwOnNullKey);

+        public virtual InternalEntityEntry TryGetEntry(object[] keyValues, bool throwOnNullKey, out bool hasNullKey);
     }
     public interface IEntityGraphAttacher {
+        void AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, bool forceStateWhenUnknownKey);
-        void AttachGraph(InternalEntityEntry rootEntry, EntityState entityState, bool forceStateWhenUnknownKey);

+        Task AttachGraphAsync(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, bool forceStateWhenUnknownKey, CancellationToken cancellationToken = default(CancellationToken));
-        Task AttachGraphAsync(InternalEntityEntry rootEntry, EntityState entityState, bool forceStateWhenUnknownKey, CancellationToken cancellationToken = default(CancellationToken));

     }
-    public interface IEntityStateListener {
 {
-        void StateChanged(InternalEntityEntry entry, EntityState oldState, bool fromQuery);

-        void StateChanging(InternalEntityEntry entry, EntityState newState);

-    }
     public interface IIdentityMap {
-        InternalEntityEntry TryGetEntry(in ValueBuffer valueBuffer, bool throwOnNullKey);

+        InternalEntityEntry TryGetEntry(object[] keyValues, bool throwOnNullKey, out bool hasNullKey);
     }
     public interface IInternalEntityEntryNotifier {
+        void TrackedFromQuery(InternalEntityEntry entry);
-        void TrackedFromQuery(InternalEntityEntry entry, ISet<IForeignKey> handledForeignKeys);

     }
-    public interface IKeyListener {
 {
-        void KeyPropertyChanged(InternalEntityEntry entry, IProperty property, IReadOnlyList<IKey> containingPrincipalKeys, IReadOnlyList<IForeignKey> containingForeignKeys, object oldValue, object newValue);

-    }
-    public interface ILocalViewListener : IEntityStateListener {
+    public interface ILocalViewListener {
+        void StateChanged(InternalEntityEntry entry, EntityState oldState, bool fromQuery);
+        void StateChanging(InternalEntityEntry entry, EntityState newState);
     }
-    public interface INavigationFixer : IEntityStateListener, IKeyListener, INavigationListener, IQueryTrackingListener {
+    public interface INavigationFixer {
+        void KeyPropertyChanged(InternalEntityEntry entry, IProperty property, IReadOnlyList<IKey> containingPrincipalKeys, IReadOnlyList<IForeignKey> containingForeignKeys, object oldValue, object newValue);
+        void NavigationCollectionChanged(InternalEntityEntry entry, INavigation navigation, IEnumerable<object> added, IEnumerable<object> removed);
+        void NavigationReferenceChanged(InternalEntityEntry entry, INavigation navigation, object oldValue, object newValue);
+        void StateChanged(InternalEntityEntry entry, EntityState oldState, bool fromQuery);
+        void StateChanging(InternalEntityEntry entry, EntityState newState);
+        void TrackedFromQuery(InternalEntityEntry entry);
     }
-    public interface INavigationListener {
 {
-        void NavigationCollectionChanged(InternalEntityEntry entry, INavigation navigation, IEnumerable<object> added, IEnumerable<object> removed);

-        void NavigationReferenceChanged(InternalEntityEntry entry, INavigation navigation, object oldValue, object newValue);

-    }
     public abstract class InternalEntityEntry : IUpdateEntry {
-        public virtual bool IsKeySet { get; }
+        public virtual ValueTuple<bool, bool> IsKeySet { get; }
+        EntityState Microsoft.EntityFrameworkCore.Update.IUpdateEntry.EntityState { get; set; }
-        public virtual bool AddToCollection(INavigation navigation, InternalEntityEntry value);

+        public virtual bool AddToCollection(INavigation navigation, InternalEntityEntry value, bool forMaterialization);
+        public virtual void EnsureStoreGeneratedValues();
+        public virtual void EnsureTemporaryValues();
-        public virtual object GetOrCreateCollection(INavigation navigation);

+        public virtual object GetOrCreateCollection(INavigation navigation, bool forMaterialization);
-        public virtual void HandleConceptualNulls(bool sensitiveLoggingEnabled);

+        public virtual void HandleConceptualNulls(bool sensitiveLoggingEnabled, bool force, bool isCascadeDelete);
-        public virtual void MarkAsTemporary(IProperty property, bool isTemporary = true);

+        public virtual void MarkUnchangedFromQuery();
-        public virtual void MarkUnchangedFromQuery(ISet<IForeignKey> handledForeignKeys);

+        void Microsoft.EntityFrameworkCore.Update.IUpdateEntry.SetOriginalValue(IProperty property, object value);
+        void Microsoft.EntityFrameworkCore.Update.IUpdateEntry.SetPropertyModified(IProperty property);
-        public virtual void RemoveFromCollection(INavigation navigation, InternalEntityEntry value);

+        public virtual bool RemoveFromCollection(INavigation navigation, InternalEntityEntry value);
-        public virtual void SetCurrentValue(IPropertyBase propertyBase, object value);

+        public virtual void SetEntityState(EntityState entityState, bool acceptChanges = false, bool modifyProperties = true, Nullable<EntityState> forceStateWhenUnknownKey = default(Nullable<EntityState>));
-        public virtual void SetEntityState(EntityState entityState, bool acceptChanges = false, EntityState? forceStateWhenUnknownKey = default(EntityState?));

+        public virtual Task SetEntityStateAsync(EntityState entityState, bool acceptChanges = false, bool modifyProperties = true, Nullable<EntityState> forceStateWhenUnknownKey = default(Nullable<EntityState>), CancellationToken cancellationToken = default(CancellationToken));
-        public virtual Task SetEntityStateAsync(EntityState entityState, bool acceptChanges, EntityState? forceStateWhenUnknownKey, CancellationToken cancellationToken = default(CancellationToken));

-        public virtual void SetProperty(IPropertyBase propertyBase, object value, bool setModified = true);

+        public virtual void SetProperty(IPropertyBase propertyBase, object value, bool isMaterialization, bool setModified = true, bool isCascadeDelete = false);
-        public virtual void SetPropertyModified(IProperty property, bool changeState = true, bool isModified = true, bool isConceptualNull = false);

+        public virtual void SetPropertyModified(IProperty property, bool changeState = true, bool isModified = true, bool isConceptualNull = false, bool acceptChanges = false);
+        public virtual void SetStoreGeneratedValue(IProperty property, object value);
+        public virtual void SetTemporaryValue(IProperty property, object value, bool setModified = true);
+        public override string ToString();
-        protected virtual void WritePropertyValue(IPropertyBase propertyBase, object value);

+        protected virtual void WritePropertyValue(IPropertyBase propertyBase, object value, bool forMaterialization);
     }
     public class InternalEntityEntryNotifier : IInternalEntityEntryNotifier {
+        public InternalEntityEntryNotifier(ILocalViewListener localViewListener, IChangeDetector changeDetector, INavigationFixer navigationFixer);
-        public InternalEntityEntryNotifier(IEnumerable<IEntityStateListener> entityStateListeners, IEnumerable<IPropertyListener> propertyListeners, IEnumerable<INavigationListener> navigationListeners, IEnumerable<IKeyListener> keyListeners, IEnumerable<IQueryTrackingListener> queryTrackingListeners);

+        public virtual void TrackedFromQuery(InternalEntityEntry entry);
-        public virtual void TrackedFromQuery(InternalEntityEntry entry, ISet<IForeignKey> handledForeignKeys);

     }
     public class InternalMixedEntityEntry : InternalEntityEntry {
-        public override bool AddToCollection(INavigation navigation, InternalEntityEntry value);

+        public override bool AddToCollection(INavigation navigation, InternalEntityEntry value, bool forMaterialization);
-        public override object GetOrCreateCollection(INavigation navigation);

+        public override object GetOrCreateCollection(INavigation navigation, bool forMaterialization);
-        public override void RemoveFromCollection(INavigation navigation, InternalEntityEntry value);

+        public override bool RemoveFromCollection(INavigation navigation, InternalEntityEntry value);
-        protected override void WritePropertyValue(IPropertyBase propertyBase, object value);

+        protected override void WritePropertyValue(IPropertyBase propertyBase, object value, bool forMaterialization);
     }
     public class InternalShadowEntityEntry : InternalEntityEntry {
-        public override bool AddToCollection(INavigation navigation, InternalEntityEntry value);

+        public override bool AddToCollection(INavigation navigation, InternalEntityEntry value, bool forMaterialization);
-        public override object GetOrCreateCollection(INavigation navigation);

+        public override object GetOrCreateCollection(INavigation navigation, bool forMaterialization);
-        public override void RemoveFromCollection(INavigation navigation, InternalEntityEntry value);

+        public override bool RemoveFromCollection(INavigation navigation, InternalEntityEntry value);
-        protected override void WritePropertyValue(IPropertyBase propertyBase, object value);

+        protected override void WritePropertyValue(IPropertyBase propertyBase, object value, bool forMaterialization);
     }
     public interface IPrincipalKeyValueFactory<TKey> {
+        IProperty FindNullPropertyInKeyValues(object[] keyValues);
     }
-    public interface IPropertyListener {
 {
-        void PropertyChanged(InternalEntityEntry entry, IPropertyBase propertyBase, bool setModified);

-        void PropertyChanging(InternalEntityEntry entry, IPropertyBase propertyBase);

-    }
-    public interface IQueryTrackingListener {
 {
-        void TrackedFromQuery(InternalEntityEntry entry, ISet<IForeignKey> handledForeignKeys);

-    }
     public interface IStateManager : IResettableService {
+        CascadeTiming CascadeDeleteTiming { get; set; }
+        int Count { get; }
+        CascadeTiming DeleteOrphansTiming { get; set; }
+        StateManagerDependencies Dependencies { get; }
+        IModel Model { get; }
-        void BeginTrackingQuery();

+        void CascadeChanges(bool force);
+        void CascadeDelete(InternalEntityEntry entry, bool force, IEnumerable<IForeignKey> foreignKeys = null);
-        void EndSingleQueryMode();

+        InternalEntityEntry FindPrincipal(InternalEntityEntry dependentEntry, IForeignKey foreignKey);
+        InternalEntityEntry FindPrincipalUsingPreStoreGeneratedValues(InternalEntityEntry dependentEntry, IForeignKey foreignKey);
+        InternalEntityEntry FindPrincipalUsingRelationshipSnapshot(InternalEntityEntry dependentEntry, IForeignKey foreignKey);
+        int GetCountForState(bool added = false, bool modified = false, bool deleted = false, bool unchanged = false);
+        IEnumerable<InternalEntityEntry> GetEntriesForState(bool added = false, bool modified = false, bool deleted = false, bool unchanged = false);
-        IReadOnlyList<IUpdateEntry> GetEntriesToSave();

+        IList<IUpdateEntry> GetEntriesToSave(bool cascadeChanges);
+        IEnumerable<TEntity> GetNonDeletedEntities<TEntity>() where TEntity : class;
-        InternalEntityEntry GetPrincipal(InternalEntityEntry dependentEntry, IForeignKey foreignKey);

-        InternalEntityEntry GetPrincipalUsingPreStoreGeneratedValues(InternalEntityEntry dependentEntry, IForeignKey foreignKey);

-        InternalEntityEntry GetPrincipalUsingRelationshipSnapshot(InternalEntityEntry dependentEntry, IForeignKey foreignKey);

-        TrackingQueryMode GetTrackingQueryMode(IEntityType entityType);

+        InternalEntityEntry StartTrackingFromQuery(IEntityType baseEntityType, object entity, in ValueBuffer valueBuffer);
-        InternalEntityEntry StartTrackingFromQuery(IEntityType baseEntityType, object entity, in ValueBuffer valueBuffer, ISet<IForeignKey> handledForeignKeys);

+        void StateChanging(InternalEntityEntry entry, EntityState newState);
-        void StopTracking(InternalEntityEntry entry);

+        void StopTracking(InternalEntityEntry entry, EntityState oldState);
-        InternalEntityEntry TryGetEntry(IKey key, in ValueBuffer valueBuffer, bool throwOnNullKey);

+        InternalEntityEntry TryGetEntry(IKey key, object[] keyValues, bool throwOnNullKey, out bool hasNullKey);
-        InternalEntityEntry TryGetEntry(object entity, IEntityType type);

+        InternalEntityEntry TryGetEntry(object entity, IEntityType type, bool throwOnTypeMismatch = true);
     }
-    public class LocalViewListener : IEntityStateListener, ILocalViewListener
+    public class LocalViewListener : ILocalViewListener
-    public class NavigationFixer : IEntityStateListener, IKeyListener, INavigationFixer, INavigationListener, IQueryTrackingListener {
+    public class NavigationFixer : INavigationFixer {
+        public NavigationFixer(IChangeDetector changeDetector, IEntityGraphAttacher attacher);
-        public NavigationFixer(IChangeDetector changeDetector, IEntityGraphAttacher attacher, ILoggingOptions loggingOptions);

+        public virtual void TrackedFromQuery(InternalEntityEntry entry);
-        public virtual void TrackedFromQuery(InternalEntityEntry entry, ISet<IForeignKey> handledForeignKeys);

     }
     public class ObservableBackedBindingList<T> : SortableBindingList<T> {
-        public ObservableBackedBindingList(ICollection<T> obervableCollection);
+        public ObservableBackedBindingList(ICollection<T> observableCollection);
     }
     public class ShadowValuesFactoryFactory : SnapshotFactoryFactory<ValueBuffer> {
+        protected override Expression CreateReadValueExpression(ParameterExpression parameter, IPropertyBase property);
     }
+    public class SidecarValuesFactoryFactory : SnapshotFactoryFactory<InternalEntityEntry> {
+        public SidecarValuesFactoryFactory();
+        protected override int GetPropertyCount(IEntityType entityType);
+        protected override int GetPropertyIndex(IPropertyBase propertyBase);
+        protected override ValueComparer GetValueComparer(IProperty property);
+    }
-    public class SimpleNullableDependentKeyValueFactory<TKey> : IDependentKeyValueFactory<TKey> where TKey : struct
+    public class SimpleNullableDependentKeyValueFactory<TKey> : IDependentKeyValueFactory<TKey> where TKey : struct, ValueType
-    public class SimpleNullablePrincipalDependentKeyValueFactory<TKey, TNonNullableKey> : IDependentKeyValueFactory<TKey> where TNonNullableKey : struct
+    public class SimpleNullablePrincipalDependentKeyValueFactory<TKey, TNonNullableKey> : IDependentKeyValueFactory<TKey> where TNonNullableKey : struct, ValueType
     public class SimplePrincipalKeyValueFactory<TKey> : IPrincipalKeyValueFactory<TKey> {
+        public virtual IProperty FindNullPropertyInKeyValues(object[] keyValues);
     }
     public abstract class SnapshotFactoryFactory {
+        protected virtual Expression CreateReadValueExpression(ParameterExpression parameter, IPropertyBase property);
     }
     public class StateManager : IResettableService, IStateManager {
+        public virtual CascadeTiming CascadeDeleteTiming { get; set; }
+        public virtual int Count { get; }
+        public virtual CascadeTiming DeleteOrphansTiming { get; set; }
+        public virtual StateManagerDependencies Dependencies { get; }
+        public virtual IModel Model { get; }
-        public virtual void BeginTrackingQuery();

+        public virtual void CascadeChanges(bool force);
+        public virtual void CascadeDelete(InternalEntityEntry entry, bool force, IEnumerable<IForeignKey> foreignKeys = null);
-        public virtual void EndSingleQueryMode();

+        public virtual InternalEntityEntry FindPrincipal(InternalEntityEntry dependentEntry, IForeignKey foreignKey);
+        public virtual InternalEntityEntry FindPrincipalUsingPreStoreGeneratedValues(InternalEntityEntry dependentEntry, IForeignKey foreignKey);
+        public virtual InternalEntityEntry FindPrincipalUsingRelationshipSnapshot(InternalEntityEntry dependentEntry, IForeignKey foreignKey);
+        public virtual int GetCountForState(bool added = false, bool modified = false, bool deleted = false, bool unchanged = false);
+        public virtual IEnumerable<InternalEntityEntry> GetEntriesForState(bool added = false, bool modified = false, bool deleted = false, bool unchanged = false);
-        public virtual IReadOnlyList<IUpdateEntry> GetEntriesToSave();

+        public virtual IList<IUpdateEntry> GetEntriesToSave(bool cascadeChanges);
-        public virtual IReadOnlyList<InternalEntityEntry> GetInternalEntriesToSave();

+        public virtual IEnumerable<TEntity> GetNonDeletedEntities<TEntity>() where TEntity : class;
-        public virtual InternalEntityEntry GetPrincipal(InternalEntityEntry dependentEntry, IForeignKey foreignKey);

-        public virtual InternalEntityEntry GetPrincipalUsingPreStoreGeneratedValues(InternalEntityEntry dependentEntry, IForeignKey foreignKey);

-        public virtual InternalEntityEntry GetPrincipalUsingRelationshipSnapshot(InternalEntityEntry dependentEntry, IForeignKey foreignKey);

-        public virtual TrackingQueryMode GetTrackingQueryMode(IEntityType entityType);

+        public virtual Task ResetStateAsync(CancellationToken cancellationToken = default(CancellationToken));
+        protected virtual int SaveChanges(IList<IUpdateEntry> entriesToSave);
-        protected virtual int SaveChanges(IReadOnlyList<InternalEntityEntry> entriesToSave);

+        protected virtual Task<int> SaveChangesAsync(IList<IUpdateEntry> entriesToSave, CancellationToken cancellationToken = default(CancellationToken));
-        protected virtual Task<int> SaveChangesAsync(IReadOnlyList<InternalEntityEntry> entriesToSave, CancellationToken cancellationToken = default(CancellationToken));

+        public virtual InternalEntityEntry StartTrackingFromQuery(IEntityType baseEntityType, object entity, in ValueBuffer valueBuffer);
-        public virtual InternalEntityEntry StartTrackingFromQuery(IEntityType baseEntityType, object entity, in ValueBuffer valueBuffer, ISet<IForeignKey> handledForeignKeys);

+        public virtual void StateChanging(InternalEntityEntry entry, EntityState newState);
-        public virtual void StopTracking(InternalEntityEntry entry);

+        public virtual void StopTracking(InternalEntityEntry entry, EntityState oldState);
-        public virtual InternalEntityEntry TryGetEntry(IKey key, in ValueBuffer valueBuffer, bool throwOnNullKey);

+        public virtual InternalEntityEntry TryGetEntry(IKey key, object[] keyValues, bool throwOnNullKey, out bool hasNullKey);
-        public virtual InternalEntityEntry TryGetEntry(object entity, IEntityType entityType);

+        public virtual InternalEntityEntry TryGetEntry(object entity, IEntityType entityType, bool throwOnTypeMismatch = true);
     }
     public sealed class StateManagerDependencies {
+        public StateManagerDependencies(IInternalEntityEntryFactory internalEntityEntryFactory, IInternalEntityEntrySubscriber internalEntityEntrySubscriber, IInternalEntityEntryNotifier internalEntityEntryNotifier, IValueGenerationManager valueGenerationManager, IModel model, IDatabase database, IConcurrencyDetector concurrencyDetector, ICurrentDbContext currentContext, IEntityFinderSource entityFinderSource, IDbSetSource setSource, IEntityMaterializerSource entityMaterializerSource, ILoggingOptions loggingOptions, IDiagnosticsLogger<DbLoggerCategory.Update> updateLogger, IDiagnosticsLogger<DbLoggerCategory.ChangeTracking> changeTrackingLogger);
-        public StateManagerDependencies(IInternalEntityEntryFactory internalEntityEntryFactory, IInternalEntityEntrySubscriber internalEntityEntrySubscriber, IInternalEntityEntryNotifier internalEntityEntryNotifier, IValueGenerationManager valueGenerationManager, IModel model, IDatabase database, IConcurrencyDetector concurrencyDetector, ICurrentDbContext currentContext, IEntityFinderSource entityFinderSource, IDbSetSource setSource, IEntityMaterializerSource entityMaterializerSource, ILoggingOptions loggingOptions, IDiagnosticsLogger<DbLoggerCategory.Update> updateLogger, IDiagnosticsLogger<DbLoggerCategory.ChangeTracking> changeTrackingLogger);

+        public StateManagerDependencies With(IConcurrencyDetector concurrencyDetector);
+        public StateManagerDependencies With(ICurrentDbContext currentContext);
-        public StateManagerDependencies With(IConcurrencyDetector concurrencyDetector);

-        public StateManagerDependencies With(ICurrentDbContext currentContext);

-        public StateManagerDependencies With(IEntityMaterializerSource entityMaterializerSource);

+        public StateManagerDependencies With(IEntityMaterializerSource entityMaterializerSource);
     }
+    public static class StateManagerExtensions {
+        public static IReadOnlyList<InternalEntityEntry> ToList(this IStateManager stateManager);
+        public static IReadOnlyList<InternalEntityEntry> ToListForState(this IStateManager stateManager, bool added = false, bool modified = false, bool deleted = false, bool unchanged = false);
+    }
-    public enum TrackingQueryMode {
 {
-        Multiple = 2,

-        Simple = 0,

-        Single = 1,

-    }
 }
```

