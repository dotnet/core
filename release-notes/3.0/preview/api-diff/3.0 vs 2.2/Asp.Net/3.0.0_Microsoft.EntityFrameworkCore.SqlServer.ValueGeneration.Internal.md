# Microsoft.EntityFrameworkCore.SqlServer.ValueGeneration.Internal

``` diff
 namespace Microsoft.EntityFrameworkCore.SqlServer.ValueGeneration.Internal {
     public interface ISqlServerSequenceValueGeneratorFactory {
-        ValueGenerator Create(IProperty property, SqlServerSequenceValueGeneratorState generatorState, ISqlServerConnection connection);

+        ValueGenerator Create(IProperty property, SqlServerSequenceValueGeneratorState generatorState, ISqlServerConnection connection, IRawSqlCommandBuilder rawSqlCommandBuilder, IDiagnosticsLogger<DbLoggerCategory.Database.Command> commandLogger);
     }
     public interface ISqlServerValueGeneratorCache : IValueGeneratorCache {
-        SqlServerSequenceValueGeneratorState GetOrAddSequenceState(IProperty property);

+        SqlServerSequenceValueGeneratorState GetOrAddSequenceState(IProperty property, IRelationalConnection connection);
     }
     public class SqlServerSequenceHiLoValueGenerator<TValue> : HiLoValueGenerator<TValue> {
-        public SqlServerSequenceHiLoValueGenerator(IRawSqlCommandBuilder rawSqlCommandBuilder, ISqlServerUpdateSqlGenerator sqlGenerator, SqlServerSequenceValueGeneratorState generatorState, ISqlServerConnection connection);

+        public SqlServerSequenceHiLoValueGenerator(IRawSqlCommandBuilder rawSqlCommandBuilder, ISqlServerUpdateSqlGenerator sqlGenerator, SqlServerSequenceValueGeneratorState generatorState, ISqlServerConnection connection, IDiagnosticsLogger<DbLoggerCategory.Database.Command> commandLogger);
     }
     public class SqlServerSequenceValueGeneratorFactory : ISqlServerSequenceValueGeneratorFactory {
+        public SqlServerSequenceValueGeneratorFactory(ISqlServerUpdateSqlGenerator sqlGenerator);
-        public SqlServerSequenceValueGeneratorFactory(IRawSqlCommandBuilder rawSqlCommandBuilder, ISqlServerUpdateSqlGenerator sqlGenerator);

-        public virtual ValueGenerator Create(IProperty property, SqlServerSequenceValueGeneratorState generatorState, ISqlServerConnection connection);

+        public virtual ValueGenerator Create(IProperty property, SqlServerSequenceValueGeneratorState generatorState, ISqlServerConnection connection, IRawSqlCommandBuilder rawSqlCommandBuilder, IDiagnosticsLogger<DbLoggerCategory.Database.Command> commandLogger);
     }
     public class SqlServerValueGeneratorCache : ValueGeneratorCache, ISqlServerValueGeneratorCache, IValueGeneratorCache {
-        public virtual SqlServerSequenceValueGeneratorState GetOrAddSequenceState(IProperty property);

+        public virtual SqlServerSequenceValueGeneratorState GetOrAddSequenceState(IProperty property, IRelationalConnection connection);
     }
     public class SqlServerValueGeneratorSelector : RelationalValueGeneratorSelector {
-        public SqlServerValueGeneratorSelector(ValueGeneratorSelectorDependencies dependencies, ISqlServerSequenceValueGeneratorFactory sequenceFactory, ISqlServerConnection connection);

+        public SqlServerValueGeneratorSelector(ValueGeneratorSelectorDependencies dependencies, ISqlServerSequenceValueGeneratorFactory sequenceFactory, ISqlServerConnection connection, IRawSqlCommandBuilder rawSqlCommandBuilder, IDiagnosticsLogger<DbLoggerCategory.Database.Command> commandLogger);
     }
 }
```

