# Microsoft.Extensions.DependencyInjection

``` diff
 namespace Microsoft.Extensions.DependencyInjection {
+    public static class ActivatorUtilities {
+        public static ObjectFactory CreateFactory(Type instanceType, Type[] argumentTypes);
+        public static object CreateInstance(IServiceProvider provider, Type instanceType, params object[] parameters);
+        public static T CreateInstance<T>(IServiceProvider provider, params object[] parameters);
+        public static object GetServiceOrCreateInstance(IServiceProvider provider, Type type);
+        public static T GetServiceOrCreateInstance<T>(IServiceProvider provider);
+    }
+    public class ActivatorUtilitiesConstructorAttribute : Attribute {
+        public ActivatorUtilitiesConstructorAttribute();
+    }
     public static class AuthenticationServiceCollectionExtensions {
-        public static IServiceCollection AddRemoteScheme<TOptions, THandler>(this IServiceCollection services, string authenticationScheme, string displayName, Action<TOptions> configureOptions) where TOptions : RemoteAuthenticationOptions, new() where THandler : RemoteAuthenticationHandler<TOptions>;

-        public static IServiceCollection AddScheme<TOptions, THandler>(this IServiceCollection services, string authenticationScheme, Action<TOptions> configureOptions) where TOptions : AuthenticationSchemeOptions, new() where THandler : AuthenticationHandler<TOptions>;

-        public static IServiceCollection AddScheme<TOptions, THandler>(this IServiceCollection services, string authenticationScheme, string displayName, Action<AuthenticationSchemeBuilder> configureScheme, Action<TOptions> configureOptions) where TOptions : AuthenticationSchemeOptions, new() where THandler : AuthenticationHandler<TOptions>;

-        public static IServiceCollection AddScheme<TOptions, THandler>(this IServiceCollection services, string authenticationScheme, string displayName, Action<TOptions> configureOptions) where TOptions : AuthenticationSchemeOptions, new() where THandler : AuthenticationHandler<TOptions>;

     }
     public static class AuthorizationServiceCollectionExtensions {
-        public static IServiceCollection AddAuthorization(this IServiceCollection services);

-        public static IServiceCollection AddAuthorization(this IServiceCollection services, Action<AuthorizationOptions> configure);

+        public static IServiceCollection AddAuthorizationCore(this IServiceCollection services);
+        public static IServiceCollection AddAuthorizationCore(this IServiceCollection services, Action<AuthorizationOptions> configure);
     }
+    public static class CertificateAuthenticationAppBuilderExtensions {
+        public static AuthenticationBuilder AddCertificate(this AuthenticationBuilder builder);
+        public static AuthenticationBuilder AddCertificate(this AuthenticationBuilder builder, Action<CertificateAuthenticationOptions> configureOptions);
+        public static AuthenticationBuilder AddCertificate(this AuthenticationBuilder builder, string authenticationScheme);
+        public static AuthenticationBuilder AddCertificate(this AuthenticationBuilder builder, string authenticationScheme, Action<CertificateAuthenticationOptions> configureOptions);
+    }
+    public static class CertificateForwardingServiceExtensions {
+        public static IServiceCollection AddCertificateForwarding(this IServiceCollection services, Action<CertificateForwardingOptions> configure);
+    }
+    public class ClassWithInternalConstructor
+    public static class ComponentServiceCollectionExtensions {
+        public static IServerSideBlazorBuilder AddServerSideBlazor(this IServiceCollection services, Action<CircuitOptions> configure = null);
+    }
     public static class ConnectionsDependencyInjectionExtensions {
+        public static IServiceCollection AddConnections(this IServiceCollection services, Action<ConnectionOptions> options);
     }
+    public class DefaultServiceProviderFactory : IServiceProviderFactory<IServiceCollection> {
+        public DefaultServiceProviderFactory();
+        public DefaultServiceProviderFactory(ServiceProviderOptions options);
+        public IServiceCollection CreateBuilder(IServiceCollection services);
+        public IServiceProvider CreateServiceProvider(IServiceCollection containerBuilder);
+    }
+    public static class HeaderPropagationHttpClientBuilderExtensions {
+        public static IHttpClientBuilder AddHeaderPropagation(this IHttpClientBuilder builder);
+        public static IHttpClientBuilder AddHeaderPropagation(this IHttpClientBuilder builder, Action<HeaderPropagationMessageHandlerOptions> configure);
+    }
+    public static class HeaderPropagationServiceCollectionExtensions {
+        public static IServiceCollection AddHeaderPropagation(this IServiceCollection services);
+        public static IServiceCollection AddHeaderPropagation(this IServiceCollection services, Action<HeaderPropagationOptions> configureOptions);
+    }
     public static class HealthChecksBuilderAddCheckExtensions {
-        public static IHealthChecksBuilder AddCheck(this IHealthChecksBuilder builder, string name, IHealthCheck instance, Nullable<HealthStatus> failureStatus = default(Nullable<HealthStatus>), IEnumerable<string> tags = null);
+        public static IHealthChecksBuilder AddCheck(this IHealthChecksBuilder builder, string name, IHealthCheck instance, HealthStatus? failureStatus, IEnumerable<string> tags);
+        public static IHealthChecksBuilder AddCheck(this IHealthChecksBuilder builder, string name, IHealthCheck instance, HealthStatus? failureStatus = default(HealthStatus?), IEnumerable<string> tags = null, TimeSpan? timeout = default(TimeSpan?));
-        public static IHealthChecksBuilder AddCheck<T>(this IHealthChecksBuilder builder, string name, Nullable<HealthStatus> failureStatus = default(Nullable<HealthStatus>), IEnumerable<string> tags = null) where T : class, IHealthCheck;
+        public static IHealthChecksBuilder AddCheck<T>(this IHealthChecksBuilder builder, string name, HealthStatus? failureStatus, IEnumerable<string> tags) where T : class, IHealthCheck;
+        public static IHealthChecksBuilder AddCheck<T>(this IHealthChecksBuilder builder, string name, HealthStatus? failureStatus = default(HealthStatus?), IEnumerable<string> tags = null, TimeSpan? timeout = default(TimeSpan?)) where T : class, IHealthCheck;
-        public static IHealthChecksBuilder AddTypeActivatedCheck<T>(this IHealthChecksBuilder builder, string name, Nullable<HealthStatus> failureStatus, IEnumerable<string> tags, params object[] args) where T : class, IHealthCheck;
+        public static IHealthChecksBuilder AddTypeActivatedCheck<T>(this IHealthChecksBuilder builder, string name, HealthStatus? failureStatus, IEnumerable<string> tags, params object[] args) where T : class, IHealthCheck;
+        public static IHealthChecksBuilder AddTypeActivatedCheck<T>(this IHealthChecksBuilder builder, string name, HealthStatus? failureStatus, IEnumerable<string> tags, TimeSpan timeout, params object[] args) where T : class, IHealthCheck;
-        public static IHealthChecksBuilder AddTypeActivatedCheck<T>(this IHealthChecksBuilder builder, string name, Nullable<HealthStatus> failureStatus, params object[] args) where T : class, IHealthCheck;
+        public static IHealthChecksBuilder AddTypeActivatedCheck<T>(this IHealthChecksBuilder builder, string name, HealthStatus? failureStatus, params object[] args) where T : class, IHealthCheck;
     }
     public static class HealthChecksBuilderDelegateExtensions {
-        public static IHealthChecksBuilder AddAsyncCheck(this IHealthChecksBuilder builder, string name, Func<CancellationToken, Task<HealthCheckResult>> check, IEnumerable<string> tags = null);
+        public static IHealthChecksBuilder AddAsyncCheck(this IHealthChecksBuilder builder, string name, Func<CancellationToken, Task<HealthCheckResult>> check, IEnumerable<string> tags);
+        public static IHealthChecksBuilder AddAsyncCheck(this IHealthChecksBuilder builder, string name, Func<CancellationToken, Task<HealthCheckResult>> check, IEnumerable<string> tags = null, TimeSpan? timeout = default(TimeSpan?));
-        public static IHealthChecksBuilder AddAsyncCheck(this IHealthChecksBuilder builder, string name, Func<Task<HealthCheckResult>> check, IEnumerable<string> tags = null);
+        public static IHealthChecksBuilder AddAsyncCheck(this IHealthChecksBuilder builder, string name, Func<Task<HealthCheckResult>> check, IEnumerable<string> tags);
+        public static IHealthChecksBuilder AddAsyncCheck(this IHealthChecksBuilder builder, string name, Func<Task<HealthCheckResult>> check, IEnumerable<string> tags = null, TimeSpan? timeout = default(TimeSpan?));
-        public static IHealthChecksBuilder AddCheck(this IHealthChecksBuilder builder, string name, Func<HealthCheckResult> check, IEnumerable<string> tags = null);
+        public static IHealthChecksBuilder AddCheck(this IHealthChecksBuilder builder, string name, Func<HealthCheckResult> check, IEnumerable<string> tags);
+        public static IHealthChecksBuilder AddCheck(this IHealthChecksBuilder builder, string name, Func<HealthCheckResult> check, IEnumerable<string> tags = null, TimeSpan? timeout = default(TimeSpan?));
-        public static IHealthChecksBuilder AddCheck(this IHealthChecksBuilder builder, string name, Func<CancellationToken, HealthCheckResult> check, IEnumerable<string> tags = null);
+        public static IHealthChecksBuilder AddCheck(this IHealthChecksBuilder builder, string name, Func<CancellationToken, HealthCheckResult> check, IEnumerable<string> tags);
+        public static IHealthChecksBuilder AddCheck(this IHealthChecksBuilder builder, string name, Func<CancellationToken, HealthCheckResult> check, IEnumerable<string> tags = null, TimeSpan? timeout = default(TimeSpan?));
     }
+    public static class IdentityServerBuilderConfigurationExtensions {
+        public static IIdentityServerBuilder AddApiAuthorization<TUser, TContext>(this IIdentityServerBuilder builder) where TUser : class where TContext : DbContext, IPersistedGrantDbContext;
+        public static IIdentityServerBuilder AddApiAuthorization<TUser, TContext>(this IIdentityServerBuilder builder, Action<ApiAuthorizationOptions> configure) where TUser : class where TContext : DbContext, IPersistedGrantDbContext;
+        public static IIdentityServerBuilder AddApiResources(this IIdentityServerBuilder builder);
+        public static IIdentityServerBuilder AddApiResources(this IIdentityServerBuilder builder, IConfiguration configuration);
+        public static IIdentityServerBuilder AddClients(this IIdentityServerBuilder builder);
+        public static IIdentityServerBuilder AddClients(this IIdentityServerBuilder builder, IConfiguration configuration);
+        public static IIdentityServerBuilder AddIdentityResources(this IIdentityServerBuilder builder);
+        public static IIdentityServerBuilder AddIdentityResources(this IIdentityServerBuilder builder, IConfiguration configuration);
+        public static IIdentityServerBuilder AddSigningCredentials(this IIdentityServerBuilder builder);
+        public static IIdentityServerBuilder AddSigningCredentials(this IIdentityServerBuilder builder, IConfiguration configuration);
+    }
+    public interface IServerSideBlazorBuilder {
+        IServiceCollection Services { get; }
+    }
+    public interface IServiceCollection : ICollection<ServiceDescriptor>, IEnumerable, IEnumerable<ServiceDescriptor>, IList<ServiceDescriptor>
+    public interface IServiceProviderFactory<TContainerBuilder> {
+        TContainerBuilder CreateBuilder(IServiceCollection services);
+        IServiceProvider CreateServiceProvider(TContainerBuilder containerBuilder);
+    }
+    public interface IServiceScope : IDisposable {
+        IServiceProvider ServiceProvider { get; }
+    }
+    public interface IServiceScopeFactory {
+        IServiceScope CreateScope();
+    }
+    public interface ISupportRequiredService {
+        object GetRequiredService(Type serviceType);
+    }
+    public static class LoggingServiceCollectionExtensions {
+        public static IServiceCollection AddLogging(this IServiceCollection services);
+        public static IServiceCollection AddLogging(this IServiceCollection services, Action<ILoggingBuilder> configure);
+    }
+    public static class MemoryCacheServiceCollectionExtensions {
+        public static IServiceCollection AddDistributedMemoryCache(this IServiceCollection services);
+        public static IServiceCollection AddDistributedMemoryCache(this IServiceCollection services, Action<MemoryDistributedCacheOptions> setupAction);
+        public static IServiceCollection AddMemoryCache(this IServiceCollection services);
+        public static IServiceCollection AddMemoryCache(this IServiceCollection services, Action<MemoryCacheOptions> setupAction);
+    }
     public static class MvcCoreMvcBuilderExtensions {
+        public static IMvcBuilder AddJsonOptions(this IMvcBuilder builder, Action<JsonOptions> configure);
     }
     public static class MvcCoreMvcCoreBuilderExtensions {
+        public static IMvcCoreBuilder AddJsonOptions(this IMvcCoreBuilder builder, Action<JsonOptions> configure);
     }
-    public static class MvcJsonMvcBuilderExtensions {
 {
-        public static IMvcBuilder AddJsonOptions(this IMvcBuilder builder, Action<MvcJsonOptions> setupAction);

-    }
-    public static class MvcJsonMvcCoreBuilderExtensions {
 {
-        public static IMvcCoreBuilder AddJsonFormatters(this IMvcCoreBuilder builder);

-        public static IMvcCoreBuilder AddJsonFormatters(this IMvcCoreBuilder builder, Action<JsonSerializerSettings> setupAction);

-        public static IMvcCoreBuilder AddJsonOptions(this IMvcCoreBuilder builder, Action<MvcJsonOptions> setupAction);

-    }
-    public static class MvcJsonOptionsExtensions {
 {
-        public static MvcJsonOptions UseCamelCasing(this MvcJsonOptions options, bool processDictionaryKeys);

-        public static MvcJsonOptions UseMemberCasing(this MvcJsonOptions options);

-    }
+    public static class MvcNewtonsoftJsonOptionsExtensions {
+        public static MvcNewtonsoftJsonOptions UseCamelCasing(this MvcNewtonsoftJsonOptions options, bool processDictionaryKeys);
+        public static MvcNewtonsoftJsonOptions UseMemberCasing(this MvcNewtonsoftJsonOptions options);
+    }
     public static class MvcServiceCollectionExtensions {
+        public static IMvcBuilder AddControllers(this IServiceCollection services);
+        public static IMvcBuilder AddControllers(this IServiceCollection services, Action<MvcOptions> configure);
+        public static IMvcBuilder AddControllersWithViews(this IServiceCollection services);
+        public static IMvcBuilder AddControllersWithViews(this IServiceCollection services, Action<MvcOptions> configure);
+        public static IMvcBuilder AddRazorPages(this IServiceCollection services);
+        public static IMvcBuilder AddRazorPages(this IServiceCollection services, Action<RazorPagesOptions> configure);
     }
+    public static class NegotiateExtensions {
+        public static AuthenticationBuilder AddNegotiate(this AuthenticationBuilder builder);
+        public static AuthenticationBuilder AddNegotiate(this AuthenticationBuilder builder, Action<NegotiateOptions> configureOptions);
+        public static AuthenticationBuilder AddNegotiate(this AuthenticationBuilder builder, string authenticationScheme, Action<NegotiateOptions> configureOptions);
+        public static AuthenticationBuilder AddNegotiate(this AuthenticationBuilder builder, string authenticationScheme, string displayName, Action<NegotiateOptions> configureOptions);
+    }
+    public static class NewtonsoftJsonMvcBuilderExtensions {
+        public static IMvcBuilder AddNewtonsoftJson(this IMvcBuilder builder);
+        public static IMvcBuilder AddNewtonsoftJson(this IMvcBuilder builder, Action<MvcNewtonsoftJsonOptions> setupAction);
+    }
+    public static class NewtonsoftJsonMvcCoreBuilderExtensions {
+        public static IMvcCoreBuilder AddNewtonsoftJson(this IMvcCoreBuilder builder);
+        public static IMvcCoreBuilder AddNewtonsoftJson(this IMvcCoreBuilder builder, Action<MvcNewtonsoftJsonOptions> setupAction);
+    }
+    public static class NewtonsoftJsonProtocolDependencyInjectionExtensions {
+        public static TBuilder AddNewtonsoftJsonProtocol<TBuilder>(this TBuilder builder) where TBuilder : ISignalRBuilder;
+        public static TBuilder AddNewtonsoftJsonProtocol<TBuilder>(this TBuilder builder, Action<NewtonsoftJsonHubProtocolOptions> configure) where TBuilder : ISignalRBuilder;
+    }
+    public delegate object ObjectFactory(IServiceProvider serviceProvider, object[] arguments);
+    public static class OptionsBuilderConfigurationExtensions {
+        public static OptionsBuilder<TOptions> Bind<TOptions>(this OptionsBuilder<TOptions> optionsBuilder, IConfiguration config) where TOptions : class;
+        public static OptionsBuilder<TOptions> Bind<TOptions>(this OptionsBuilder<TOptions> optionsBuilder, IConfiguration config, Action<BinderOptions> configureBinder) where TOptions : class;
+    }
+    public static class OptionsBuilderDataAnnotationsExtensions {
+        public static OptionsBuilder<TOptions> ValidateDataAnnotations<TOptions>(this OptionsBuilder<TOptions> optionsBuilder) where TOptions : class;
+    }
+    public static class OptionsConfigurationServiceCollectionExtensions {
+        public static IServiceCollection Configure<TOptions>(this IServiceCollection services, IConfiguration config) where TOptions : class;
+        public static IServiceCollection Configure<TOptions>(this IServiceCollection services, IConfiguration config, Action<BinderOptions> configureBinder) where TOptions : class;
+        public static IServiceCollection Configure<TOptions>(this IServiceCollection services, string name, IConfiguration config) where TOptions : class;
+        public static IServiceCollection Configure<TOptions>(this IServiceCollection services, string name, IConfiguration config, Action<BinderOptions> configureBinder) where TOptions : class;
+    }
+    public static class OptionsServiceCollectionExtensions {
+        public static IServiceCollection AddOptions(this IServiceCollection services);
+        public static OptionsBuilder<TOptions> AddOptions<TOptions>(this IServiceCollection services) where TOptions : class;
+        public static OptionsBuilder<TOptions> AddOptions<TOptions>(this IServiceCollection services, string name) where TOptions : class;
+        public static IServiceCollection Configure<TOptions>(this IServiceCollection services, Action<TOptions> configureOptions) where TOptions : class;
+        public static IServiceCollection Configure<TOptions>(this IServiceCollection services, string name, Action<TOptions> configureOptions) where TOptions : class;
+        public static IServiceCollection ConfigureAll<TOptions>(this IServiceCollection services, Action<TOptions> configureOptions) where TOptions : class;
+        public static IServiceCollection ConfigureOptions(this IServiceCollection services, object configureInstance);
+        public static IServiceCollection ConfigureOptions(this IServiceCollection services, Type configureType);
+        public static IServiceCollection ConfigureOptions<TConfigureOptions>(this IServiceCollection services) where TConfigureOptions : class;
+        public static IServiceCollection PostConfigure<TOptions>(this IServiceCollection services, Action<TOptions> configureOptions) where TOptions : class;
+        public static IServiceCollection PostConfigure<TOptions>(this IServiceCollection services, string name, Action<TOptions> configureOptions) where TOptions : class;
+        public static IServiceCollection PostConfigureAll<TOptions>(this IServiceCollection services, Action<TOptions> configureOptions) where TOptions : class;
+    }
     public static class PolicyServiceCollectionExtensions {
+        public static IServiceCollection AddAuthorization(this IServiceCollection services);
+        public static IServiceCollection AddAuthorization(this IServiceCollection services, Action<AuthorizationOptions> configure);
     }
     public static class PollyHttpClientBuilderExtensions {
+        public static IHttpClientBuilder AddPolicyHandler(this IHttpClientBuilder builder, Func<IServiceProvider, HttpRequestMessage, string, IAsyncPolicy<HttpResponseMessage>> policyFactory, Func<HttpRequestMessage, string> keySelector);
     }
+    public static class QueuePolicyServiceCollectionExtensions {
+        public static IServiceCollection AddQueuePolicy(this IServiceCollection services, Action<QueuePolicyOptions> configure);
+        public static IServiceCollection AddStackPolicy(this IServiceCollection services, Action<QueuePolicyOptions> configure);
+    }
+    public static class RazorRuntimeCompilationMvcBuilderExtensions {
+        public static IMvcBuilder AddRazorRuntimeCompilation(this IMvcBuilder builder);
+        public static IMvcBuilder AddRazorRuntimeCompilation(this IMvcBuilder builder, Action<MvcRazorRuntimeCompilationOptions> setupAction);
+    }
+    public static class RazorRuntimeCompilationMvcCoreBuilderExtensions {
+        public static IMvcCoreBuilder AddRazorRuntimeCompilation(this IMvcCoreBuilder builder);
+        public static IMvcCoreBuilder AddRazorRuntimeCompilation(this IMvcCoreBuilder builder, Action<MvcRazorRuntimeCompilationOptions> setupAction);
+    }
-    public static class RedisDependencyInjectionExtensions {
 {
-        public static ISignalRServerBuilder AddRedis(this ISignalRServerBuilder signalrBuilder);

-        public static ISignalRServerBuilder AddRedis(this ISignalRServerBuilder signalrBuilder, Action<RedisOptions> configure);

-        public static ISignalRServerBuilder AddRedis(this ISignalRServerBuilder signalrBuilder, string redisConnectionString);

-        public static ISignalRServerBuilder AddRedis(this ISignalRServerBuilder signalrBuilder, string redisConnectionString, Action<RedisOptions> configure);

-    }
+    public static class ServerSideBlazorBuilderExtensions {
+        public static IServerSideBlazorBuilder AddCircuitOptions(this IServerSideBlazorBuilder builder, Action<CircuitOptions> configure);
+        public static IServerSideBlazorBuilder AddHubOptions(this IServerSideBlazorBuilder builder, Action<HubOptions> configure);
+    }
+    public class ServiceCollection : ICollection<ServiceDescriptor>, IEnumerable, IEnumerable<ServiceDescriptor>, IList<ServiceDescriptor>, IServiceCollection {
+        public ServiceCollection();
+        public int Count { get; }
+        public bool IsReadOnly { get; }
+        public ServiceDescriptor this[int index] { get; set; }
+        public void Clear();
+        public bool Contains(ServiceDescriptor item);
+        public void CopyTo(ServiceDescriptor[] array, int arrayIndex);
+        public IEnumerator<ServiceDescriptor> GetEnumerator();
+        public int IndexOf(ServiceDescriptor item);
+        public void Insert(int index, ServiceDescriptor item);
+        public bool Remove(ServiceDescriptor item);
+        public void RemoveAt(int index);
+        void System.Collections.Generic.ICollection<Microsoft.Extensions.DependencyInjection.ServiceDescriptor>.Add(ServiceDescriptor item);
+        IEnumerator System.Collections.IEnumerable.GetEnumerator();
+    }
+    public static class ServiceCollectionContainerBuilderExtensions {
+        public static ServiceProvider BuildServiceProvider(this IServiceCollection services);
+        public static ServiceProvider BuildServiceProvider(this IServiceCollection services, ServiceProviderOptions options);
+        public static ServiceProvider BuildServiceProvider(this IServiceCollection services, bool validateScopes);
+    }
     public static class ServiceCollectionHostedServiceExtensions {
+        public static IServiceCollection AddHostedService<THostedService>(this IServiceCollection services, Func<IServiceProvider, THostedService> implementationFactory) where THostedService : class, IHostedService;
     }
+    public static class ServiceCollectionServiceExtensions {
+        public static IServiceCollection AddScoped(this IServiceCollection services, Type serviceType);
+        public static IServiceCollection AddScoped(this IServiceCollection services, Type serviceType, Func<IServiceProvider, object> implementationFactory);
+        public static IServiceCollection AddScoped(this IServiceCollection services, Type serviceType, Type implementationType);
+        public static IServiceCollection AddScoped<TService, TImplementation>(this IServiceCollection services) where TService : class where TImplementation : class, TService;
+        public static IServiceCollection AddScoped<TService, TImplementation>(this IServiceCollection services, Func<IServiceProvider, TImplementation> implementationFactory) where TService : class where TImplementation : class, TService;
+        public static IServiceCollection AddScoped<TService>(this IServiceCollection services) where TService : class;
+        public static IServiceCollection AddScoped<TService>(this IServiceCollection services, Func<IServiceProvider, TService> implementationFactory) where TService : class;
+        public static IServiceCollection AddSingleton(this IServiceCollection services, Type serviceType);
+        public static IServiceCollection AddSingleton(this IServiceCollection services, Type serviceType, Func<IServiceProvider, object> implementationFactory);
+        public static IServiceCollection AddSingleton(this IServiceCollection services, Type serviceType, object implementationInstance);
+        public static IServiceCollection AddSingleton(this IServiceCollection services, Type serviceType, Type implementationType);
+        public static IServiceCollection AddSingleton<TService, TImplementation>(this IServiceCollection services) where TService : class where TImplementation : class, TService;
+        public static IServiceCollection AddSingleton<TService, TImplementation>(this IServiceCollection services, Func<IServiceProvider, TImplementation> implementationFactory) where TService : class where TImplementation : class, TService;
+        public static IServiceCollection AddSingleton<TService>(this IServiceCollection services) where TService : class;
+        public static IServiceCollection AddSingleton<TService>(this IServiceCollection services, Func<IServiceProvider, TService> implementationFactory) where TService : class;
+        public static IServiceCollection AddSingleton<TService>(this IServiceCollection services, TService implementationInstance) where TService : class;
+        public static IServiceCollection AddTransient(this IServiceCollection services, Type serviceType);
+        public static IServiceCollection AddTransient(this IServiceCollection services, Type serviceType, Func<IServiceProvider, object> implementationFactory);
+        public static IServiceCollection AddTransient(this IServiceCollection services, Type serviceType, Type implementationType);
+        public static IServiceCollection AddTransient<TService, TImplementation>(this IServiceCollection services) where TService : class where TImplementation : class, TService;
+        public static IServiceCollection AddTransient<TService, TImplementation>(this IServiceCollection services, Func<IServiceProvider, TImplementation> implementationFactory) where TService : class where TImplementation : class, TService;
+        public static IServiceCollection AddTransient<TService>(this IServiceCollection services) where TService : class;
+        public static IServiceCollection AddTransient<TService>(this IServiceCollection services, Func<IServiceProvider, TService> implementationFactory) where TService : class;
+    }
+    public class ServiceDescriptor {
+        public ServiceDescriptor(Type serviceType, Func<IServiceProvider, object> factory, ServiceLifetime lifetime);
+        public ServiceDescriptor(Type serviceType, object instance);
+        public ServiceDescriptor(Type serviceType, Type implementationType, ServiceLifetime lifetime);
+        public Func<IServiceProvider, object> ImplementationFactory { get; }
+        public object ImplementationInstance { get; }
+        public Type ImplementationType { get; }
+        public ServiceLifetime Lifetime { get; }
+        public Type ServiceType { get; }
+        public static ServiceDescriptor Describe(Type serviceType, Func<IServiceProvider, object> implementationFactory, ServiceLifetime lifetime);
+        public static ServiceDescriptor Describe(Type serviceType, Type implementationType, ServiceLifetime lifetime);
+        public static ServiceDescriptor Scoped(Type service, Func<IServiceProvider, object> implementationFactory);
+        public static ServiceDescriptor Scoped(Type service, Type implementationType);
+        public static ServiceDescriptor Scoped<TService, TImplementation>() where TService : class where TImplementation : class, TService;
+        public static ServiceDescriptor Scoped<TService, TImplementation>(Func<IServiceProvider, TImplementation> implementationFactory) where TService : class where TImplementation : class, TService;
+        public static ServiceDescriptor Scoped<TService>(Func<IServiceProvider, TService> implementationFactory) where TService : class;
+        public static ServiceDescriptor Singleton(Type serviceType, Func<IServiceProvider, object> implementationFactory);
+        public static ServiceDescriptor Singleton(Type serviceType, object implementationInstance);
+        public static ServiceDescriptor Singleton(Type service, Type implementationType);
+        public static ServiceDescriptor Singleton<TService, TImplementation>() where TService : class where TImplementation : class, TService;
+        public static ServiceDescriptor Singleton<TService, TImplementation>(Func<IServiceProvider, TImplementation> implementationFactory) where TService : class where TImplementation : class, TService;
+        public static ServiceDescriptor Singleton<TService>(Func<IServiceProvider, TService> implementationFactory) where TService : class;
+        public static ServiceDescriptor Singleton<TService>(TService implementationInstance) where TService : class;
+        public override string ToString();
+        public static ServiceDescriptor Transient(Type service, Func<IServiceProvider, object> implementationFactory);
+        public static ServiceDescriptor Transient(Type service, Type implementationType);
+        public static ServiceDescriptor Transient<TService, TImplementation>() where TService : class where TImplementation : class, TService;
+        public static ServiceDescriptor Transient<TService, TImplementation>(Func<IServiceProvider, TImplementation> implementationFactory) where TService : class where TImplementation : class, TService;
+        public static ServiceDescriptor Transient<TService>(Func<IServiceProvider, TService> implementationFactory) where TService : class;
+    }
+    public enum ServiceLifetime {
+        Scoped = 1,
+        Singleton = 0,
+        Transient = 2,
+    }
+    public sealed class ServiceProvider : IAsyncDisposable, IDisposable, IServiceProvider {
+        public void Dispose();
+        public ValueTask DisposeAsync();
+        public object GetService(Type serviceType);
+    }
+    public class ServiceProviderOptions {
+        public ServiceProviderOptions();
+        public bool ValidateOnBuild { get; set; }
+        public bool ValidateScopes { get; set; }
+    }
+    public static class ServiceProviderServiceExtensions {
+        public static IServiceScope CreateScope(this IServiceProvider provider);
+        public static object GetRequiredService(this IServiceProvider provider, Type serviceType);
+        public static T GetRequiredService<T>(this IServiceProvider provider);
+        public static T GetService<T>(this IServiceProvider provider);
+        public static IEnumerable<object> GetServices(this IServiceProvider provider, Type serviceType);
+        public static IEnumerable<T> GetServices<T>(this IServiceProvider provider);
+    }
+    public static class SqlServerCachingServicesExtensions {
+        public static IServiceCollection AddDistributedSqlServerCache(this IServiceCollection services, Action<SqlServerCacheOptions> setupAction);
+    }
+    public static class StackExchangeRedisCacheServiceCollectionExtensions {
+        public static IServiceCollection AddStackExchangeRedisCache(this IServiceCollection services, Action<RedisCacheOptions> setupAction);
+    }
-    public static class WebApiCompatShimMvcBuilderExtensions {
 {
-        public static IMvcBuilder AddWebApiConventions(this IMvcBuilder builder);

-    }
 }
```

