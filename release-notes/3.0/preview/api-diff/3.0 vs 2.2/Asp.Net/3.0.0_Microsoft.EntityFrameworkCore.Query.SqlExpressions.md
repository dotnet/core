# Microsoft.EntityFrameworkCore.Query.SqlExpressions

``` diff
+namespace Microsoft.EntityFrameworkCore.Query.SqlExpressions {
+    public class CaseExpression : SqlExpression {
+        public CaseExpression(SqlExpression operand, IReadOnlyList<CaseWhenClause> whenClauses);
+        public CaseExpression(SqlExpression operand, IReadOnlyList<CaseWhenClause> whenClauses, SqlExpression elseResult);
+        public CaseExpression(IReadOnlyList<CaseWhenClause> whenClauses, SqlExpression elseResult);
+        public virtual SqlExpression ElseResult { get; }
+        public virtual SqlExpression Operand { get; }
+        public virtual IReadOnlyList<CaseWhenClause> WhenClauses { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual CaseExpression Update(SqlExpression operand, IReadOnlyList<CaseWhenClause> whenClauses, SqlExpression elseResult);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class CaseWhenClause {
+        public CaseWhenClause(SqlExpression test, SqlExpression result);
+        public virtual SqlExpression Result { get; }
+        public virtual SqlExpression Test { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+    }
+    public class ColumnExpression : SqlExpression {
+        public bool IsNullable { get; }
+        public string Name { get; }
+        public TableExpressionBase Table { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public ColumnExpression MakeNullable();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class CrossApplyExpression : JoinExpressionBase {
+        public CrossApplyExpression(TableExpressionBase table);
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual CrossApplyExpression Update(TableExpressionBase table);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class CrossJoinExpression : JoinExpressionBase {
+        public CrossJoinExpression(TableExpressionBase table);
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual CrossJoinExpression Update(TableExpressionBase table);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class ExceptExpression : SetOperationBase {
+        public ExceptExpression(string alias, SelectExpression source1, SelectExpression source2, bool distinct);
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual ExceptExpression Update(SelectExpression source1, SelectExpression source2);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class ExistsExpression : SqlExpression {
+        public ExistsExpression(SelectExpression subquery, bool negated, RelationalTypeMapping typeMapping);
+        public virtual bool IsNegated { get; }
+        public virtual SelectExpression Subquery { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual ExistsExpression Update(SelectExpression subquery);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class FromSqlExpression : TableExpressionBase {
+        public FromSqlExpression(string sql, Expression arguments, string alias);
+        public virtual Expression Arguments { get; }
+        public virtual string Sql { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class InExpression : SqlExpression {
+        public InExpression(SqlExpression item, bool negated, SelectExpression subquery, RelationalTypeMapping typeMapping);
+        public InExpression(SqlExpression item, bool negated, SqlExpression values, RelationalTypeMapping typeMapping);
+        public virtual bool IsNegated { get; }
+        public virtual SqlExpression Item { get; }
+        public virtual SelectExpression Subquery { get; }
+        public virtual SqlExpression Values { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public virtual InExpression Negate();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual InExpression Update(SqlExpression item, SqlExpression values, SelectExpression subquery);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class InnerJoinExpression : PredicateJoinExpressionBase {
+        public InnerJoinExpression(TableExpressionBase table, SqlExpression joinPredicate);
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual InnerJoinExpression Update(TableExpressionBase table, SqlExpression joinPredicate);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class IntersectExpression : SetOperationBase {
+        public IntersectExpression(string alias, SelectExpression source1, SelectExpression source2, bool distinct);
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual IntersectExpression Update(SelectExpression source1, SelectExpression source2);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public abstract class JoinExpressionBase : TableExpressionBase {
+        protected JoinExpressionBase(TableExpressionBase table);
+        public virtual TableExpressionBase Table { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+    }
+    public class LeftJoinExpression : PredicateJoinExpressionBase {
+        public LeftJoinExpression(TableExpressionBase table, SqlExpression joinPredicate);
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual LeftJoinExpression Update(TableExpressionBase table, SqlExpression joinPredicate);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class LikeExpression : SqlExpression {
+        public LikeExpression(SqlExpression match, SqlExpression pattern, SqlExpression escapeChar, RelationalTypeMapping typeMapping);
+        public virtual SqlExpression EscapeChar { get; }
+        public virtual SqlExpression Match { get; }
+        public virtual SqlExpression Pattern { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual LikeExpression Update(SqlExpression match, SqlExpression pattern, SqlExpression escapeChar);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class OrderingExpression : Expression, IPrintableExpression {
+        public OrderingExpression(SqlExpression expression, bool ascending);
+        public virtual SqlExpression Expression { get; }
+        public virtual bool IsAscending { get; }
+        public sealed override ExpressionType NodeType { get; }
+        public override Type Type { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public virtual void Print(ExpressionPrinter expressionPrinter);
+        public virtual OrderingExpression Update(SqlExpression expression);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class OuterApplyExpression : JoinExpressionBase {
+        public OuterApplyExpression(TableExpressionBase table);
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual OuterApplyExpression Update(TableExpressionBase table);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public abstract class PredicateJoinExpressionBase : JoinExpressionBase {
+        protected PredicateJoinExpressionBase(TableExpressionBase table, SqlExpression joinPredicate);
+        public virtual SqlExpression JoinPredicate { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+    }
+    public class ProjectionExpression : Expression, IPrintableExpression {
+        public ProjectionExpression(SqlExpression expression, string alias);
+        public virtual string Alias { get; }
+        public virtual SqlExpression Expression { get; }
+        public sealed override ExpressionType NodeType { get; }
+        public override Type Type { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public virtual void Print(ExpressionPrinter expressionPrinter);
+        public virtual ProjectionExpression Update(SqlExpression expression);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class RowNumberExpression : SqlExpression {
+        public RowNumberExpression(IReadOnlyList<SqlExpression> partitions, IReadOnlyList<OrderingExpression> orderings, RelationalTypeMapping typeMapping);
+        public virtual IReadOnlyList<OrderingExpression> Orderings { get; }
+        public virtual IReadOnlyList<SqlExpression> Partitions { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual RowNumberExpression Update(IReadOnlyList<SqlExpression> partitions, IReadOnlyList<OrderingExpression> orderings);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class ScalarSubqueryExpression : SqlExpression {
+        public ScalarSubqueryExpression(SelectExpression subquery);
+        public virtual SelectExpression Subquery { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual ScalarSubqueryExpression Update(SelectExpression subquery);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class SelectExpression : TableExpressionBase {
+        public IReadOnlyList<SqlExpression> GroupBy { get; }
+        public SqlExpression Having { get; private set; }
+        public bool IsDistinct { get; private set; }
+        public SqlExpression Limit { get; private set; }
+        public SqlExpression Offset { get; private set; }
+        public IReadOnlyList<OrderingExpression> Orderings { get; }
+        public SqlExpression Predicate { get; private set; }
+        public IReadOnlyList<ProjectionExpression> Projection { get; }
+        public IReadOnlyList<TableExpressionBase> Tables { get; }
+        public ISet<string> Tags { get; private set; }
+        public CollectionShaperExpression AddCollectionProjection(ShapedQueryExpression shapedQueryExpression, INavigation navigation, Type elementType);
+        public void AddCrossApply(SelectExpression innerSelectExpression, Type transparentIdentifierType);
+        public void AddCrossJoin(SelectExpression innerSelectExpression, Type transparentIdentifierType);
+        public void AddInnerJoin(SelectExpression innerSelectExpression, SqlExpression joinPredicate, Type transparentIdentifierType);
+        public void AddLeftJoin(SelectExpression innerSelectExpression, SqlExpression joinPredicate, Type transparentIdentifierType);
+        public void AddOuterApply(SelectExpression innerSelectExpression, Type transparentIdentifierType);
+        public Expression AddSingleProjection(ShapedQueryExpression shapedQueryExpression);
+        public IDictionary<IProperty, int> AddToProjection(EntityProjectionExpression entityProjection);
+        public int AddToProjection(SqlExpression sqlExpression);
+        public void AppendOrdering(OrderingExpression orderingExpression);
+        public Expression ApplyCollectionJoin(int collectionIndex, int collectionId, Expression innerShaper, INavigation navigation, Type elementType);
+        public void ApplyDefaultIfEmpty(ISqlExpressionFactory sqlExpressionFactory);
+        public void ApplyDistinct();
+        public void ApplyExcept(SelectExpression source2, bool distinct);
+        public void ApplyGrouping(Expression keySelector);
+        public void ApplyIntersect(SelectExpression source2, bool distinct);
+        public void ApplyLimit(SqlExpression sqlExpression);
+        public void ApplyOffset(SqlExpression sqlExpression);
+        public void ApplyOrdering(OrderingExpression orderingExpression);
+        public void ApplyPredicate(SqlExpression expression);
+        public void ApplyProjection();
+        public void ApplyTags(ISet<string> tags);
+        public void ApplyUnion(SelectExpression source2, bool distinct);
+        public void ClearOrdering();
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public Expression GetMappedProjection(ProjectionMember projectionMember);
+        public bool IsNonComposedFromSql();
+        public void PrepareForAggregate();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public IDictionary<SqlExpression, ColumnExpression> PushdownIntoSubquery();
+        public void ReplaceProjectionMapping(IDictionary<ProjectionMember, Expression> projectionMapping);
+        public void ReverseOrderings();
+        public SelectExpression Update(List<ProjectionExpression> projections, List<TableExpressionBase> tables, SqlExpression predicate, List<SqlExpression> groupBy, SqlExpression havingExpression, List<OrderingExpression> orderings, SqlExpression limit, SqlExpression offset, bool distinct, string alias);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public abstract class SetOperationBase : TableExpressionBase {
+        protected SetOperationBase(string alias, SelectExpression source1, SelectExpression source2, bool distinct);
+        public virtual bool IsDistinct { get; }
+        public virtual SelectExpression Source1 { get; }
+        public virtual SelectExpression Source2 { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+    }
+    public class SqlBinaryExpression : SqlExpression {
+        public SqlBinaryExpression(ExpressionType operatorType, SqlExpression left, SqlExpression right, Type type, RelationalTypeMapping typeMapping);
+        public virtual SqlExpression Left { get; }
+        public virtual ExpressionType OperatorType { get; }
+        public virtual SqlExpression Right { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual SqlBinaryExpression Update(SqlExpression left, SqlExpression right);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class SqlConstantExpression : SqlExpression {
+        public SqlConstantExpression(ConstantExpression constantExpression, RelationalTypeMapping typeMapping);
+        public virtual object Value { get; }
+        public virtual SqlExpression ApplyTypeMapping(RelationalTypeMapping typeMapping);
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public abstract class SqlExpression : Expression, IPrintableExpression {
+        protected SqlExpression(Type type, RelationalTypeMapping typeMapping);
+        public sealed override ExpressionType NodeType { get; }
+        public override Type Type { get; }
+        public virtual RelationalTypeMapping TypeMapping { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public abstract void Print(ExpressionPrinter expressionPrinter);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class SqlFragmentExpression : SqlExpression {
+        public string Sql { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class SqlFunctionExpression : SqlExpression {
+        public SqlFunctionExpression(Expression instance, string schema, string name, bool niladic, IEnumerable<SqlExpression> arguments, bool builtIn, Type type, RelationalTypeMapping typeMapping);
+        public virtual IReadOnlyList<SqlExpression> Arguments { get; }
+        public virtual Expression Instance { get; }
+        public virtual bool IsBuiltIn { get; }
+        public virtual bool IsNiladic { get; }
+        public virtual string Name { get; }
+        public virtual string Schema { get; }
+        public virtual SqlFunctionExpression ApplyTypeMapping(RelationalTypeMapping typeMapping);
+        public static SqlFunctionExpression Create(SqlExpression instance, string name, IEnumerable<SqlExpression> arguments, Type type, RelationalTypeMapping typeMapping);
+        public static SqlFunctionExpression Create(string name, IEnumerable<SqlExpression> arguments, Type type, RelationalTypeMapping typeMapping);
+        public static SqlFunctionExpression Create(string schema, string name, IEnumerable<SqlExpression> arguments, Type type, RelationalTypeMapping typeMapping);
+        public static SqlFunctionExpression CreateNiladic(SqlExpression instance, string name, Type type, RelationalTypeMapping typeMapping);
+        public static SqlFunctionExpression CreateNiladic(string schema, string name, Type type, RelationalTypeMapping typeMapping);
+        public static SqlFunctionExpression CreateNiladic(string name, Type type, RelationalTypeMapping typeMapping);
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual SqlFunctionExpression Update(SqlExpression instance, IReadOnlyList<SqlExpression> arguments);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class SqlParameterExpression : SqlExpression {
+        public string Name { get; }
+        public SqlExpression ApplyTypeMapping(RelationalTypeMapping typeMapping);
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class SqlUnaryExpression : SqlExpression {
+        public SqlUnaryExpression(ExpressionType operatorType, SqlExpression operand, Type type, RelationalTypeMapping typeMapping);
+        public virtual SqlExpression Operand { get; }
+        public virtual ExpressionType OperatorType { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual SqlUnaryExpression Update(SqlExpression operand);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class TableExpression : TableExpressionBase {
+        public string Name { get; }
+        public string Schema { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+    }
+    public abstract class TableExpressionBase : Expression, IPrintableExpression {
+        protected TableExpressionBase(string alias);
+        public virtual string Alias { get; internal set; }
+        public sealed override ExpressionType NodeType { get; }
+        public override Type Type { get; }
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public abstract void Print(ExpressionPrinter expressionPrinter);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+    public class UnionExpression : SetOperationBase {
+        public UnionExpression(string alias, SelectExpression source1, SelectExpression source2, bool distinct);
+        public override bool Equals(object obj);
+        public override int GetHashCode();
+        public override void Print(ExpressionPrinter expressionPrinter);
+        public virtual UnionExpression Update(SelectExpression source1, SelectExpression source2);
+        protected override Expression VisitChildren(ExpressionVisitor visitor);
+    }
+}
```

