# Microsoft.EntityFrameworkCore.Scaffolding

``` diff
 namespace Microsoft.EntityFrameworkCore.Scaffolding {
+    public abstract class DatabaseModelFactory : IDatabaseModelFactory {
+        protected DatabaseModelFactory();
+        public abstract DatabaseModel Create(DbConnection connection, DatabaseModelFactoryOptions options);
+        public abstract DatabaseModel Create(string connectionString, DatabaseModelFactoryOptions options);
+    }
+    public class DatabaseModelFactoryOptions {
+        public DatabaseModelFactoryOptions(IEnumerable<string> tables = null, IEnumerable<string> schemas = null);
+        public virtual IEnumerable<string> Schemas { get; }
+        public virtual IEnumerable<string> Tables { get; }
+    }
     public interface IDatabaseModelFactory {
+        DatabaseModel Create(DbConnection connection, DatabaseModelFactoryOptions options);
-        DatabaseModel Create(DbConnection connection, IEnumerable<string> tables, IEnumerable<string> schemas);

+        DatabaseModel Create(string connectionString, DatabaseModelFactoryOptions options);
-        DatabaseModel Create(string connectionString, IEnumerable<string> tables, IEnumerable<string> schemas);

     }
     public interface IModelCodeGenerator : ILanguageBasedService {
+        ScaffoldedModel GenerateModel(IModel model, ModelCodeGenerationOptions options);
-        ScaffoldedModel GenerateModel(IModel model, string @namespace, string contextDir, string contextName, string connectionString, ModelCodeGenerationOptions options);

     }
     public interface IProviderConfigurationCodeGenerator {
-        MethodCallCodeFragment GenerateUseProvider(string connectionString);

     }
     public interface IReverseEngineerScaffolder {
+        ScaffoldedModel ScaffoldModel(string connectionString, DatabaseModelFactoryOptions databaseOptions, ModelReverseEngineerOptions modelOptions, ModelCodeGenerationOptions codeOptions);
-        ScaffoldedModel ScaffoldModel(string connectionString, IEnumerable<string> tables, IEnumerable<string> schemas, string @namespace, string language, string contextDir, string contextName, ModelReverseEngineerOptions modelOptions, ModelCodeGenerationOptions codeOptions);

     }
-    public interface IScaffoldingProviderCodeGenerator {
 {
-        string GenerateUseProvider(string connectionString, string language);

-    }
     public class ModelCodeGenerationOptions {
+        public virtual string ConnectionString { get; set; }
+        public virtual string ContextDir { get; set; }
+        public virtual string ContextName { get; set; }
+        public virtual string ContextNamespace { get; set; }
+        public virtual string Language { get; set; }
+        public virtual string ModelNamespace { get; set; }
+        public virtual string RootNamespace { get; set; }
     }
     public abstract class ModelCodeGenerator : ILanguageBasedService, IModelCodeGenerator {
+        public abstract ScaffoldedModel GenerateModel(IModel model, ModelCodeGenerationOptions options);
-        public abstract ScaffoldedModel GenerateModel(IModel model, string @namespace, string contextDir, string contextName, string connectionString, ModelCodeGenerationOptions options);

     }
     public abstract class ProviderCodeGenerator : IProviderConfigurationCodeGenerator {
-        public virtual MethodCallCodeFragment GenerateUseProvider(string connectionString);

-        public virtual MethodCallCodeFragment GenerateUseProvider(string connectionString, MethodCallCodeFragment providerOptions);
+        public abstract MethodCallCodeFragment GenerateUseProvider(string connectionString, MethodCallCodeFragment providerOptions);
     }
 }
```

