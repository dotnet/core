# Microsoft.EntityFrameworkCore.Migrations.Design

``` diff
 namespace Microsoft.EntityFrameworkCore.Migrations.Design {
     public class CSharpMigrationOperationGenerator : ICSharpMigrationOperationGenerator {
+        protected virtual void Generate(CreateCheckConstraintOperation operation, IndentedStringBuilder builder);
+        protected virtual void Generate(DropCheckConstraintOperation operation, IndentedStringBuilder builder);
     }
     public class CSharpSnapshotGenerator : ICSharpSnapshotGenerator {
+        protected virtual void GenerateCheckConstraint(string builderName, ICheckConstraint checkConstraint, IndentedStringBuilder stringBuilder);
+        protected virtual void GenerateCheckConstraints(string builderName, IEntityType entityType, IndentedStringBuilder stringBuilder);
     }
     public sealed class CSharpSnapshotGeneratorDependencies {
-        public CSharpSnapshotGeneratorDependencies(ICSharpHelper csharpHelper);

+        public CSharpSnapshotGeneratorDependencies(ICSharpHelper csharpHelper, IRelationalTypeMappingSource relationalTypeMappingSource);
+        public IRelationalTypeMappingSource RelationalTypeMappingSource { get; }
+        public CSharpSnapshotGeneratorDependencies With(IRelationalTypeMappingSource relationalTypeMappingSource);
     }
     public abstract class MigrationsCodeGenerator : ILanguageBasedService, IMigrationsCodeGenerator {
-        public MigrationsCodeGenerator(MigrationsCodeGeneratorDependencies dependencies);
+        protected MigrationsCodeGenerator(MigrationsCodeGeneratorDependencies dependencies);
     }
     public sealed class MigrationsCodeGeneratorDependencies {
-        public MigrationsCodeGeneratorDependencies();

+        public MigrationsCodeGeneratorDependencies(IRelationalTypeMappingSource relationalTypeMappingSource);
+        public IRelationalTypeMappingSource RelationalTypeMappingSource { get; }
+        public MigrationsCodeGeneratorDependencies With(IRelationalTypeMappingSource relationalTypeMappingSource);
     }
     public sealed class MigrationsScaffolderDependencies {
+        public MigrationsScaffolderDependencies(ICurrentDbContext currentContext, IModel model, IMigrationsAssembly migrationsAssembly, IMigrationsModelDiffer migrationsModelDiffer, IMigrationsIdGenerator migrationsIdGenerator, IMigrationsCodeGeneratorSelector migrationsCodeGeneratorSelector, IHistoryRepository historyRepository, IOperationReporter operationReporter, IDatabaseProvider databaseProvider, ISnapshotModelProcessor snapshotModelProcessor, IMigrator migrator);
-        public MigrationsScaffolderDependencies(ICurrentDbContext currentDbContext, IModel model, IMigrationsAssembly migrationsAssembly, IMigrationsModelDiffer migrationsModelDiffer, IMigrationsIdGenerator migrationsIdGenerator, IMigrationsCodeGeneratorSelector migrationsCodeGeneratorSelector, IHistoryRepository historyRepository, IOperationReporter operationReporter, IDatabaseProvider databaseProvider, ISnapshotModelProcessor snapshotModelProcessor, IMigrator migrator);

+        public ICurrentDbContext CurrentContext { get; }
-        public ICurrentDbContext CurrentDbContext { get; }

-        public IMigrationsCodeGenerator MigrationCodeGenerator { get; }

+        public MigrationsScaffolderDependencies With(ICurrentDbContext currentContext);
-        public MigrationsScaffolderDependencies With(ICurrentDbContext currentDbContext);

-        public MigrationsScaffolderDependencies With(IMigrationsCodeGenerator migrationCodeGenerator);

     }
 }
```

