# Microsoft.EntityFrameworkCore.ChangeTracking

``` diff
 namespace Microsoft.EntityFrameworkCore.ChangeTracking {
+    public enum CascadeTiming {
+        Immediate = 0,
+        Never = 2,
+        OnSaveChanges = 1,
+    }
-    public class ChangeTracker : IInfrastructure<IStateManager>, IResettableService {
+    public class ChangeTracker : IResettableService {
+        public virtual CascadeTiming CascadeDeleteTiming { get; set; }
+        public virtual CascadeTiming DeleteOrphansTiming { get; set; }
-        IStateManager Microsoft.EntityFrameworkCore.Infrastructure.IInfrastructure<Microsoft.EntityFrameworkCore.ChangeTracking.Internal.IStateManager>.Instance { get; }

+        public virtual void CascadeChanges();
+        Task Microsoft.EntityFrameworkCore.Infrastructure.IResettableService.ResetStateAsync(CancellationToken cancellationToken);
-        public virtual void TrackGraph<TState>(object rootEntity, TState state, Func<EntityEntryGraphNode, TState, bool> callback);

+        public virtual void TrackGraph<TState>(object rootEntity, TState state, Func<EntityEntryGraphNode<TState>, bool> callback);
     }
     public class CollectionEntry : NavigationEntry {
-        protected virtual void EnsureInitialized();

+        public virtual EntityEntry FindEntry(object entity);
+        protected virtual InternalEntityEntry GetInternalTargetEntry(object entity);
     }
-    public class CollectionEntry<TEntity, TProperty> : CollectionEntry where TEntity : class where TProperty : class {
 {
-        public CollectionEntry(InternalEntityEntry internalEntry, INavigation navigation);

-        public CollectionEntry(InternalEntityEntry internalEntry, string name);

-        public virtual new IEnumerable<TProperty> CurrentValue { get; set; }

-        public virtual new EntityEntry<TEntity> EntityEntry { get; }

-        public virtual new IQueryable<TProperty> Query();

-    }
+    public class CollectionEntry<TEntity, TRelatedEntity> : CollectionEntry where TEntity : class where TRelatedEntity : class {
+        public CollectionEntry(InternalEntityEntry internalEntry, INavigation navigation);
+        public CollectionEntry(InternalEntityEntry internalEntry, string name);
+        public virtual new IEnumerable<TRelatedEntity> CurrentValue { get; set; }
+        public virtual new EntityEntry<TEntity> EntityEntry { get; }
+        public virtual new EntityEntry<TRelatedEntity> FindEntry(object entity);
+        public virtual new IQueryable<TRelatedEntity> Query();
+    }
     public class EntityEntry : IInfrastructure<InternalEntityEntry> {
+        public virtual void DetectChanges();
     }
     public class EntityEntryGraphNode : IInfrastructure<InternalEntityEntry> {
-        public virtual object NodeState { get; set; }

     }
+    public class EntityEntryGraphNode<TState> : EntityEntryGraphNode {
+        public EntityEntryGraphNode(InternalEntityEntry entry, TState state, InternalEntityEntry sourceEntry, INavigation inboundNavigation);
+        public virtual TState NodeState { get; }
+        public override EntityEntryGraphNode CreateNode(EntityEntryGraphNode currentNode, InternalEntityEntry internalEntityEntry, INavigation reachedVia);
+    }
     public interface IEntityEntryGraphIterator {
-        void TraverseGraph<TState>(EntityEntryGraphNode node, TState state, Func<EntityEntryGraphNode, TState, bool> handleNode);

+        void TraverseGraph<TState>(EntityEntryGraphNode<TState> node, Func<EntityEntryGraphNode<TState>, bool> handleNode);
-        Task TraverseGraphAsync<TState>(EntityEntryGraphNode node, TState state, Func<EntityEntryGraphNode, TState, CancellationToken, Task<bool>> handleNode, CancellationToken cancellationToken = default(CancellationToken));

+        Task TraverseGraphAsync<TState>(EntityEntryGraphNode<TState> node, Func<EntityEntryGraphNode<TState>, CancellationToken, Task<bool>> handleNode, CancellationToken cancellationToken = default(CancellationToken));
     }
     public abstract class ValueComparer : IEqualityComparer {
-        public abstract new bool Equals(object left, object right);
+        public abstract bool Equals(object left, object right);
     }
 }
```

