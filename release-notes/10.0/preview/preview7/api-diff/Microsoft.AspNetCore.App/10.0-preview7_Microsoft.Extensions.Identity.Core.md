# Microsoft.Extensions.Identity.Core

```diff
  namespace Microsoft.AspNetCore.Identity
  {
      public class IdentityOptions
      {
-         public Microsoft.AspNetCore.Identity.PasskeyOptions Passkey { get; set; }
      }
      public interface IUserPasskeyStore<TUser> : Microsoft.AspNetCore.Identity.IUserStore<TUser>, System.IDisposable where TUser : class
      {
-         System.Threading.Tasks.Task SetPasskeyAsync(TUser user, Microsoft.AspNetCore.Identity.UserPasskeyInfo passkey, System.Threading.CancellationToken cancellationToken);
+         System.Threading.Tasks.Task AddOrUpdatePasskeyAsync(TUser user, Microsoft.AspNetCore.Identity.UserPasskeyInfo passkey, System.Threading.CancellationToken cancellationToken);
      }
-     public class PasskeyOptions
-     {
-         public PasskeyOptions();
-         public bool AllowCrossOriginIframes { get; set; }
-         public bool AllowCurrentOrigin { get; set; }
-         public System.Collections.Generic.IList<string> AllowedOrigins { get; set; }
-         public Microsoft.AspNetCore.Identity.PasskeyOptions.CredentialBackupPolicy BackedUpCredentialPolicy { get; set; }
-         public Microsoft.AspNetCore.Identity.PasskeyOptions.CredentialBackupPolicy BackupEligibleCredentialPolicy { get; set; }
-         public int ChallengeSize { get; set; }
-         public string? ServerDomain { get; set; }
-         public System.TimeSpan Timeout { get; set; }
-         public enum CredentialBackupPolicy
-         {
-             Required = 0,
-             Allowed = 1,
-             Disallowed = 2,
-         }
-     }
      public class UserManager<TUser> : System.IDisposable where TUser : class
      {
-         public virtual System.Threading.Tasks.Task<Microsoft.AspNetCore.Identity.IdentityResult> SetPasskeyAsync(TUser user, Microsoft.AspNetCore.Identity.UserPasskeyInfo passkey);
+         public virtual System.Threading.Tasks.Task<Microsoft.AspNetCore.Identity.IdentityResult> AddOrUpdatePasskeyAsync(TUser user, Microsoft.AspNetCore.Identity.UserPasskeyInfo passkey);
+         public System.IServiceProvider ServiceProvider { get; }
      }
      public sealed class UserPasskeyInfo
      {
-         public UserPasskeyInfo(byte[] credentialId, byte[] publicKey, string? name, System.DateTimeOffset createdAt, uint signCount, string[]? transports, bool isUserVerified, bool isBackupEligible, bool isBackedUp, byte[] attestationObject, byte[] clientDataJson);
+         public UserPasskeyInfo(byte[] credentialId, byte[] publicKey, System.DateTimeOffset createdAt, uint signCount, string[]? transports, bool isUserVerified, bool isBackupEligible, bool isBackedUp, byte[] attestationObject, byte[] clientDataJson);
      }
  }
```
