# Microsoft.AspNetCore.Components

```diff
  namespace Microsoft.AspNetCore.Components
  {
      public class PersistentComponentState
      {
+         public Microsoft.AspNetCore.Components.RestoringComponentStateSubscription RegisterOnRestoring(System.Action callback, Microsoft.AspNetCore.Components.RestoreOptions options);
      }
      public sealed class PersistentStateAttribute : Microsoft.AspNetCore.Components.CascadingParameterAttributeBase
      {
+         public bool AllowUpdates { get; set; }
+         public Microsoft.AspNetCore.Components.RestoreBehavior RestoreBehavior { get; set; }
      }
+     [System.Diagnostics.DebuggerDisplayAttribute("{GetDebuggerDisplay(),nq}")]
      public sealed class RendererInfo
      {
      }
+     [System.FlagsAttribute]
+     public enum RestoreBehavior
+     {
+         Default = 0,
+         SkipInitialValue = 1,
+         SkipLastSnapshot = 2,
+     }
+     public sealed class RestoreContext
+     {
+         public static Microsoft.AspNetCore.Components.RestoreContext InitialValue { get; }
+         public static Microsoft.AspNetCore.Components.RestoreContext LastSnapshot { get; }
+         public static Microsoft.AspNetCore.Components.RestoreContext ValueUpdate { get; }
+     }
+     public readonly struct RestoreOptions
+     {
+         public RestoreOptions();
+         public bool AllowUpdates { get; init; }
+         public Microsoft.AspNetCore.Components.RestoreBehavior RestoreBehavior { get; init; }
+     }
+     public readonly struct RestoringComponentStateSubscription : System.IDisposable
+     {
+         public readonly void Dispose();
+     }
  }
  namespace Microsoft.AspNetCore.Components.Infrastructure
  {
      public class ComponentStatePersistenceManager
      {
+         public System.Threading.Tasks.Task RestoreStateAsync(Microsoft.AspNetCore.Components.IPersistentComponentStateStore store, Microsoft.AspNetCore.Components.RestoreContext context);
      }
  }
  namespace Microsoft.AspNetCore.Components.Rendering
  {
      public class ComponentState : System.IAsyncDisposable
      {
+         protected internal Microsoft.AspNetCore.Components.RenderTree.Renderer Renderer { get; }
      }
  }
```
