# Microsoft.AspNetCore.Identity

```diff
  namespace Microsoft.AspNetCore.Identity
  {
      public class SignInManager<TUser> where TUser : class
      {
+         public virtual System.Threading.Tasks.Task<string> MakePasskeyCreationOptionsAsync(Microsoft.AspNetCore.Identity.PasskeyUserEntity userEntity);
+         public virtual System.Threading.Tasks.Task<string> MakePasskeyRequestOptionsAsync(TUser? user);
+         public virtual System.Threading.Tasks.Task<Microsoft.AspNetCore.Identity.SignInResult> PasskeySignInAsync(string credentialJson);
+         public virtual System.Threading.Tasks.Task<Microsoft.AspNetCore.Identity.PasskeyAssertionResult<TUser>> PerformPasskeyAssertionAsync(string credentialJson);
+         public virtual System.Threading.Tasks.Task<Microsoft.AspNetCore.Identity.PasskeyAttestationResult> PerformPasskeyAttestationAsync(string credentialJson);
      }
+     public class IdentityPasskeyOptions
+     {
+         public IdentityPasskeyOptions();
+         public string? AttestationConveyancePreference { get; set; }
+         public string? AuthenticatorAttachment { get; set; }
+         public System.TimeSpan AuthenticatorTimeout { get; set; }
+         public int ChallengeSize { get; set; }
+         public System.Func<int, bool>? IsAllowedAlgorithm { get; set; }
+         public string? ResidentKeyRequirement { get; set; }
+         public string? ServerDomain { get; set; }
+         public string? UserVerificationRequirement { get; set; }
+         public System.Func<Microsoft.AspNetCore.Identity.PasskeyOriginValidationContext, System.Threading.Tasks.ValueTask<bool>>? ValidateOrigin { get; set; }
+         public System.Func<Microsoft.AspNetCore.Identity.PasskeyAttestationStatementVerificationContext, System.Threading.Tasks.ValueTask<bool>>? VerifyAttestationStatement { get; set; }
+     }
+     public interface IPasskeyHandler<TUser>
+         where TUser : class
+     {
+         System.Threading.Tasks.Task<Microsoft.AspNetCore.Identity.PasskeyCreationOptionsResult> MakeCreationOptionsAsync(Microsoft.AspNetCore.Identity.PasskeyUserEntity userEntity, Microsoft.AspNetCore.Http.HttpContext httpContext);
+         System.Threading.Tasks.Task<Microsoft.AspNetCore.Identity.PasskeyRequestOptionsResult> MakeRequestOptionsAsync(TUser? user, Microsoft.AspNetCore.Http.HttpContext httpContext);
+         System.Threading.Tasks.Task<Microsoft.AspNetCore.Identity.PasskeyAssertionResult<TUser>> PerformAssertionAsync(Microsoft.AspNetCore.Identity.PasskeyAssertionContext context);
+         System.Threading.Tasks.Task<Microsoft.AspNetCore.Identity.PasskeyAttestationResult> PerformAttestationAsync(Microsoft.AspNetCore.Identity.PasskeyAttestationContext context);
+     }
+     public sealed class PasskeyAssertionContext
+     {
+         public PasskeyAssertionContext();
+         public required string? AssertionState { get; init; }
+         public required string CredentialJson { get; init; }
+         public required Microsoft.AspNetCore.Http.HttpContext HttpContext { get; init; }
+     }
+     public static class PasskeyAssertionResult
+     {
+         public static Microsoft.AspNetCore.Identity.PasskeyAssertionResult<TUser> Fail<TUser>(Microsoft.AspNetCore.Identity.PasskeyException failure)
+             where TUser : class;
+         public static Microsoft.AspNetCore.Identity.PasskeyAssertionResult<TUser> Success<TUser>(Microsoft.AspNetCore.Identity.UserPasskeyInfo passkey, TUser user)
+             where TUser : class;
+     }
+     public sealed class PasskeyAssertionResult<TUser> where TUser : class
+     {
+ public Microsoft.AspNetCore.Identity.PasskeyException? Failure { get; }
+         public Microsoft.AspNetCore.Identity.UserPasskeyInfo? Passkey { get; }
+         [System.Diagnostics.CodeAnalysis.MemberNotNullWhenAttribute(true, "Passkey")]
+         [System.Diagnostics.CodeAnalysis.MemberNotNullWhenAttribute(true, "User")]
+         [System.Diagnostics.CodeAnalysis.MemberNotNullWhenAttribute(false, "Failure")]
+         public bool Succeeded { get; }
+         public TUser? User { get; }
+     }
+     public sealed class PasskeyAttestationContext
+     {
+         public PasskeyAttestationContext();
+         public required string? AttestationState { get; init; }
+         public required string CredentialJson { get; init; }
+         public required Microsoft.AspNetCore.Http.HttpContext HttpContext { get; init; }
+     }
+     public sealed class PasskeyAttestationResult
+     {
+         public static Microsoft.AspNetCore.Identity.PasskeyAttestationResult Fail(Microsoft.AspNetCore.Identity.PasskeyException failure);
+         public static Microsoft.AspNetCore.Identity.PasskeyAttestationResult Success(Microsoft.AspNetCore.Identity.UserPasskeyInfo passkey, Microsoft.AspNetCore.Identity.PasskeyUserEntity userEntity);
+ public Microsoft.AspNetCore.Identity.PasskeyException? Failure { get; }
+         public Microsoft.AspNetCore.Identity.UserPasskeyInfo? Passkey { get; }
+         [System.Diagnostics.CodeAnalysis.MemberNotNullWhenAttribute(true, "Passkey")]
+         [System.Diagnostics.CodeAnalysis.MemberNotNullWhenAttribute(true, "UserEntity")]
+         [System.Diagnostics.CodeAnalysis.MemberNotNullWhenAttribute(false, "Failure")]
+         public bool Succeeded { get; }
+         public Microsoft.AspNetCore.Identity.PasskeyUserEntity? UserEntity { get; }
+     }
+     public sealed class PasskeyAttestationStatementVerificationContext
+     {
+         public PasskeyAttestationStatementVerificationContext();
+         public required System.ReadOnlyMemory<byte> AttestationObject { get; init; }
+         public required System.ReadOnlyMemory<byte> ClientDataHash { get; init; }
+         public required Microsoft.AspNetCore.Http.HttpContext HttpContext { get; init; }
+     }
+     public sealed class PasskeyCreationOptionsResult
+     {
+         public PasskeyCreationOptionsResult();
+         public string? AttestationState { get; init; }
+         public required string CreationOptionsJson { get; init; }
+     }
+     public sealed class PasskeyException : System.Exception
+     {
+         public PasskeyException(string message, System.Exception? innerException);
+         public PasskeyException(string message);
+     }
+     public sealed class PasskeyHandler<TUser> : Microsoft.AspNetCore.Identity.IPasskeyHandler<TUser> where TUser : class
+     {
+         public PasskeyHandler(Microsoft.AspNetCore.Identity.UserManager<TUser> userManager, Microsoft.Extensions.Options.IOptions<Microsoft.AspNetCore.Identity.IdentityPasskeyOptions> options);
+         public System.Threading.Tasks.Task<Microsoft.AspNetCore.Identity.PasskeyCreationOptionsResult> MakeCreationOptionsAsync(Microsoft.AspNetCore.Identity.PasskeyUserEntity userEntity, Microsoft.AspNetCore.Http.HttpContext httpContext);
+         public System.Threading.Tasks.Task<Microsoft.AspNetCore.Identity.PasskeyRequestOptionsResult> MakeRequestOptionsAsync(TUser? user, Microsoft.AspNetCore.Http.HttpContext httpContext);
+         public System.Threading.Tasks.Task<Microsoft.AspNetCore.Identity.PasskeyAssertionResult<TUser>> PerformAssertionAsync(Microsoft.AspNetCore.Identity.PasskeyAssertionContext context);
+         public System.Threading.Tasks.Task<Microsoft.AspNetCore.Identity.PasskeyAttestationResult> PerformAttestationAsync(Microsoft.AspNetCore.Identity.PasskeyAttestationContext context);
+     }
+     public sealed class PasskeyOriginValidationContext
+     {
+         public PasskeyOriginValidationContext();
+         public required bool CrossOrigin { get; init; }
+         public required Microsoft.AspNetCore.Http.HttpContext HttpContext { get; init; }
+         public required string Origin { get; init; }
+         public string? TopOrigin { get; init; }
+     }
+     public sealed class PasskeyRequestOptionsResult
+     {
+         public PasskeyRequestOptionsResult();
+         public string? AssertionState { get; init; }
+         public required string RequestOptionsJson { get; init; }
+     }
+     public sealed class PasskeyUserEntity
+     {
+         public PasskeyUserEntity();
+         public required string DisplayName { get; init; }
+         public required string Id { get; init; }
+         public required string Name { get; init; }
+     }
  }
```
