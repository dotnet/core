{
  "kind": "workflows",
  "title": "Breaking Changes Workflows",
  "schema_version": "2.0",
  "skill": "breaking-changes",
  "ai_note": "Workflows chain via next_workflow. Follow the chain until your query is satisfied.",
  "_links": {
    "self": {
      "href": "https://raw.githubusercontent.com/dotnet/core/refs/heads/release-index/release-notes/skills/breaking-changes/workflows.json"
    }
  },
  "_embedded": {
    "entry_point": {
      "description": "Route breaking changes queries to the right workflow",
      "decision": {
        "all_changes": { "workflow": "breaking-changes-all", "hint": "list, count, overview" },
        "high_impact": { "workflow": "breaking-changes-high-impact", "hint": "critical, must-fix, urgent" },
        "by_category": { "workflow": "breaking-changes-by-category", "hint": "ASP.NET, SDK, libraries" },
        "migration_docs": { "workflow": "migration-guidance", "hint": "how to fix, code samples" }
      }
    },
    "workflows": {
      "breaking-changes-all": {
        "description": "All breaking changes for the latest .NET version",
        "follow_path": ["kind:llms", "latest-major", "manifest", "compatibility"],
        "destination_kind": "compatibility",
        "yields": {
          "data": "breaks[]",
          "fields": ["id", "title", "category", "type", "impact"]
        },
        "next_workflow": {
          "condition": "migration steps or code samples needed",
          "workflow": "migration-extraction",
          "via": "follow breaks[].references[type='documentation']"
        }
      },
      "breaking-changes-high-impact": {
        "description": "High-impact breaking changes requiring immediate attention",
        "follow_path": ["kind:llms", "latest-major", "manifest", "compatibility"],
        "destination_kind": "compatibility",
        "filter": "$.breaks[?(@.impact == 'high')]",
        "yields": {
          "data": "breaks[] where impact='high'",
          "fields": ["id", "title", "category", "affected_apis"]
        },
        "next_workflow": {
          "condition": "migration steps needed for any high-impact change",
          "workflow": "migration-extraction",
          "via": "follow breaks[].references[type='documentation']"
        }
      },
      "breaking-changes-by-category": {
        "description": "Breaking changes filtered by category",
        "follow_path": ["kind:llms", "latest-major", "manifest", "compatibility"],
        "destination_kind": "compatibility",
        "filter": "$.breaks[?(@.category == '{category}')]",
        "templated": true,
        "categories": ["aspnet-core", "sdk", "core-libraries", "windows-forms", "wpf", "cryptography", "extensions", "networking", "serialization"],
        "yields": {
          "data": "breaks[] for category"
        },
        "next_workflow": {
          "condition": "migration docs needed",
          "workflow": "migration-extraction"
        }
      },
      "breaking-changes-by-version": {
        "description": "Breaking changes for a specific .NET version",
        "follow_path": ["kind:llms", "patches.{version}", "major-manifest", "compatibility"],
        "destination_kind": "compatibility",
        "templated": true,
        "yields": {
          "data": "breaks[]"
        },
        "next_workflow": {
          "condition": "migration docs needed",
          "workflow": "migration-extraction"
        }
      },
      "migration-guidance": {
        "description": "Start here when user needs how-to-fix guidance",
        "follow_path": ["kind:llms", "latest-major", "manifest", "compatibility"],
        "destination_kind": "compatibility",
        "next_workflow": {
          "always": true,
          "workflow": "migration-extraction"
        }
      },
      "migration-extraction": {
        "kind": "extraction",
        "description": "Extract migration docs from compatibility.json",
        "source": "compatibility.json already fetched",
        "patterns": {
          "doc_url": "$.breaks[].references[?(@.type == 'documentation')].url",
          "html_url": "$.breaks[].references[?(@.type == 'documentation-html')].url"
        },
        "guidance": [
          "Use documentation URLs for raw markdown (LLM-friendly)",
          "Use documentation-html URLs for human-readable links",
          "Only fetch documentation URL if user needs migration steps or code samples"
        ]
      }
    }
  }
}
